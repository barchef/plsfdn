{"version":3,"file":"static/js/212.43349063.chunk.js","mappings":"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","sources":["../node_modules/@metamask/json-rpc-engine/dist/JsonRpcEngine.js","../node_modules/@metamask/json-rpc-engine/dist/createAsyncMiddleware.js","../node_modules/@metamask/json-rpc-engine/dist/createScaffoldMiddleware.js","../node_modules/@metamask/json-rpc-engine/dist/getUniqueId.js","../node_modules/@metamask/json-rpc-engine/dist/idRemapMiddleware.js","../node_modules/@metamask/json-rpc-engine/dist/index.js","../node_modules/@metamask/json-rpc-engine/dist/mergeMiddleware.js","../node_modules/@metamask/json-rpc-engine/node_modules/@metamask/safe-event-emitter/index.js","../node_modules/@metamask/object-multiplex/dist/ObjectMultiplex.js","../node_modules/@metamask/object-multiplex/dist/Substream.js","../node_modules/@metamask/object-multiplex/dist/index.js","../node_modules/@metamask/providers/dist/BaseProvider.js","../node_modules/@metamask/providers/dist/EIP6963.js","../node_modules/@metamask/providers/dist/MetaMaskInpageProvider.js","../node_modules/@metamask/providers/dist/StreamProvider.js","../node_modules/@metamask/providers/dist/constants.js","../node_modules/@metamask/providers/dist/extension-provider/createExternalExtensionProvider.js","../node_modules/@metamask/providers/dist/index.js","../node_modules/@metamask/providers/dist/initializeInpageProvider.js","../node_modules/@metamask/providers/dist/messages.js","../node_modules/@metamask/providers/dist/middleware/createRpcWarningMiddleware.js","../node_modules/@metamask/providers/dist/shimWeb3.js","../node_modules/@metamask/providers/dist/siteMetadata.js","../node_modules/@metamask/providers/dist/utils.js","../node_modules/@metamask/providers/node_modules/@metamask/safe-event-emitter/index.js","../node_modules/@metamask/rpc-errors/dist/classes.js","../node_modules/@metamask/rpc-errors/dist/error-constants.js","../node_modules/@metamask/rpc-errors/dist/errors.js","../node_modules/@metamask/rpc-errors/dist/index.js","../node_modules/@metamask/rpc-errors/dist/utils.js","../node_modules/@metamask/utils/dist/chunk-2LBGT4GH.js","../node_modules/@metamask/utils/dist/chunk-3W5G4CYI.js","../node_modules/@metamask/utils/dist/chunk-4D6XQBHA.js","../node_modules/@metamask/utils/dist/chunk-4RMX5YWE.js","../node_modules/@metamask/utils/dist/chunk-6NZW4WK4.js","../node_modules/@metamask/utils/dist/chunk-6ZDHSOUV.js","../node_modules/@metamask/utils/dist/chunk-DHVKFDHQ.js","../node_modules/@metamask/utils/dist/chunk-E4C7EW4R.js","../node_modules/@metamask/utils/dist/chunk-IZC266HS.js","../node_modules/@metamask/utils/dist/chunk-OLLG4H35.js","../node_modules/@metamask/utils/dist/chunk-QEPVHEP7.js","../node_modules/@metamask/utils/dist/chunk-QVEKZRZ2.js","../node_modules/@metamask/utils/dist/chunk-U7ZUGCE7.js","../node_modules/@metamask/utils/dist/chunk-VFXTVNXN.js","../node_modules/@metamask/utils/dist/chunk-Z2RGWDD7.js","../node_modules/@metamask/utils/dist/index.js","../node_modules/@metamask/utils/node_modules/@noble/hashes/_assert.js","../node_modules/@metamask/utils/node_modules/@noble/hashes/_u64.js","../node_modules/@metamask/utils/node_modules/@noble/hashes/crypto.js","../node_modules/@metamask/utils/node_modules/@noble/hashes/sha3.js","../node_modules/@metamask/utils/node_modules/@noble/hashes/utils.js","../node_modules/@metamask/utils/node_modules/@scure/base/lib/index.js","../node_modules/abort-controller/browser.js","../node_modules/detect-browser/es/index.js","../node_modules/extension-port-stream/dist/index.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/add-abort-signal.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/buffer_list.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/compose.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/duplex.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/duplexify.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/from.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/legacy.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/operators.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/passthrough.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/pipeline.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/readable.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/state.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/transform.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/utils.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/streams/writable.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/internal/validators.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/ours/browser.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/ours/errors.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/ours/primordials.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/ours/util.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/stream.js","../node_modules/extension-port-stream/node_modules/readable-stream/lib/stream/promises.js","../node_modules/fast-deep-equal/index.js","../node_modules/fast-safe-stringify/index.js","../node_modules/is-stream/index.js","../node_modules/json-rpc-middleware-stream/dist/createEngineStream.js","../node_modules/json-rpc-middleware-stream/dist/createStreamMiddleware.js","../node_modules/json-rpc-middleware-stream/dist/index.js","../node_modules/json-rpc-middleware-stream/node_modules/@metamask/safe-event-emitter/index.js","../node_modules/once/once.js","../node_modules/pony-cause/index.js","../node_modules/wrappy/wrappy.js","../node_modules/pony-cause/lib/error-with-cause.mjs","../node_modules/pony-cause/lib/helpers.mjs"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _JsonRpcEngine_instances, _a, _JsonRpcEngine_isDestroyed, _JsonRpcEngine_middleware, _JsonRpcEngine_notificationHandler, _JsonRpcEngine_assertIsNotDestroyed, _JsonRpcEngine_handleBatch, _JsonRpcEngine_handle, _JsonRpcEngine_processRequest, _JsonRpcEngine_runAllMiddleware, _JsonRpcEngine_runMiddleware, _JsonRpcEngine_runReturnHandlers, _JsonRpcEngine_checkForCompletion;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcEngine = void 0;\nconst rpc_errors_1 = require(\"@metamask/rpc-errors\");\nconst safe_event_emitter_1 = __importDefault(require(\"@metamask/safe-event-emitter\"));\nconst utils_1 = require(\"@metamask/utils\");\nconst DESTROYED_ERROR_MESSAGE = 'This engine is destroyed and can no longer be used.';\n/**\n * A JSON-RPC request and response processor.\n * Give it a stack of middleware, pass it requests, and get back responses.\n */\nclass JsonRpcEngine extends safe_event_emitter_1.default {\n    /**\n     * Constructs a {@link JsonRpcEngine} instance.\n     *\n     * @param options - Options bag.\n     * @param options.notificationHandler - A function for handling JSON-RPC\n     * notifications. A JSON-RPC notification is defined as a JSON-RPC request\n     * without an `id` property. If this option is _not_ provided, notifications\n     * will be treated the same as requests. If this option _is_ provided,\n     * notifications will be passed to the handler function without touching\n     * the engine's middleware stack. This function should not throw or reject.\n     */\n    constructor({ notificationHandler } = {}) {\n        super();\n        _JsonRpcEngine_instances.add(this);\n        /**\n         * Indicating whether this engine is destroyed or not.\n         */\n        _JsonRpcEngine_isDestroyed.set(this, false);\n        _JsonRpcEngine_middleware.set(this, void 0);\n        _JsonRpcEngine_notificationHandler.set(this, void 0);\n        __classPrivateFieldSet(this, _JsonRpcEngine_middleware, [], \"f\");\n        __classPrivateFieldSet(this, _JsonRpcEngine_notificationHandler, notificationHandler, \"f\");\n    }\n    /**\n     * Calls the `destroy()` function of any middleware with that property, clears\n     * the middleware array, and marks this engine as destroyed. A destroyed\n     * engine cannot be used.\n     */\n    destroy() {\n        __classPrivateFieldGet(this, _JsonRpcEngine_middleware, \"f\").forEach((middleware) => {\n            if (\n            // `in` walks the prototype chain, which is probably the desired\n            // behavior here.\n            'destroy' in middleware &&\n                typeof middleware.destroy === 'function') {\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                middleware.destroy();\n            }\n        });\n        __classPrivateFieldSet(this, _JsonRpcEngine_middleware, [], \"f\");\n        __classPrivateFieldSet(this, _JsonRpcEngine_isDestroyed, true, \"f\");\n    }\n    /**\n     * Add a middleware function to the engine's middleware stack.\n     *\n     * @param middleware - The middleware function to add.\n     */\n    push(middleware) {\n        __classPrivateFieldGet(this, _JsonRpcEngine_instances, \"m\", _JsonRpcEngine_assertIsNotDestroyed).call(this);\n        __classPrivateFieldGet(this, _JsonRpcEngine_middleware, \"f\").push(middleware);\n    }\n    handle(req, callback) {\n        __classPrivateFieldGet(this, _JsonRpcEngine_instances, \"m\", _JsonRpcEngine_assertIsNotDestroyed).call(this);\n        if (callback && typeof callback !== 'function') {\n            throw new Error('\"callback\" must be a function if provided.');\n        }\n        if (Array.isArray(req)) {\n            if (callback) {\n                return __classPrivateFieldGet(this, _JsonRpcEngine_instances, \"m\", _JsonRpcEngine_handleBatch).call(this, req, callback);\n            }\n            return __classPrivateFieldGet(this, _JsonRpcEngine_instances, \"m\", _JsonRpcEngine_handleBatch).call(this, req);\n        }\n        if (callback) {\n            return __classPrivateFieldGet(this, _JsonRpcEngine_instances, \"m\", _JsonRpcEngine_handle).call(this, req, callback);\n        }\n        return this._promiseHandle(req);\n    }\n    /**\n     * Returns this engine as a middleware function that can be pushed to other\n     * engines.\n     *\n     * @returns This engine as a middleware function.\n     */\n    asMiddleware() {\n        __classPrivateFieldGet(this, _JsonRpcEngine_instances, \"m\", _JsonRpcEngine_assertIsNotDestroyed).call(this);\n        // eslint-disable-next-line @typescript-eslint/no-misused-promises\n        return (req, res, next, end) => __awaiter(this, void 0, void 0, function* () {\n            try {\n                const [middlewareError, isComplete, returnHandlers] = yield __classPrivateFieldGet(JsonRpcEngine, _a, \"m\", _JsonRpcEngine_runAllMiddleware).call(JsonRpcEngine, req, res, __classPrivateFieldGet(this, _JsonRpcEngine_middleware, \"f\"));\n                if (isComplete) {\n                    yield __classPrivateFieldGet(JsonRpcEngine, _a, \"m\", _JsonRpcEngine_runReturnHandlers).call(JsonRpcEngine, returnHandlers);\n                    return end(middlewareError);\n                }\n                // eslint-disable-next-line @typescript-eslint/no-misused-promises\n                return next((handlerCallback) => __awaiter(this, void 0, void 0, function* () {\n                    try {\n                        yield __classPrivateFieldGet(JsonRpcEngine, _a, \"m\", _JsonRpcEngine_runReturnHandlers).call(JsonRpcEngine, returnHandlers);\n                    }\n                    catch (error) {\n                        return handlerCallback(error);\n                    }\n                    return handlerCallback();\n                }));\n            }\n            catch (error) {\n                return end(error);\n            }\n        });\n    }\n    /**\n     * A promise-wrapped _handle.\n     *\n     * @param request - The JSON-RPC request.\n     * @returns The JSON-RPC response.\n     */\n    // This function is used in tests, so we cannot easily change it to use the\n    // hash syntax.\n    // eslint-disable-next-line no-restricted-syntax\n    _promiseHandle(request) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                __classPrivateFieldGet(this, _JsonRpcEngine_instances, \"m\", _JsonRpcEngine_handle).call(this, request, (error, res) => {\n                    // For notifications, the response will be `undefined`, and any caught\n                    // errors are unexpected and should be surfaced to the caller.\n                    if (error && res === undefined) {\n                        reject(error);\n                    }\n                    else {\n                        // Excepting notifications, there will always be a response, and it will\n                        // always have any error that is caught and propagated.\n                        resolve(res);\n                    }\n                }).catch(reject);\n            });\n        });\n    }\n}\nexports.JsonRpcEngine = JsonRpcEngine;\n_a = JsonRpcEngine, _JsonRpcEngine_isDestroyed = new WeakMap(), _JsonRpcEngine_middleware = new WeakMap(), _JsonRpcEngine_notificationHandler = new WeakMap(), _JsonRpcEngine_instances = new WeakSet(), _JsonRpcEngine_assertIsNotDestroyed = function _JsonRpcEngine_assertIsNotDestroyed() {\n    if (__classPrivateFieldGet(this, _JsonRpcEngine_isDestroyed, \"f\")) {\n        throw new Error(DESTROYED_ERROR_MESSAGE);\n    }\n}, _JsonRpcEngine_handleBatch = function _JsonRpcEngine_handleBatch(requests, callback) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // The order here is important\n        try {\n            // If the batch is an empty array, the response array must contain a single object\n            if (requests.length === 0) {\n                const response = [\n                    {\n                        id: null,\n                        jsonrpc: '2.0',\n                        error: new rpc_errors_1.JsonRpcError(rpc_errors_1.errorCodes.rpc.invalidRequest, 'Request batch must contain plain objects. Received an empty array'),\n                    },\n                ];\n                if (callback) {\n                    return callback(null, response);\n                }\n                return response;\n            }\n            // 2. Wait for all requests to finish, or throw on some kind of fatal\n            // error\n            const responses = (yield Promise.all(\n            // 1. Begin executing each request in the order received\n            requests.map(this._promiseHandle.bind(this)))).filter(\n            // Filter out any notification responses.\n            (response) => response !== undefined);\n            // 3. Return batch response\n            if (callback) {\n                return callback(null, responses);\n            }\n            return responses;\n        }\n        catch (error) {\n            if (callback) {\n                return callback(error);\n            }\n            throw error;\n        }\n    });\n}, _JsonRpcEngine_handle = function _JsonRpcEngine_handle(callerReq, callback) {\n    var _b;\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!callerReq ||\n            Array.isArray(callerReq) ||\n            typeof callerReq !== 'object') {\n            const error = new rpc_errors_1.JsonRpcError(rpc_errors_1.errorCodes.rpc.invalidRequest, `Requests must be plain objects. Received: ${typeof callerReq}`, { request: callerReq });\n            return callback(error, { id: null, jsonrpc: '2.0', error });\n        }\n        if (typeof callerReq.method !== 'string') {\n            const error = new rpc_errors_1.JsonRpcError(rpc_errors_1.errorCodes.rpc.invalidRequest, `Must specify a string method. Received: ${typeof callerReq.method}`, { request: callerReq });\n            if (__classPrivateFieldGet(this, _JsonRpcEngine_notificationHandler, \"f\") && !(0, utils_1.isJsonRpcRequest)(callerReq)) {\n                // Do not reply to notifications, even if they are malformed.\n                return callback(null);\n            }\n            return callback(error, {\n                // Typecast: This could be a notification, but we want to access the\n                // `id` even if it doesn't exist.\n                id: (_b = callerReq.id) !== null && _b !== void 0 ? _b : null,\n                jsonrpc: '2.0',\n                error,\n            });\n        }\n        // Handle notifications.\n        // We can't use isJsonRpcNotification here because that narrows callerReq to\n        // \"never\" after the if clause for unknown reasons.\n        if (__classPrivateFieldGet(this, _JsonRpcEngine_notificationHandler, \"f\") && !(0, utils_1.isJsonRpcRequest)(callerReq)) {\n            try {\n                yield __classPrivateFieldGet(this, _JsonRpcEngine_notificationHandler, \"f\").call(this, callerReq);\n            }\n            catch (error) {\n                return callback(error);\n            }\n            return callback(null);\n        }\n        let error = null;\n        // Handle requests.\n        // Typecast: Permit missing id's for backwards compatibility.\n        const req = Object.assign({}, callerReq);\n        const res = {\n            id: req.id,\n            jsonrpc: req.jsonrpc,\n        };\n        try {\n            yield __classPrivateFieldGet(JsonRpcEngine, _a, \"m\", _JsonRpcEngine_processRequest).call(JsonRpcEngine, req, res, __classPrivateFieldGet(this, _JsonRpcEngine_middleware, \"f\"));\n        }\n        catch (_error) {\n            // A request handler error, a re-thrown middleware error, or something\n            // unexpected.\n            error = _error;\n        }\n        if (error) {\n            // Ensure no result is present on an errored response\n            delete res.result;\n            if (!res.error) {\n                res.error = (0, rpc_errors_1.serializeError)(error);\n            }\n        }\n        return callback(error, res);\n    });\n}, _JsonRpcEngine_processRequest = function _JsonRpcEngine_processRequest(req, res, middlewares) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const [error, isComplete, returnHandlers] = yield __classPrivateFieldGet(JsonRpcEngine, _a, \"m\", _JsonRpcEngine_runAllMiddleware).call(JsonRpcEngine, req, res, middlewares);\n        // Throw if \"end\" was not called, or if the response has neither a result\n        // nor an error.\n        __classPrivateFieldGet(JsonRpcEngine, _a, \"m\", _JsonRpcEngine_checkForCompletion).call(JsonRpcEngine, req, res, isComplete);\n        // The return handlers should run even if an error was encountered during\n        // middleware processing.\n        yield __classPrivateFieldGet(JsonRpcEngine, _a, \"m\", _JsonRpcEngine_runReturnHandlers).call(JsonRpcEngine, returnHandlers);\n        // Now we re-throw the middleware processing error, if any, to catch it\n        // further up the call chain.\n        if (error) {\n            // eslint-disable-next-line @typescript-eslint/no-throw-literal\n            throw error;\n        }\n    });\n}, _JsonRpcEngine_runAllMiddleware = function _JsonRpcEngine_runAllMiddleware(req, res, middlewares) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const returnHandlers = [];\n        let error = null;\n        let isComplete = false;\n        // Go down stack of middleware, call and collect optional returnHandlers\n        for (const middleware of middlewares) {\n            [error, isComplete] = yield __classPrivateFieldGet(JsonRpcEngine, _a, \"m\", _JsonRpcEngine_runMiddleware).call(JsonRpcEngine, req, res, middleware, returnHandlers);\n            if (isComplete) {\n                break;\n            }\n        }\n        return [error, isComplete, returnHandlers.reverse()];\n    });\n}, _JsonRpcEngine_runMiddleware = function _JsonRpcEngine_runMiddleware(request, response, middleware, returnHandlers) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve) => {\n            const end = (error) => {\n                const parsedError = error || response.error;\n                if (parsedError) {\n                    response.error = (0, rpc_errors_1.serializeError)(parsedError);\n                }\n                // True indicates that the request should end\n                resolve([parsedError, true]);\n            };\n            const next = (returnHandler) => {\n                if (response.error) {\n                    end(response.error);\n                }\n                else {\n                    if (returnHandler) {\n                        if (typeof returnHandler !== 'function') {\n                            end(new rpc_errors_1.JsonRpcError(rpc_errors_1.errorCodes.rpc.internal, `JsonRpcEngine: \"next\" return handlers must be functions. ` +\n                                `Received \"${typeof returnHandler}\" for request:\\n${jsonify(request)}`, { request: request }));\n                        }\n                        returnHandlers.push(returnHandler);\n                    }\n                    // False indicates that the request should not end\n                    resolve([null, false]);\n                }\n            };\n            try {\n                middleware(request, response, next, end);\n            }\n            catch (error) {\n                end(error);\n            }\n        });\n    });\n}, _JsonRpcEngine_runReturnHandlers = function _JsonRpcEngine_runReturnHandlers(handlers) {\n    return __awaiter(this, void 0, void 0, function* () {\n        for (const handler of handlers) {\n            yield new Promise((resolve, reject) => {\n                handler((error) => (error ? reject(error) : resolve()));\n            });\n        }\n    });\n}, _JsonRpcEngine_checkForCompletion = function _JsonRpcEngine_checkForCompletion(request, response, isComplete) {\n    if (!(0, utils_1.hasProperty)(response, 'result') && !(0, utils_1.hasProperty)(response, 'error')) {\n        throw new rpc_errors_1.JsonRpcError(rpc_errors_1.errorCodes.rpc.internal, `JsonRpcEngine: Response has no error or result for request:\\n${jsonify(request)}`, { request: request });\n    }\n    if (!isComplete) {\n        throw new rpc_errors_1.JsonRpcError(rpc_errors_1.errorCodes.rpc.internal, `JsonRpcEngine: Nothing ended request:\\n${jsonify(request)}`, { request: request });\n    }\n};\n/**\n * JSON-stringifies a request object.\n *\n * @param request - The request object to JSON-stringify.\n * @returns The JSON-stringified request object.\n */\nfunction jsonify(request) {\n    return JSON.stringify(request, null, 2);\n}\n//# sourceMappingURL=JsonRpcEngine.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createAsyncMiddleware = void 0;\n/**\n * JsonRpcEngine only accepts callback-based middleware directly.\n * createAsyncMiddleware exists to enable consumers to pass in async middleware\n * functions.\n *\n * Async middleware have no \"end\" function. Instead, they \"end\" if they return\n * without calling \"next\". Rather than passing in explicit return handlers,\n * async middleware can simply await \"next\", and perform operations on the\n * response object when execution resumes.\n *\n * To accomplish this, createAsyncMiddleware passes the async middleware a\n * wrapped \"next\" function. That function calls the internal JsonRpcEngine\n * \"next\" function with a return handler that resolves a promise when called.\n *\n * The return handler will always be called. Its resolution of the promise\n * enables the control flow described above.\n *\n * @param asyncMiddleware - The asynchronous middleware function to wrap.\n * @returns The wrapped asynchronous middleware function, ready to be consumed\n * by JsonRpcEngine.\n */\nfunction createAsyncMiddleware(asyncMiddleware) {\n    // eslint-disable-next-line @typescript-eslint/no-misused-promises\n    return (request, response, next, end) => __awaiter(this, void 0, void 0, function* () {\n        // nextPromise is the key to the implementation\n        // it is resolved by the return handler passed to the\n        // \"next\" function\n        let resolveNextPromise;\n        const nextPromise = new Promise((resolve) => {\n            resolveNextPromise = resolve;\n        });\n        let returnHandlerCallback = null;\n        let nextWasCalled = false;\n        // This will be called by the consumer's async middleware.\n        const asyncNext = () => __awaiter(this, void 0, void 0, function* () {\n            nextWasCalled = true;\n            // We pass a return handler to next(). When it is called by the engine,\n            // the consumer's async middleware will resume executing.\n            next((runReturnHandlersCallback) => {\n                // This callback comes from JsonRpcEngine._runReturnHandlers\n                returnHandlerCallback = runReturnHandlersCallback;\n                resolveNextPromise();\n            });\n            return nextPromise;\n        });\n        try {\n            yield asyncMiddleware(request, response, asyncNext);\n            if (nextWasCalled) {\n                yield nextPromise; // we must wait until the return handler is called\n                returnHandlerCallback(null);\n            }\n            else {\n                end(null);\n            }\n        }\n        catch (error) {\n            if (returnHandlerCallback) {\n                returnHandlerCallback(error);\n            }\n            else {\n                end(error);\n            }\n        }\n    });\n}\nexports.createAsyncMiddleware = createAsyncMiddleware;\n//# sourceMappingURL=createAsyncMiddleware.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createScaffoldMiddleware = void 0;\n/**\n * Creates a middleware function from an object of RPC method handler functions,\n * keyed to particular method names. If a method corresponding to a key of this\n * object is requested, this middleware will pass it to the corresponding\n * handler and return the result.\n *\n * @param handlers - The RPC method handler functions.\n * @returns The scaffold middleware function.\n */\nfunction createScaffoldMiddleware(handlers) {\n    return (req, res, next, end) => {\n        const handler = handlers[req.method];\n        // if no handler, return\n        if (handler === undefined) {\n            return next();\n        }\n        // if handler is fn, call as middleware\n        if (typeof handler === 'function') {\n            return handler(req, res, next, end);\n        }\n        // if handler is some other value, use as result\n        res.result = handler;\n        return end();\n    };\n}\nexports.createScaffoldMiddleware = createScaffoldMiddleware;\n//# sourceMappingURL=createScaffoldMiddleware.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getUniqueId = void 0;\n// uint32 (two's complement) max\n// more conservative than Number.MAX_SAFE_INTEGER\nconst MAX = 4294967295;\nlet idCounter = Math.floor(Math.random() * MAX);\n/**\n * Gets an ID that is guaranteed to be unique so long as no more than\n * 4_294_967_295 (uint32 max) IDs are created, or the IDs are rapidly turned\n * over.\n *\n * @returns The unique ID.\n */\nfunction getUniqueId() {\n    idCounter = (idCounter + 1) % MAX;\n    return idCounter;\n}\nexports.getUniqueId = getUniqueId;\n//# sourceMappingURL=getUniqueId.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createIdRemapMiddleware = void 0;\nconst getUniqueId_1 = require(\"./getUniqueId\");\n/**\n * Returns a middleware function that overwrites the `id` property of each\n * request with an ID that is guaranteed to be unique, and restores the original\n * ID in a return handler.\n *\n * If used, should be the first middleware in the stack.\n *\n * @returns The ID remap middleware function.\n */\nfunction createIdRemapMiddleware() {\n    return (request, response, next, _end) => {\n        const originalId = request.id;\n        const newId = (0, getUniqueId_1.getUniqueId)();\n        request.id = newId;\n        response.id = newId;\n        next((done) => {\n            request.id = originalId;\n            response.id = originalId;\n            done();\n        });\n    };\n}\nexports.createIdRemapMiddleware = createIdRemapMiddleware;\n//# sourceMappingURL=idRemapMiddleware.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./createAsyncMiddleware\"), exports);\n__exportStar(require(\"./createScaffoldMiddleware\"), exports);\n__exportStar(require(\"./getUniqueId\"), exports);\n__exportStar(require(\"./idRemapMiddleware\"), exports);\n__exportStar(require(\"./JsonRpcEngine\"), exports);\n__exportStar(require(\"./mergeMiddleware\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mergeMiddleware = void 0;\nconst JsonRpcEngine_1 = require(\"./JsonRpcEngine\");\n/**\n * Takes a stack of middleware and joins them into a single middleware function.\n *\n * @param middlewareStack - The middleware stack to merge.\n * @returns The merged middleware function.\n */\nfunction mergeMiddleware(middlewareStack) {\n    const engine = new JsonRpcEngine_1.JsonRpcEngine();\n    middlewareStack.forEach((middleware) => engine.push(middleware));\n    return engine.asMiddleware();\n}\nexports.mergeMiddleware = mergeMiddleware;\n//# sourceMappingURL=mergeMiddleware.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nfunction safeApply(handler, context, args) {\n    try {\n        Reflect.apply(handler, context, args);\n    }\n    catch (err) {\n        // Throw error after timeout so as not to interrupt the stack\n        setTimeout(() => {\n            throw err;\n        });\n    }\n}\nfunction arrayClone(arr) {\n    const n = arr.length;\n    const copy = new Array(n);\n    for (let i = 0; i < n; i += 1) {\n        copy[i] = arr[i];\n    }\n    return copy;\n}\nclass SafeEventEmitter extends events_1.EventEmitter {\n    emit(type, ...args) {\n        let doError = type === 'error';\n        const events = this._events;\n        if (events !== undefined) {\n            doError = doError && events.error === undefined;\n        }\n        else if (!doError) {\n            return false;\n        }\n        // If there is no 'error' event listener then throw.\n        if (doError) {\n            let er;\n            if (args.length > 0) {\n                [er] = args;\n            }\n            if (er instanceof Error) {\n                // Note: The comments on the `throw` lines are intentional, they show\n                // up in Node's output if this results in an unhandled exception.\n                throw er; // Unhandled 'error' event\n            }\n            // At least give some kind of context to the user\n            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : ''}`);\n            err.context = er;\n            throw err; // Unhandled 'error' event\n        }\n        const handler = events[type];\n        if (handler === undefined) {\n            return false;\n        }\n        if (typeof handler === 'function') {\n            safeApply(handler, this, args);\n        }\n        else {\n            const len = handler.length;\n            const listeners = arrayClone(handler);\n            for (let i = 0; i < len; i += 1) {\n                safeApply(listeners[i], this, args);\n            }\n        }\n        return true;\n    }\n}\nexports.default = SafeEventEmitter;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ObjectMultiplex = void 0;\nconst readable_stream_1 = require(\"readable-stream\");\nconst once_1 = __importDefault(require(\"once\"));\nconst Substream_1 = require(\"./Substream\");\nconst IGNORE_SUBSTREAM = Symbol('IGNORE_SUBSTREAM');\nclass ObjectMultiplex extends readable_stream_1.Duplex {\n    constructor(opts = {}) {\n        super(Object.assign(Object.assign({}, opts), { objectMode: true }));\n        this._substreams = {};\n    }\n    createStream(name) {\n        // guard stream against destroyed already\n        if (this.destroyed) {\n            throw new Error(`ObjectMultiplex - parent stream for name \"${name}\" already destroyed`);\n        }\n        // guard stream against ended already\n        if (this._readableState.ended || this._writableState.ended) {\n            throw new Error(`ObjectMultiplex - parent stream for name \"${name}\" already ended`);\n        }\n        // validate name\n        if (!name) {\n            throw new Error('ObjectMultiplex - name must not be empty');\n        }\n        if (this._substreams[name]) {\n            throw new Error(`ObjectMultiplex - Substream for name \"${name}\" already exists`);\n        }\n        // create substream\n        const substream = new Substream_1.Substream({ parent: this, name });\n        this._substreams[name] = substream;\n        // listen for parent stream to end\n        anyStreamEnd(this, (_error) => {\n            return substream.destroy(_error || undefined);\n        });\n        return substream;\n    }\n    // ignore streams (dont display orphaned data warning)\n    ignoreStream(name) {\n        // validate name\n        if (!name) {\n            throw new Error('ObjectMultiplex - name must not be empty');\n        }\n        if (this._substreams[name]) {\n            throw new Error(`ObjectMultiplex - Substream for name \"${name}\" already exists`);\n        }\n        // set\n        this._substreams[name] = IGNORE_SUBSTREAM;\n    }\n    _read() {\n        return undefined;\n    }\n    _write(chunk, _encoding, callback) {\n        const { name, data } = chunk;\n        if (!name) {\n            console.warn(`ObjectMultiplex - malformed chunk without name \"${chunk}\"`);\n            return callback();\n        }\n        // get corresponding substream\n        const substream = this._substreams[name];\n        if (!substream) {\n            console.warn(`ObjectMultiplex - orphaned data for stream \"${name}\"`);\n            return callback();\n        }\n        // push data into substream\n        if (substream !== IGNORE_SUBSTREAM) {\n            substream.push(data);\n        }\n        return callback();\n    }\n}\nexports.ObjectMultiplex = ObjectMultiplex;\n// util\nfunction anyStreamEnd(stream, _cb) {\n    const cb = (0, once_1.default)(_cb);\n    (0, readable_stream_1.finished)(stream, { readable: false }, cb);\n    (0, readable_stream_1.finished)(stream, { writable: false }, cb);\n}\n//# sourceMappingURL=ObjectMultiplex.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Substream = void 0;\nconst readable_stream_1 = require(\"readable-stream\");\nclass Substream extends readable_stream_1.Duplex {\n    constructor({ parent, name }) {\n        super({ objectMode: true });\n        this._parent = parent;\n        this._name = name;\n    }\n    /**\n     * Explicitly sets read operations to a no-op.\n     */\n    _read() {\n        return undefined;\n    }\n    /**\n     * Called when data should be written to this writable stream.\n     *\n     * @param chunk - Arbitrary object to write\n     * @param encoding - Encoding to use when writing payload\n     * @param callback - Called when writing is complete or an error occurs\n     */\n    _write(chunk, _encoding, callback) {\n        this._parent.push({\n            name: this._name,\n            data: chunk,\n        });\n        callback();\n    }\n}\nexports.Substream = Substream;\n//# sourceMappingURL=Substream.js.map","\"use strict\";\nconst ObjectMultiplex_1 = require(\"./ObjectMultiplex\");\nmodule.exports = ObjectMultiplex_1.ObjectMultiplex;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _BaseProvider_chainId, _BaseProvider_selectedAddress;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseProvider = void 0;\nconst json_rpc_engine_1 = require(\"@metamask/json-rpc-engine\");\nconst rpc_errors_1 = require(\"@metamask/rpc-errors\");\nconst safe_event_emitter_1 = __importDefault(require(\"@metamask/safe-event-emitter\"));\nconst fast_deep_equal_1 = __importDefault(require(\"fast-deep-equal\"));\nconst messages_1 = __importDefault(require(\"./messages\"));\nconst utils_1 = require(\"./utils\");\n/**\n * An abstract class implementing the EIP-1193 interface. Implementers must:\n *\n * 1. At initialization, push a middleware to the internal `_rpcEngine` that\n * hands off requests to the server and receives responses in return.\n * 2. At initialization, retrieve initial state and call\n * {@link BaseProvider._initializeState} **once**.\n * 3. Ensure that the provider's state is synchronized with the wallet.\n * 4. Ensure that notifications are received and emitted as appropriate.\n */\nclass BaseProvider extends safe_event_emitter_1.default {\n    /**\n     * Create a new instance of the provider.\n     *\n     * @param options - An options bag.\n     * @param options.logger - The logging API to use. Default: `console`.\n     * @param options.maxEventListeners - The maximum number of event\n     * listeners. Default: 100.\n     * @param options.rpcMiddleware - The RPC middleware stack. Default: [].\n     */\n    constructor({ logger = console, maxEventListeners = 100, rpcMiddleware = [], } = {}) {\n        super();\n        /**\n         * The chain ID of the currently connected Ethereum chain.\n         * See [chainId.network]{@link https://chainid.network} for more information.\n         */\n        _BaseProvider_chainId.set(this, void 0);\n        /**\n         * The user's currently selected Ethereum address.\n         * If null, MetaMask is either locked or the user has not permitted any\n         * addresses to be viewed.\n         */\n        _BaseProvider_selectedAddress.set(this, void 0);\n        this._log = logger;\n        this.setMaxListeners(maxEventListeners);\n        // Private state\n        this._state = {\n            ...BaseProvider._defaultState,\n        };\n        // Public state\n        __classPrivateFieldSet(this, _BaseProvider_selectedAddress, null, \"f\");\n        __classPrivateFieldSet(this, _BaseProvider_chainId, null, \"f\");\n        // Bind functions to prevent consumers from making unbound calls\n        this._handleAccountsChanged = this._handleAccountsChanged.bind(this);\n        this._handleConnect = this._handleConnect.bind(this);\n        this._handleChainChanged = this._handleChainChanged.bind(this);\n        this._handleDisconnect = this._handleDisconnect.bind(this);\n        this._handleUnlockStateChanged = this._handleUnlockStateChanged.bind(this);\n        this._rpcRequest = this._rpcRequest.bind(this);\n        this.request = this.request.bind(this);\n        // Handle RPC requests via dapp-side RPC engine.\n        //\n        // ATTN: Implementers must push a middleware that hands off requests to\n        // the server.\n        const rpcEngine = new json_rpc_engine_1.JsonRpcEngine();\n        rpcMiddleware.forEach((middleware) => rpcEngine.push(middleware));\n        this._rpcEngine = rpcEngine;\n    }\n    //====================\n    // Public Properties\n    //====================\n    get chainId() {\n        return __classPrivateFieldGet(this, _BaseProvider_chainId, \"f\");\n    }\n    get selectedAddress() {\n        return __classPrivateFieldGet(this, _BaseProvider_selectedAddress, \"f\");\n    }\n    //====================\n    // Public Methods\n    //====================\n    /**\n     * Returns whether the provider can process RPC requests.\n     *\n     * @returns Whether the provider can process RPC requests.\n     */\n    isConnected() {\n        return this._state.isConnected;\n    }\n    /**\n     * Submits an RPC request for the given method, with the given params.\n     * Resolves with the result of the method call, or rejects on error.\n     *\n     * @param args - The RPC request arguments.\n     * @param args.method - The RPC method name.\n     * @param args.params - The parameters for the RPC method.\n     * @returns A Promise that resolves with the result of the RPC method,\n     * or rejects if an error is encountered.\n     */\n    async request(args) {\n        if (!args || typeof args !== 'object' || Array.isArray(args)) {\n            throw rpc_errors_1.rpcErrors.invalidRequest({\n                message: messages_1.default.errors.invalidRequestArgs(),\n                data: args,\n            });\n        }\n        const { method, params } = args;\n        if (typeof method !== 'string' || method.length === 0) {\n            throw rpc_errors_1.rpcErrors.invalidRequest({\n                message: messages_1.default.errors.invalidRequestMethod(),\n                data: args,\n            });\n        }\n        if (params !== undefined &&\n            !Array.isArray(params) &&\n            (typeof params !== 'object' || params === null)) {\n            throw rpc_errors_1.rpcErrors.invalidRequest({\n                message: messages_1.default.errors.invalidRequestParams(),\n                data: args,\n            });\n        }\n        const payload = params === undefined\n            ? {\n                method,\n            }\n            : {\n                method,\n                params,\n            };\n        return new Promise((resolve, reject) => {\n            this._rpcRequest(payload, (0, utils_1.getRpcPromiseCallback)(resolve, reject));\n        });\n    }\n    //====================\n    // Private Methods\n    //====================\n    /**\n     * MUST be called by child classes.\n     *\n     * Sets initial state if provided and marks this provider as initialized.\n     * Throws if called more than once.\n     *\n     * Permits the `networkVersion` field in the parameter object for\n     * compatibility with child classes that use this value.\n     *\n     * @param initialState - The provider's initial state.\n     * @param initialState.accounts - The user's accounts.\n     * @param initialState.chainId - The chain ID.\n     * @param initialState.isUnlocked - Whether the user has unlocked MetaMask.\n     * @param initialState.networkVersion - The network version.\n     * @fires BaseProvider#_initialized - If `initialState` is defined.\n     * @fires BaseProvider#connect - If `initialState` is defined.\n     */\n    _initializeState(initialState) {\n        if (this._state.initialized) {\n            throw new Error('Provider already initialized.');\n        }\n        if (initialState) {\n            const { accounts, chainId, isUnlocked, networkVersion } = initialState;\n            // EIP-1193 connect\n            this._handleConnect(chainId);\n            this._handleChainChanged({ chainId, networkVersion });\n            this._handleUnlockStateChanged({ accounts, isUnlocked });\n            this._handleAccountsChanged(accounts);\n        }\n        // Mark provider as initialized regardless of whether initial state was\n        // retrieved.\n        this._state.initialized = true;\n        this.emit('_initialized');\n    }\n    /**\n     * Internal RPC method. Forwards requests to background via the RPC engine.\n     * Also remap ids inbound and outbound.\n     *\n     * @param payload - The RPC request object.\n     * @param callback - The consumer's callback.\n     * @returns The result of the RPC request.\n     */\n    _rpcRequest(payload, callback) {\n        let callbackWrapper = callback;\n        if (!Array.isArray(payload)) {\n            if (!payload.jsonrpc) {\n                payload.jsonrpc = '2.0';\n            }\n            if (payload.method === 'eth_accounts' ||\n                payload.method === 'eth_requestAccounts') {\n                // handle accounts changing\n                callbackWrapper = (error, response) => {\n                    this._handleAccountsChanged(response.result ?? [], payload.method === 'eth_accounts');\n                    callback(error, response);\n                };\n            }\n            return this._rpcEngine.handle(payload, callbackWrapper);\n        }\n        return this._rpcEngine.handle(payload, callbackWrapper);\n    }\n    /**\n     * When the provider becomes connected, updates internal state and emits\n     * required events. Idempotent.\n     *\n     * @param chainId - The ID of the newly connected chain.\n     * @fires MetaMaskInpageProvider#connect\n     */\n    _handleConnect(chainId) {\n        if (!this._state.isConnected) {\n            this._state.isConnected = true;\n            this.emit('connect', { chainId });\n            this._log.debug(messages_1.default.info.connected(chainId));\n        }\n    }\n    /**\n     * When the provider becomes disconnected, updates internal state and emits\n     * required events. Idempotent with respect to the isRecoverable parameter.\n     *\n     * Error codes per the CloseEvent status codes as required by EIP-1193:\n     * https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes.\n     *\n     * @param isRecoverable - Whether the disconnection is recoverable.\n     * @param errorMessage - A custom error message.\n     * @fires BaseProvider#disconnect - If the disconnection is not recoverable.\n     */\n    _handleDisconnect(isRecoverable, errorMessage) {\n        if (this._state.isConnected ||\n            (!this._state.isPermanentlyDisconnected && !isRecoverable)) {\n            this._state.isConnected = false;\n            let error;\n            if (isRecoverable) {\n                error = new rpc_errors_1.JsonRpcError(1013, // Try again later\n                errorMessage ?? messages_1.default.errors.disconnected());\n                this._log.debug(error);\n            }\n            else {\n                error = new rpc_errors_1.JsonRpcError(1011, // Internal error\n                errorMessage ?? messages_1.default.errors.permanentlyDisconnected());\n                this._log.error(error);\n                __classPrivateFieldSet(this, _BaseProvider_chainId, null, \"f\");\n                this._state.accounts = null;\n                __classPrivateFieldSet(this, _BaseProvider_selectedAddress, null, \"f\");\n                this._state.isUnlocked = false;\n                this._state.isPermanentlyDisconnected = true;\n            }\n            this.emit('disconnect', error);\n        }\n    }\n    /**\n     * Upon receipt of a new `chainId`, emits the corresponding event and sets\n     * and sets relevant public state. Does nothing if the given `chainId` is\n     * equivalent to the existing value.\n     *\n     * Permits the `networkVersion` field in the parameter object for\n     * compatibility with child classes that use this value.\n     *\n     * @fires BaseProvider#chainChanged\n     * @param networkInfo - An object with network info.\n     * @param networkInfo.chainId - The latest chain ID.\n     */\n    _handleChainChanged({ chainId, } = {}) {\n        if (!(0, utils_1.isValidChainId)(chainId)) {\n            this._log.error(messages_1.default.errors.invalidNetworkParams(), { chainId });\n            return;\n        }\n        this._handleConnect(chainId);\n        if (chainId !== __classPrivateFieldGet(this, _BaseProvider_chainId, \"f\")) {\n            __classPrivateFieldSet(this, _BaseProvider_chainId, chainId, \"f\");\n            if (this._state.initialized) {\n                this.emit('chainChanged', __classPrivateFieldGet(this, _BaseProvider_chainId, \"f\"));\n            }\n        }\n    }\n    /**\n     * Called when accounts may have changed. Diffs the new accounts value with\n     * the current one, updates all state as necessary, and emits the\n     * accountsChanged event.\n     *\n     * @param accounts - The new accounts value.\n     * @param isEthAccounts - Whether the accounts value was returned by\n     * a call to eth_accounts.\n     */\n    _handleAccountsChanged(accounts, isEthAccounts = false) {\n        let _accounts = accounts;\n        if (!Array.isArray(accounts)) {\n            this._log.error('MetaMask: Received invalid accounts parameter. Please report this bug.', accounts);\n            _accounts = [];\n        }\n        for (const account of accounts) {\n            if (typeof account !== 'string') {\n                this._log.error('MetaMask: Received non-string account. Please report this bug.', accounts);\n                _accounts = [];\n                break;\n            }\n        }\n        // emit accountsChanged if anything about the accounts array has changed\n        if (!(0, fast_deep_equal_1.default)(this._state.accounts, _accounts)) {\n            // we should always have the correct accounts even before eth_accounts\n            // returns\n            if (isEthAccounts && this._state.accounts !== null) {\n                this._log.error(`MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.`, _accounts);\n            }\n            this._state.accounts = _accounts;\n            // handle selectedAddress\n            if (__classPrivateFieldGet(this, _BaseProvider_selectedAddress, \"f\") !== _accounts[0]) {\n                __classPrivateFieldSet(this, _BaseProvider_selectedAddress, _accounts[0] || null, \"f\");\n            }\n            // finally, after all state has been updated, emit the event\n            if (this._state.initialized) {\n                const _nextAccounts = [..._accounts];\n                this.emit('accountsChanged', _nextAccounts);\n            }\n        }\n    }\n    /**\n     * Upon receipt of a new isUnlocked state, sets relevant public state.\n     * Calls the accounts changed handler with the received accounts, or an empty\n     * array.\n     *\n     * Does nothing if the received value is equal to the existing value.\n     * There are no lock/unlock events.\n     *\n     * @param opts - Options bag.\n     * @param opts.accounts - The exposed accounts, if any.\n     * @param opts.isUnlocked - The latest isUnlocked value.\n     */\n    _handleUnlockStateChanged({ accounts, isUnlocked, } = {}) {\n        if (typeof isUnlocked !== 'boolean') {\n            this._log.error('MetaMask: Received invalid isUnlocked parameter. Please report this bug.');\n            return;\n        }\n        if (isUnlocked !== this._state.isUnlocked) {\n            this._state.isUnlocked = isUnlocked;\n            this._handleAccountsChanged(accounts ?? []);\n        }\n    }\n}\nexports.BaseProvider = BaseProvider;\n_BaseProvider_chainId = new WeakMap(), _BaseProvider_selectedAddress = new WeakMap();\nBaseProvider._defaultState = {\n    accounts: null,\n    isConnected: false,\n    isUnlocked: false,\n    initialized: false,\n    isPermanentlyDisconnected: false,\n};\n//# sourceMappingURL=BaseProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.announceProvider = exports.requestProvider = void 0;\nconst utils_1 = require(\"@metamask/utils\");\n/**\n * Describes the possible EIP-6963 event names\n */\nvar EIP6963EventNames;\n(function (EIP6963EventNames) {\n    EIP6963EventNames[\"Announce\"] = \"eip6963:announceProvider\";\n    EIP6963EventNames[\"Request\"] = \"eip6963:requestProvider\";\n})(EIP6963EventNames || (EIP6963EventNames = {}));\n// https://github.com/thenativeweb/uuidv4/blob/bdcf3a3138bef4fb7c51f389a170666f9012c478/lib/uuidv4.ts#L5\nconst UUID_V4_REGEX = /(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u;\n// https://stackoverflow.com/a/20204811\nconst FQDN_REGEX = /(?=^.{4,253}$)(^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9]\\.)+[a-zA-Z]{2,63}$)/u;\n/**\n * Intended to be used by a dapp. Forwards every announced provider to the\n * provided handler by listening for * {@link EIP6963AnnounceProviderEvent},\n * and dispatches an {@link EIP6963RequestProviderEvent}.\n *\n * @param handleProvider - A function that handles an announced provider.\n */\nfunction requestProvider(handleProvider) {\n    window.addEventListener(EIP6963EventNames.Announce, (event) => {\n        if (!isValidAnnounceProviderEvent(event)) {\n            throwErrorEIP6963(`Invalid EIP-6963 AnnounceProviderEvent object received from ${EIP6963EventNames.Announce} event.`);\n        }\n        handleProvider(event.detail);\n    });\n    window.dispatchEvent(new Event(EIP6963EventNames.Request));\n}\nexports.requestProvider = requestProvider;\n/**\n * Intended to be used by a wallet. Announces a provider by dispatching\n * an {@link EIP6963AnnounceProviderEvent}, and listening for\n * {@link EIP6963RequestProviderEvent} to re-announce.\n *\n * @throws If the {@link EIP6963ProviderDetail} is invalid.\n * @param providerDetail - The {@link EIP6963ProviderDetail} to announce.\n * @param providerDetail.info - The {@link EIP6963ProviderInfo} to announce.\n * @param providerDetail.provider - The provider to announce.\n */\nfunction announceProvider(providerDetail) {\n    if (!isValidProviderDetail(providerDetail)) {\n        throwErrorEIP6963('Invalid EIP-6963 ProviderDetail object.');\n    }\n    const { info, provider } = providerDetail;\n    const _announceProvider = () => window.dispatchEvent(new CustomEvent(EIP6963EventNames.Announce, {\n        detail: Object.freeze({ info: { ...info }, provider }),\n    }));\n    _announceProvider();\n    window.addEventListener(EIP6963EventNames.Request, (event) => {\n        if (!isValidRequestProviderEvent(event)) {\n            throwErrorEIP6963(`Invalid EIP-6963 RequestProviderEvent object received from ${EIP6963EventNames.Request} event.`);\n        }\n        _announceProvider();\n    });\n}\nexports.announceProvider = announceProvider;\n/**\n * Validates an {@link EIP6963RequestProviderEvent} object.\n *\n * @param event - The {@link EIP6963RequestProviderEvent} to validate.\n * @returns Whether the {@link EIP6963RequestProviderEvent} is valid.\n */\nfunction isValidRequestProviderEvent(event) {\n    return event instanceof Event && event.type === EIP6963EventNames.Request;\n}\n/**\n * Validates an {@link EIP6963AnnounceProviderEvent} object.\n *\n * @param event - The {@link EIP6963AnnounceProviderEvent} to validate.\n * @returns Whether the {@link EIP6963AnnounceProviderEvent} is valid.\n */\nfunction isValidAnnounceProviderEvent(event) {\n    return (event instanceof CustomEvent &&\n        event.type === EIP6963EventNames.Announce &&\n        Object.isFrozen(event.detail) &&\n        isValidProviderDetail(event.detail));\n}\n/**\n * Validates an {@link EIP6963ProviderDetail} object.\n *\n * @param providerDetail - The {@link EIP6963ProviderDetail} to validate.\n * @returns Whether the {@link EIP6963ProviderDetail} is valid.\n */\nfunction isValidProviderDetail(providerDetail) {\n    if (!(0, utils_1.isObject)(providerDetail) ||\n        !(0, utils_1.isObject)(providerDetail.info) ||\n        !(0, utils_1.isObject)(providerDetail.provider)) {\n        return false;\n    }\n    const { info } = providerDetail;\n    return (typeof info.uuid === 'string' &&\n        UUID_V4_REGEX.test(info.uuid) &&\n        typeof info.name === 'string' &&\n        Boolean(info.name) &&\n        typeof info.icon === 'string' &&\n        info.icon.startsWith('data:image') &&\n        typeof info.rdns === 'string' &&\n        FQDN_REGEX.test(info.rdns));\n}\n/**\n * Throws an error with link to EIP-6963 specifications.\n *\n * @param message - The message to include.\n * @throws a friendly error with a link to EIP-6963.\n */\nfunction throwErrorEIP6963(message) {\n    throw new Error(`${message} See https://eips.ethereum.org/EIPS/eip-6963 for requirements.`);\n}\n//# sourceMappingURL=EIP6963.js.map","\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar _MetaMaskInpageProvider_networkVersion;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MetaMaskInpageProvider = exports.MetaMaskInpageProviderStreamName = void 0;\nconst rpc_errors_1 = require(\"@metamask/rpc-errors\");\nconst messages_1 = __importDefault(require(\"./messages\"));\nconst siteMetadata_1 = require(\"./siteMetadata\");\nconst StreamProvider_1 = require(\"./StreamProvider\");\nconst utils_1 = require(\"./utils\");\n/**\n * The name of the stream consumed by {@link MetaMaskInpageProvider}.\n */\nexports.MetaMaskInpageProviderStreamName = 'metamask-provider';\nclass MetaMaskInpageProvider extends StreamProvider_1.AbstractStreamProvider {\n    /**\n     * Creates a new `MetaMaskInpageProvider`.\n     *\n     * @param connectionStream - A Node.js duplex stream.\n     * @param options - An options bag.\n     * @param options.jsonRpcStreamName - The name of the internal JSON-RPC stream.\n     * Default: `metamask-provider`.\n     * @param options.logger - The logging API to use. Default: `console`.\n     * @param options.maxEventListeners - The maximum number of event\n     * listeners. Default: 100.\n     * @param options.shouldSendMetadata - Whether the provider should\n     * send page metadata. Default: `true`.\n     */\n    constructor(connectionStream, { jsonRpcStreamName = exports.MetaMaskInpageProviderStreamName, logger = console, maxEventListeners = 100, shouldSendMetadata, } = {}) {\n        super(connectionStream, {\n            jsonRpcStreamName,\n            logger,\n            maxEventListeners,\n            rpcMiddleware: (0, utils_1.getDefaultExternalMiddleware)(logger),\n        });\n        this._sentWarnings = {\n            // properties\n            chainId: false,\n            networkVersion: false,\n            selectedAddress: false,\n            // methods\n            enable: false,\n            experimentalMethods: false,\n            send: false,\n            // events\n            events: {\n                close: false,\n                data: false,\n                networkChanged: false,\n                notification: false,\n            },\n        };\n        _MetaMaskInpageProvider_networkVersion.set(this, void 0);\n        // We shouldn't perform asynchronous work in the constructor, but at one\n        // point we started doing so, and changing this class isn't worth it at\n        // the time of writing.\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this._initializeStateAsync();\n        __classPrivateFieldSet(this, _MetaMaskInpageProvider_networkVersion, null, \"f\");\n        this.isMetaMask = true;\n        this._sendSync = this._sendSync.bind(this);\n        this.enable = this.enable.bind(this);\n        this.send = this.send.bind(this);\n        this.sendAsync = this.sendAsync.bind(this);\n        this._warnOfDeprecation = this._warnOfDeprecation.bind(this);\n        this._metamask = this._getExperimentalApi();\n        // handle JSON-RPC notifications\n        this._jsonRpcConnection.events.on('notification', (payload) => {\n            const { method } = payload;\n            if (utils_1.EMITTED_NOTIFICATIONS.includes(method)) {\n                // deprecated\n                // emitted here because that was the original order\n                this.emit('data', payload);\n                // deprecated\n                this.emit('notification', payload.params.result);\n            }\n        });\n        // send website metadata\n        if (shouldSendMetadata) {\n            if (document.readyState === 'complete') {\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                (0, siteMetadata_1.sendSiteMetadata)(this._rpcEngine, this._log);\n            }\n            else {\n                const domContentLoadedHandler = () => {\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    (0, siteMetadata_1.sendSiteMetadata)(this._rpcEngine, this._log);\n                    window.removeEventListener('DOMContentLoaded', domContentLoadedHandler);\n                };\n                window.addEventListener('DOMContentLoaded', domContentLoadedHandler);\n            }\n        }\n    }\n    //====================\n    // Deprecated Properties\n    //====================\n    get chainId() {\n        if (!this._sentWarnings.chainId) {\n            this._log.warn(messages_1.default.warnings.chainIdDeprecation);\n            this._sentWarnings.chainId = true;\n        }\n        return super.chainId;\n    }\n    get networkVersion() {\n        if (!this._sentWarnings.networkVersion) {\n            this._log.warn(messages_1.default.warnings.networkVersionDeprecation);\n            this._sentWarnings.networkVersion = true;\n        }\n        return __classPrivateFieldGet(this, _MetaMaskInpageProvider_networkVersion, \"f\");\n    }\n    get selectedAddress() {\n        if (!this._sentWarnings.selectedAddress) {\n            this._log.warn(messages_1.default.warnings.selectedAddressDeprecation);\n            this._sentWarnings.selectedAddress = true;\n        }\n        return super.selectedAddress;\n    }\n    //====================\n    // Public Methods\n    //====================\n    /**\n     * Submits an RPC request per the given JSON-RPC request object.\n     *\n     * @param payload - The RPC request object.\n     * @param callback - The callback function.\n     */\n    sendAsync(payload, callback) {\n        this._rpcRequest(payload, callback);\n    }\n    /**\n     * We override the following event methods so that we can warn consumers\n     * about deprecated events:\n     * `addListener`, `on`, `once`, `prependListener`, `prependOnceListener`.\n     */\n    addListener(eventName, listener) {\n        this._warnOfDeprecation(eventName);\n        return super.addListener(eventName, listener);\n    }\n    on(eventName, listener) {\n        this._warnOfDeprecation(eventName);\n        return super.on(eventName, listener);\n    }\n    once(eventName, listener) {\n        this._warnOfDeprecation(eventName);\n        return super.once(eventName, listener);\n    }\n    prependListener(eventName, listener) {\n        this._warnOfDeprecation(eventName);\n        return super.prependListener(eventName, listener);\n    }\n    prependOnceListener(eventName, listener) {\n        this._warnOfDeprecation(eventName);\n        return super.prependOnceListener(eventName, listener);\n    }\n    //====================\n    // Private Methods\n    //====================\n    /**\n     * When the provider becomes disconnected, updates internal state and emits\n     * required events. Idempotent with respect to the isRecoverable parameter.\n     *\n     * Error codes per the CloseEvent status codes as required by EIP-1193:\n     * https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes.\n     *\n     * @param isRecoverable - Whether the disconnection is recoverable.\n     * @param errorMessage - A custom error message.\n     * @fires BaseProvider#disconnect - If the disconnection is not recoverable.\n     */\n    _handleDisconnect(isRecoverable, errorMessage) {\n        super._handleDisconnect(isRecoverable, errorMessage);\n        if (__classPrivateFieldGet(this, _MetaMaskInpageProvider_networkVersion, \"f\") && !isRecoverable) {\n            __classPrivateFieldSet(this, _MetaMaskInpageProvider_networkVersion, null, \"f\");\n        }\n    }\n    /**\n     * Warns of deprecation for the given event, if applicable.\n     *\n     * @param eventName - The name of the event.\n     */\n    _warnOfDeprecation(eventName) {\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-boolean-literal-compare\n        if (this._sentWarnings?.events[eventName] === false) {\n            this._log.warn(messages_1.default.warnings.events[eventName]);\n            this._sentWarnings.events[eventName] = true;\n        }\n    }\n    //====================\n    // Deprecated Methods\n    //====================\n    /**\n     * Equivalent to: `ethereum.request('eth_requestAccounts')`.\n     *\n     * @deprecated Use request({ method: 'eth_requestAccounts' }) instead.\n     * @returns A promise that resolves to an array of addresses.\n     */\n    async enable() {\n        if (!this._sentWarnings.enable) {\n            this._log.warn(messages_1.default.warnings.enableDeprecation);\n            this._sentWarnings.enable = true;\n        }\n        return new Promise((resolve, reject) => {\n            try {\n                this._rpcRequest({ method: 'eth_requestAccounts', params: [] }, (0, utils_1.getRpcPromiseCallback)(resolve, reject));\n            }\n            catch (error) {\n                reject(error);\n            }\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/promise-function-async\n    send(methodOrPayload, callbackOrArgs) {\n        if (!this._sentWarnings.send) {\n            this._log.warn(messages_1.default.warnings.sendDeprecation);\n            this._sentWarnings.send = true;\n        }\n        if (typeof methodOrPayload === 'string' &&\n            (!callbackOrArgs || Array.isArray(callbackOrArgs))) {\n            return new Promise((resolve, reject) => {\n                try {\n                    this._rpcRequest({ method: methodOrPayload, params: callbackOrArgs }, (0, utils_1.getRpcPromiseCallback)(resolve, reject, false));\n                }\n                catch (error) {\n                    reject(error);\n                }\n            });\n        }\n        else if (methodOrPayload &&\n            typeof methodOrPayload === 'object' &&\n            typeof callbackOrArgs === 'function') {\n            return this._rpcRequest(methodOrPayload, callbackOrArgs);\n        }\n        return this._sendSync(methodOrPayload);\n    }\n    /**\n     * Internal backwards compatibility method, used in send.\n     *\n     * @param payload - A JSON-RPC request object.\n     * @returns A JSON-RPC response object.\n     * @deprecated\n     */\n    _sendSync(payload) {\n        let result;\n        switch (payload.method) {\n            case 'eth_accounts':\n                result = this.selectedAddress ? [this.selectedAddress] : [];\n                break;\n            case 'eth_coinbase':\n                result = this.selectedAddress ?? null;\n                break;\n            case 'eth_uninstallFilter':\n                this._rpcRequest(payload, utils_1.NOOP);\n                result = true;\n                break;\n            case 'net_version':\n                result = __classPrivateFieldGet(this, _MetaMaskInpageProvider_networkVersion, \"f\") ?? null;\n                break;\n            default:\n                throw new Error(messages_1.default.errors.unsupportedSync(payload.method));\n        }\n        return {\n            id: payload.id,\n            jsonrpc: payload.jsonrpc,\n            result,\n        };\n    }\n    /**\n     * Constructor helper.\n     *\n     * Gets the experimental _metamask API as Proxy, so that we can warn consumers\n     * about its experimental nature.\n     *\n     * @returns The experimental _metamask API.\n     */\n    _getExperimentalApi() {\n        return new Proxy({\n            /**\n             * Determines if MetaMask is unlocked by the user.\n             *\n             * @returns Promise resolving to true if MetaMask is currently unlocked.\n             */\n            isUnlocked: async () => {\n                if (!this._state.initialized) {\n                    await new Promise((resolve) => {\n                        this.on('_initialized', () => resolve());\n                    });\n                }\n                return this._state.isUnlocked;\n            },\n            /**\n             * Make a batch RPC request.\n             *\n             * @param requests - The RPC requests to make.\n             */\n            requestBatch: async (requests) => {\n                if (!Array.isArray(requests)) {\n                    throw rpc_errors_1.rpcErrors.invalidRequest({\n                        message: 'Batch requests must be made with an array of request objects.',\n                        data: requests,\n                    });\n                }\n                return new Promise((resolve, reject) => {\n                    this._rpcRequest(requests, (0, utils_1.getRpcPromiseCallback)(resolve, reject));\n                });\n            },\n        }, {\n            get: (obj, prop, ...args) => {\n                if (!this._sentWarnings.experimentalMethods) {\n                    this._log.warn(messages_1.default.warnings.experimentalMethods);\n                    this._sentWarnings.experimentalMethods = true;\n                }\n                return Reflect.get(obj, prop, ...args);\n            },\n        });\n    }\n    /**\n     * Upon receipt of a new chainId and networkVersion, emits corresponding\n     * events and sets relevant public state. Does nothing if neither the chainId\n     * nor the networkVersion are different from existing values.\n     *\n     * @fires MetamaskInpageProvider#networkChanged\n     * @param networkInfo - An object with network info.\n     * @param networkInfo.chainId - The latest chain ID.\n     * @param networkInfo.networkVersion - The latest network ID.\n     */\n    _handleChainChanged({ chainId, networkVersion, } = {}) {\n        // This will validate the params and disconnect the provider if the\n        // networkVersion is 'loading'.\n        super._handleChainChanged({ chainId, networkVersion });\n        if (this._state.isConnected && networkVersion !== __classPrivateFieldGet(this, _MetaMaskInpageProvider_networkVersion, \"f\")) {\n            __classPrivateFieldSet(this, _MetaMaskInpageProvider_networkVersion, networkVersion, \"f\");\n            if (this._state.initialized) {\n                this.emit('networkChanged', __classPrivateFieldGet(this, _MetaMaskInpageProvider_networkVersion, \"f\"));\n            }\n        }\n    }\n}\nexports.MetaMaskInpageProvider = MetaMaskInpageProvider;\n_MetaMaskInpageProvider_networkVersion = new WeakMap();\n//# sourceMappingURL=MetaMaskInpageProvider.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StreamProvider = exports.AbstractStreamProvider = void 0;\nconst object_multiplex_1 = __importDefault(require(\"@metamask/object-multiplex\"));\nconst is_stream_1 = require(\"is-stream\");\nconst json_rpc_middleware_stream_1 = require(\"json-rpc-middleware-stream\");\nconst readable_stream_1 = require(\"readable-stream\");\nconst BaseProvider_1 = require(\"./BaseProvider\");\nconst messages_1 = __importDefault(require(\"./messages\"));\nconst utils_1 = require(\"./utils\");\n/**\n * An abstract EIP-1193 provider wired to some duplex stream via a\n * `json-rpc-middleware-stream` JSON-RPC stream middleware. Implementers must\n * call {@link AbstractStreamProvider._initializeStateAsync} after instantiation\n * to initialize the provider's state.\n */\nclass AbstractStreamProvider extends BaseProvider_1.BaseProvider {\n    /**\n     * Creates a new AbstractStreamProvider instance.\n     *\n     * @param connectionStream - A Node.js duplex stream.\n     * @param options - An options bag.\n     * @param options.jsonRpcStreamName - The name of the internal JSON-RPC stream.\n     * @param options.logger - The logging API to use. Default: `console`.\n     * @param options.maxEventListeners - The maximum number of event\n     * listeners. Default: 100.\n     * @param options.rpcMiddleware - The RPC middleware stack to use.\n     */\n    constructor(connectionStream, { jsonRpcStreamName, logger = console, maxEventListeners = 100, rpcMiddleware = [], }) {\n        super({ logger, maxEventListeners, rpcMiddleware });\n        if (!(0, is_stream_1.duplex)(connectionStream)) {\n            throw new Error(messages_1.default.errors.invalidDuplexStream());\n        }\n        // Bind functions to prevent consumers from making unbound calls\n        this._handleStreamDisconnect = this._handleStreamDisconnect.bind(this);\n        // Set up connectionStream multiplexing\n        const mux = new object_multiplex_1.default();\n        (0, readable_stream_1.pipeline)(connectionStream, mux, connectionStream, this._handleStreamDisconnect.bind(this, 'MetaMask'));\n        // Set up RPC connection\n        // Typecast: The type of `Duplex` is incompatible with the type of\n        // `JsonRpcConnection`.\n        this._jsonRpcConnection = (0, json_rpc_middleware_stream_1.createStreamMiddleware)({\n            retryOnMessage: 'METAMASK_EXTENSION_CONNECT_CAN_RETRY',\n        });\n        (0, readable_stream_1.pipeline)(this._jsonRpcConnection.stream, mux.createStream(jsonRpcStreamName), this._jsonRpcConnection.stream, this._handleStreamDisconnect.bind(this, 'MetaMask RpcProvider'));\n        // Wire up the JsonRpcEngine to the JSON-RPC connection stream\n        this._rpcEngine.push(this._jsonRpcConnection.middleware);\n        // Handle JSON-RPC notifications\n        this._jsonRpcConnection.events.on('notification', (payload) => {\n            const { method, params } = payload;\n            if (method === 'metamask_accountsChanged') {\n                this._handleAccountsChanged(params);\n            }\n            else if (method === 'metamask_unlockStateChanged') {\n                this._handleUnlockStateChanged(params);\n            }\n            else if (method === 'metamask_chainChanged') {\n                this._handleChainChanged(params);\n            }\n            else if (utils_1.EMITTED_NOTIFICATIONS.includes(method)) {\n                this.emit('message', {\n                    type: method,\n                    data: params,\n                });\n            }\n            else if (method === 'METAMASK_STREAM_FAILURE') {\n                connectionStream.destroy(new Error(messages_1.default.errors.permanentlyDisconnected()));\n            }\n        });\n    }\n    //====================\n    // Private Methods\n    //====================\n    /**\n     * MUST be called by child classes.\n     *\n     * Calls `metamask_getProviderState` and passes the result to\n     * {@link BaseProvider._initializeState}. Logs an error if getting initial state\n     * fails. Throws if called after initialization has completed.\n     */\n    async _initializeStateAsync() {\n        let initialState;\n        try {\n            initialState = (await this.request({\n                method: 'metamask_getProviderState',\n            }));\n        }\n        catch (error) {\n            this._log.error('MetaMask: Failed to get initial state. Please report this bug.', error);\n        }\n        this._initializeState(initialState);\n    }\n    /**\n     * Called when connection is lost to critical streams. Emits an 'error' event\n     * from the provider with the error message and stack if present.\n     *\n     * @param streamName - The name of the stream that disconnected.\n     * @param error - The error that caused the disconnection.\n     * @fires BaseProvider#disconnect - If the provider is not already\n     * disconnected.\n     */\n    // eslint-disable-next-line no-restricted-syntax\n    _handleStreamDisconnect(streamName, error) {\n        let warningMsg = `MetaMask: Lost connection to \"${streamName}\".`;\n        if (error?.stack) {\n            warningMsg += `\\n${error.stack}`;\n        }\n        this._log.warn(warningMsg);\n        if (this.listenerCount('error') > 0) {\n            this.emit('error', warningMsg);\n        }\n        this._handleDisconnect(false, error ? error.message : undefined);\n    }\n    /**\n     * Upon receipt of a new chainId and networkVersion, emits corresponding\n     * events and sets relevant public state. This class does not have a\n     * `networkVersion` property, but we rely on receiving a `networkVersion`\n     * with the value of `loading` to detect when the network is changing and\n     * a recoverable `disconnect` even has occurred. Child classes that use the\n     * `networkVersion` for other purposes must implement additional handling\n     * therefore.\n     *\n     * @fires BaseProvider#chainChanged\n     * @param networkInfo - An object with network info.\n     * @param networkInfo.chainId - The latest chain ID.\n     * @param networkInfo.networkVersion - The latest network ID.\n     */\n    _handleChainChanged({ chainId, networkVersion, } = {}) {\n        if (!(0, utils_1.isValidChainId)(chainId) || !(0, utils_1.isValidNetworkVersion)(networkVersion)) {\n            this._log.error(messages_1.default.errors.invalidNetworkParams(), {\n                chainId,\n                networkVersion,\n            });\n            return;\n        }\n        if (networkVersion === 'loading') {\n            this._handleDisconnect(true);\n        }\n        else {\n            super._handleChainChanged({ chainId });\n        }\n    }\n}\nexports.AbstractStreamProvider = AbstractStreamProvider;\n/**\n * An EIP-1193 provider wired to some duplex stream via a\n * `json-rpc-middleware-stream` JSON-RPC stream middleware. Consumers must\n * call {@link StreamProvider.initialize} after instantiation to complete\n * initialization.\n */\nclass StreamProvider extends AbstractStreamProvider {\n    /**\n     * MUST be called after instantiation to complete initialization.\n     *\n     * Calls `metamask_getProviderState` and passes the result to\n     * {@link BaseProvider._initializeState}. Logs an error if getting initial state\n     * fails. Throws if called after initialization has completed.\n     */\n    async initialize() {\n        return this._initializeStateAsync();\n    }\n}\nexports.StreamProvider = StreamProvider;\n//# sourceMappingURL=StreamProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ERC20 = exports.ERC1155 = exports.ERC721 = void 0;\n// TOKEN STANDARDS\nexports.ERC721 = 'ERC721';\nexports.ERC1155 = 'ERC1155';\nexports.ERC20 = 'ERC20';\n//# sourceMappingURL=constants.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createExternalExtensionProvider = void 0;\nconst detect_browser_1 = require(\"detect-browser\");\nconst extension_port_stream_1 = __importDefault(require(\"extension-port-stream\"));\nconst external_extension_config_json_1 = __importDefault(require(\"./external-extension-config.json\"));\nconst MetaMaskInpageProvider_1 = require(\"../MetaMaskInpageProvider\");\nconst StreamProvider_1 = require(\"../StreamProvider\");\nconst utils_1 = require(\"../utils\");\nconst browser = (0, detect_browser_1.detect)();\n/**\n * Creates an external extension provider for the given extension type or ID.\n *\n * @param typeOrId - The extension type or ID.\n * @returns The external extension provider.\n */\nfunction createExternalExtensionProvider(typeOrId = 'stable') {\n    let provider;\n    try {\n        const extensionId = getExtensionId(typeOrId);\n        const metamaskPort = chrome.runtime.connect(extensionId);\n        const pluginStream = new extension_port_stream_1.default(metamaskPort);\n        provider = new StreamProvider_1.StreamProvider(pluginStream, {\n            jsonRpcStreamName: MetaMaskInpageProvider_1.MetaMaskInpageProviderStreamName,\n            logger: console,\n            rpcMiddleware: (0, utils_1.getDefaultExternalMiddleware)(console),\n        });\n        // This is asynchronous but merely logs an error and does not throw upon\n        // failure. Previously this just happened as a side-effect in the\n        // constructor.\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        provider.initialize();\n    }\n    catch (error) {\n        console.dir(`MetaMask connect error.`, error);\n        throw error;\n    }\n    return provider;\n}\nexports.createExternalExtensionProvider = createExternalExtensionProvider;\n/**\n * Gets the extension ID for the given extension type or ID.\n *\n * @param typeOrId - The extension type or ID.\n * @returns The extension ID.\n */\nfunction getExtensionId(typeOrId) {\n    const ids = browser?.name === 'firefox' ? external_extension_config_json_1.default.firefoxIds : external_extension_config_json_1.default.chromeIds;\n    return ids[typeOrId] ?? typeOrId;\n}\n//# sourceMappingURL=createExternalExtensionProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.eip6963RequestProvider = exports.eip6963AnnounceProvider = exports.StreamProvider = exports.shimWeb3 = exports.setGlobalProvider = exports.MetaMaskInpageProvider = exports.MetaMaskInpageProviderStreamName = exports.initializeProvider = exports.createExternalExtensionProvider = exports.BaseProvider = void 0;\nconst BaseProvider_1 = require(\"./BaseProvider\");\nObject.defineProperty(exports, \"BaseProvider\", { enumerable: true, get: function () { return BaseProvider_1.BaseProvider; } });\nconst EIP6963_1 = require(\"./EIP6963\");\nObject.defineProperty(exports, \"eip6963AnnounceProvider\", { enumerable: true, get: function () { return EIP6963_1.announceProvider; } });\nObject.defineProperty(exports, \"eip6963RequestProvider\", { enumerable: true, get: function () { return EIP6963_1.requestProvider; } });\nconst createExternalExtensionProvider_1 = require(\"./extension-provider/createExternalExtensionProvider\");\nObject.defineProperty(exports, \"createExternalExtensionProvider\", { enumerable: true, get: function () { return createExternalExtensionProvider_1.createExternalExtensionProvider; } });\nconst initializeInpageProvider_1 = require(\"./initializeInpageProvider\");\nObject.defineProperty(exports, \"initializeProvider\", { enumerable: true, get: function () { return initializeInpageProvider_1.initializeProvider; } });\nObject.defineProperty(exports, \"setGlobalProvider\", { enumerable: true, get: function () { return initializeInpageProvider_1.setGlobalProvider; } });\nconst MetaMaskInpageProvider_1 = require(\"./MetaMaskInpageProvider\");\nObject.defineProperty(exports, \"MetaMaskInpageProvider\", { enumerable: true, get: function () { return MetaMaskInpageProvider_1.MetaMaskInpageProvider; } });\nObject.defineProperty(exports, \"MetaMaskInpageProviderStreamName\", { enumerable: true, get: function () { return MetaMaskInpageProvider_1.MetaMaskInpageProviderStreamName; } });\nconst shimWeb3_1 = require(\"./shimWeb3\");\nObject.defineProperty(exports, \"shimWeb3\", { enumerable: true, get: function () { return shimWeb3_1.shimWeb3; } });\nconst StreamProvider_1 = require(\"./StreamProvider\");\nObject.defineProperty(exports, \"StreamProvider\", { enumerable: true, get: function () { return StreamProvider_1.StreamProvider; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setGlobalProvider = exports.initializeProvider = void 0;\nconst EIP6963_1 = require(\"./EIP6963\");\nconst MetaMaskInpageProvider_1 = require(\"./MetaMaskInpageProvider\");\nconst shimWeb3_1 = require(\"./shimWeb3\");\n/**\n * Initializes a MetaMaskInpageProvider and (optionally) assigns it as window.ethereum.\n *\n * @param options - An options bag.\n * @param options.connectionStream - A Node.js stream.\n * @param options.jsonRpcStreamName - The name of the internal JSON-RPC stream.\n * @param options.maxEventListeners - The maximum number of event listeners.\n * @param options.providerInfo - The EIP-6963 provider info that should be announced if set.\n * @param options.shouldSendMetadata - Whether the provider should send page metadata.\n * @param options.shouldSetOnWindow - Whether the provider should be set as window.ethereum.\n * @param options.shouldShimWeb3 - Whether a window.web3 shim should be injected.\n * @param options.logger - The logging API to use. Default: `console`.\n * @returns The initialized provider (whether set or not).\n */\nfunction initializeProvider({ connectionStream, jsonRpcStreamName, logger = console, maxEventListeners = 100, providerInfo, shouldSendMetadata = true, shouldSetOnWindow = true, shouldShimWeb3 = false, }) {\n    const provider = new MetaMaskInpageProvider_1.MetaMaskInpageProvider(connectionStream, {\n        jsonRpcStreamName,\n        logger,\n        maxEventListeners,\n        shouldSendMetadata,\n    });\n    const proxiedProvider = new Proxy(provider, {\n        // some common libraries, e.g. web3@1.x, mess with our API\n        deleteProperty: () => true,\n        // fix issue with Proxy unable to access private variables from getters\n        // https://stackoverflow.com/a/73051482\n        get(target, propName) {\n            return target[propName];\n        },\n    });\n    if (providerInfo) {\n        (0, EIP6963_1.announceProvider)({\n            info: providerInfo,\n            provider: proxiedProvider,\n        });\n    }\n    if (shouldSetOnWindow) {\n        setGlobalProvider(proxiedProvider);\n    }\n    if (shouldShimWeb3) {\n        (0, shimWeb3_1.shimWeb3)(proxiedProvider, logger);\n    }\n    return proxiedProvider;\n}\nexports.initializeProvider = initializeProvider;\n/**\n * Sets the given provider instance as window.ethereum and dispatches the\n * 'ethereum#initialized' event on window.\n *\n * @param providerInstance - The provider instance.\n */\nfunction setGlobalProvider(providerInstance) {\n    window.ethereum = providerInstance;\n    window.dispatchEvent(new Event('ethereum#initialized'));\n}\nexports.setGlobalProvider = setGlobalProvider;\n//# sourceMappingURL=initializeInpageProvider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst messages = {\n    errors: {\n        disconnected: () => 'MetaMask: Disconnected from chain. Attempting to connect.',\n        permanentlyDisconnected: () => 'MetaMask: Disconnected from MetaMask background. Page reload required.',\n        sendSiteMetadata: () => `MetaMask: Failed to send site metadata. This is an internal error, please report this bug.`,\n        unsupportedSync: (method) => `MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${method} without a callback parameter.`,\n        invalidDuplexStream: () => 'Must provide a Node.js-style duplex stream.',\n        invalidNetworkParams: () => 'MetaMask: Received invalid network parameters. Please report this bug.',\n        invalidRequestArgs: () => `Expected a single, non-array, object argument.`,\n        invalidRequestMethod: () => `'args.method' must be a non-empty string.`,\n        invalidRequestParams: () => `'args.params' must be an object or array if provided.`,\n        invalidLoggerObject: () => `'args.logger' must be an object if provided.`,\n        invalidLoggerMethod: (method) => `'args.logger' must include required method '${method}'.`,\n    },\n    info: {\n        connected: (chainId) => `MetaMask: Connected to chain with ID \"${chainId}\".`,\n    },\n    warnings: {\n        // deprecated properties\n        chainIdDeprecation: `MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.\\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,\n        networkVersionDeprecation: `MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.\\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,\n        selectedAddressDeprecation: `MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.\\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,\n        // deprecated methods\n        enableDeprecation: `MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102`,\n        sendDeprecation: `MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193`,\n        // deprecated events\n        events: {\n            close: `MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,\n            data: `MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,\n            networkChanged: `MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,\n            notification: `MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,\n        },\n        rpc: {\n            ethDecryptDeprecation: `MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.\\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,\n            ethGetEncryptionPublicKeyDeprecation: `MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.\\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,\n            walletWatchAssetNFTExperimental: `MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.\\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`,\n        },\n        // misc\n        experimentalMethods: `MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning.`,\n    },\n};\nexports.default = messages;\n//# sourceMappingURL=messages.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createRpcWarningMiddleware = void 0;\nconst constants_1 = require(\"../constants\");\nconst messages_1 = __importDefault(require(\"../messages\"));\n/**\n * Create JSON-RPC middleware that logs warnings for deprecated RPC methods.\n *\n * @param log - The logging API to use.\n * @returns The JSON-RPC middleware.\n */\nfunction createRpcWarningMiddleware(log) {\n    const sentWarnings = {\n        ethDecryptDeprecation: false,\n        ethGetEncryptionPublicKeyDeprecation: false,\n        walletWatchAssetNFTExperimental: false,\n    };\n    return (req, _res, next) => {\n        if (!sentWarnings.ethDecryptDeprecation && req.method === 'eth_decrypt') {\n            log.warn(messages_1.default.warnings.rpc.ethDecryptDeprecation);\n            sentWarnings.ethDecryptDeprecation = true;\n        }\n        else if (!sentWarnings.ethGetEncryptionPublicKeyDeprecation &&\n            req.method === 'eth_getEncryptionPublicKey') {\n            log.warn(messages_1.default.warnings.rpc.ethGetEncryptionPublicKeyDeprecation);\n            sentWarnings.ethGetEncryptionPublicKeyDeprecation = true;\n        }\n        else if (!sentWarnings.walletWatchAssetNFTExperimental &&\n            req.method === 'wallet_watchAsset' &&\n            [constants_1.ERC721, constants_1.ERC1155].includes(req.params?.type || '')) {\n            log.warn(messages_1.default.warnings.rpc.walletWatchAssetNFTExperimental);\n            sentWarnings.walletWatchAssetNFTExperimental = true;\n        }\n        next();\n    };\n}\nexports.createRpcWarningMiddleware = createRpcWarningMiddleware;\n//# sourceMappingURL=createRpcWarningMiddleware.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shimWeb3 = void 0;\n/**\n * If no existing window.web3 is found, this function injects a web3 \"shim\" to\n * not break dapps that rely on window.web3.currentProvider.\n *\n * @param provider - The provider to set as window.web3.currentProvider.\n * @param log - The logging API to use.\n */\nfunction shimWeb3(provider, log = console) {\n    let loggedCurrentProvider = false;\n    let loggedMissingProperty = false;\n    if (!window.web3) {\n        const SHIM_IDENTIFIER = '__isMetaMaskShim__';\n        let web3Shim = { currentProvider: provider };\n        Object.defineProperty(web3Shim, SHIM_IDENTIFIER, {\n            value: true,\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        });\n        web3Shim = new Proxy(web3Shim, {\n            get: (target, property, ...args) => {\n                if (property === 'currentProvider' && !loggedCurrentProvider) {\n                    loggedCurrentProvider = true;\n                    log.warn('You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3');\n                }\n                else if (property !== 'currentProvider' &&\n                    property !== SHIM_IDENTIFIER &&\n                    !loggedMissingProperty) {\n                    loggedMissingProperty = true;\n                    log.error(`MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3`);\n                    provider\n                        .request({ method: 'metamask_logWeb3ShimUsage' })\n                        .catch((error) => {\n                        log.debug('MetaMask: Failed to log web3 shim usage.', error);\n                    });\n                }\n                return Reflect.get(target, property, ...args);\n            },\n            set: (...args) => {\n                log.warn('You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3');\n                return Reflect.set(...args);\n            },\n        });\n        Object.defineProperty(window, 'web3', {\n            value: web3Shim,\n            enumerable: false,\n            configurable: true,\n            writable: true,\n        });\n    }\n}\nexports.shimWeb3 = shimWeb3;\n//# sourceMappingURL=shimWeb3.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sendSiteMetadata = void 0;\nconst messages_1 = __importDefault(require(\"./messages\"));\nconst utils_1 = require(\"./utils\");\n/**\n * Sends site metadata over an RPC request.\n *\n * @param engine - The JSON RPC Engine to send metadata over.\n * @param log - The logging API to use.\n */\nasync function sendSiteMetadata(engine, log) {\n    try {\n        const domainMetadata = await getSiteMetadata();\n        // call engine.handle directly to avoid normal RPC request handling\n        engine.handle({\n            jsonrpc: '2.0',\n            id: 1,\n            method: 'metamask_sendDomainMetadata',\n            params: domainMetadata,\n        }, utils_1.NOOP);\n    }\n    catch (error) {\n        log.error({\n            message: messages_1.default.errors.sendSiteMetadata(),\n            originalError: error,\n        });\n    }\n}\nexports.sendSiteMetadata = sendSiteMetadata;\n/**\n * Get site metadata.\n *\n * @returns The site metadata.\n */\nasync function getSiteMetadata() {\n    return {\n        name: getSiteName(window),\n        icon: await getSiteIcon(window),\n    };\n}\n/**\n * Extract a name for the site from the DOM.\n *\n * @param windowObject - The window object to extract the site name from.\n * @returns The site name.\n */\nfunction getSiteName(windowObject) {\n    const { document } = windowObject;\n    const siteName = document.querySelector('head > meta[property=\"og:site_name\"]');\n    if (siteName) {\n        return siteName.content;\n    }\n    const metaTitle = document.querySelector('head > meta[name=\"title\"]');\n    if (metaTitle) {\n        return metaTitle.content;\n    }\n    if (document.title && document.title.length > 0) {\n        return document.title;\n    }\n    return window.location.hostname;\n}\n/**\n * Extract an icon for the site from the DOM.\n *\n * @param windowObject - The window object to extract the site icon from.\n * @returns An icon URL, if one exists.\n */\nasync function getSiteIcon(windowObject) {\n    const { document } = windowObject;\n    const icons = document.querySelectorAll('head > link[rel~=\"icon\"]');\n    for (const icon of Array.from(icons)) {\n        if (icon && (await imgExists(icon.href))) {\n            return icon.href;\n        }\n    }\n    return null;\n}\n/**\n * Return whether the given image URL exists.\n *\n * @param url - The url of the image.\n * @returns Whether the image exists.\n */\nasync function imgExists(url) {\n    return new Promise((resolve, reject) => {\n        try {\n            const img = document.createElement('img');\n            img.onload = () => resolve(true);\n            img.onerror = () => resolve(false);\n            img.src = url;\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n}\n//# sourceMappingURL=siteMetadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NOOP = exports.isValidNetworkVersion = exports.isValidChainId = exports.getRpcPromiseCallback = exports.getDefaultExternalMiddleware = exports.EMITTED_NOTIFICATIONS = void 0;\nconst json_rpc_engine_1 = require(\"@metamask/json-rpc-engine\");\nconst rpc_errors_1 = require(\"@metamask/rpc-errors\");\nconst createRpcWarningMiddleware_1 = require(\"./middleware/createRpcWarningMiddleware\");\n// Constants\nexports.EMITTED_NOTIFICATIONS = Object.freeze([\n    'eth_subscription', // per eth-json-rpc-filters/subscriptionManager\n]);\n// Utility functions\n/**\n * Gets the default middleware for external providers, consisting of an ID\n * remapping middleware and an error middleware.\n *\n * @param logger - The logger to use in the error middleware.\n * @returns An array of @metamask/json-rpc-engine middleware functions.\n */\nconst getDefaultExternalMiddleware = (logger = console) => [\n    (0, json_rpc_engine_1.createIdRemapMiddleware)(),\n    createErrorMiddleware(logger),\n    (0, createRpcWarningMiddleware_1.createRpcWarningMiddleware)(logger),\n];\nexports.getDefaultExternalMiddleware = getDefaultExternalMiddleware;\n/**\n * A `json-rpc-engine` middleware that logs RPC errors and validates the request\n * method.\n *\n * @param log - The logging API to use.\n * @returns A @metamask/json-rpc-engine middleware function.\n */\nfunction createErrorMiddleware(log) {\n    return (request, response, next) => {\n        // json-rpc-engine will terminate the request when it notices this error\n        if (typeof request.method !== 'string' || !request.method) {\n            response.error = rpc_errors_1.rpcErrors.invalidRequest({\n                message: `The request 'method' must be a non-empty string.`,\n                data: request,\n            });\n        }\n        next((done) => {\n            const { error } = response;\n            if (!error) {\n                return done();\n            }\n            log.error(`MetaMask - RPC Error: ${error.message}`, error);\n            return done();\n        });\n    };\n}\n// resolve response.result or response, reject errors\nconst getRpcPromiseCallback = (resolve, reject, unwrapResult = true) => (error, response) => {\n    if (error || response.error) {\n        reject(error || response.error);\n    }\n    else {\n        !unwrapResult || Array.isArray(response)\n            ? resolve(response)\n            : resolve(response.result);\n    }\n};\nexports.getRpcPromiseCallback = getRpcPromiseCallback;\n/**\n * Checks whether the given chain ID is valid, meaning if it is non-empty,\n * '0x'-prefixed string.\n *\n * @param chainId - The chain ID to validate.\n * @returns Whether the given chain ID is valid.\n */\nconst isValidChainId = (chainId) => Boolean(chainId) && typeof chainId === 'string' && chainId.startsWith('0x');\nexports.isValidChainId = isValidChainId;\n/**\n * Checks whether the given network version is valid, meaning if it is non-empty\n * string.\n *\n * @param networkVersion - The network version to validate.\n * @returns Whether the given network version is valid.\n */\nconst isValidNetworkVersion = (networkVersion) => Boolean(networkVersion) && typeof networkVersion === 'string';\nexports.isValidNetworkVersion = isValidNetworkVersion;\nconst NOOP = () => undefined;\nexports.NOOP = NOOP;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nfunction safeApply(handler, context, args) {\n    try {\n        Reflect.apply(handler, context, args);\n    }\n    catch (err) {\n        // Throw error after timeout so as not to interrupt the stack\n        setTimeout(() => {\n            throw err;\n        });\n    }\n}\nfunction arrayClone(arr) {\n    const n = arr.length;\n    const copy = new Array(n);\n    for (let i = 0; i < n; i += 1) {\n        copy[i] = arr[i];\n    }\n    return copy;\n}\nclass SafeEventEmitter extends events_1.EventEmitter {\n    emit(type, ...args) {\n        let doError = type === 'error';\n        const events = this._events;\n        if (events !== undefined) {\n            doError = doError && events.error === undefined;\n        }\n        else if (!doError) {\n            return false;\n        }\n        // If there is no 'error' event listener then throw.\n        if (doError) {\n            let er;\n            if (args.length > 0) {\n                [er] = args;\n            }\n            if (er instanceof Error) {\n                // Note: The comments on the `throw` lines are intentional, they show\n                // up in Node's output if this results in an unhandled exception.\n                throw er; // Unhandled 'error' event\n            }\n            // At least give some kind of context to the user\n            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : ''}`);\n            err.context = er;\n            throw err; // Unhandled 'error' event\n        }\n        const handler = events[type];\n        if (handler === undefined) {\n            return false;\n        }\n        if (typeof handler === 'function') {\n            safeApply(handler, this, args);\n        }\n        else {\n            const len = handler.length;\n            const listeners = arrayClone(handler);\n            for (let i = 0; i < len; i += 1) {\n                safeApply(listeners[i], this, args);\n            }\n        }\n        return true;\n    }\n}\nexports.default = SafeEventEmitter;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EthereumProviderError = exports.JsonRpcError = void 0;\nconst utils_1 = require(\"@metamask/utils\");\nconst fast_safe_stringify_1 = __importDefault(require(\"fast-safe-stringify\"));\nconst utils_2 = require(\"./utils\");\n/**\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors\n * per EIP-1474.\n *\n * Permits any integer error code.\n */\nclass JsonRpcError extends Error {\n    constructor(code, message, data) {\n        if (!Number.isInteger(code)) {\n            throw new Error('\"code\" must be an integer.');\n        }\n        if (!message || typeof message !== 'string') {\n            throw new Error('\"message\" must be a non-empty string.');\n        }\n        super(message);\n        this.code = code;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n    /**\n     * Get the error as JSON-serializable object.\n     *\n     * @returns A plain object with all public class properties.\n     */\n    serialize() {\n        const serialized = {\n            code: this.code,\n            message: this.message,\n        };\n        if (this.data !== undefined) {\n            // `this.data` is not guaranteed to be a plain object, but this simplifies\n            // the type guard below. We can safely cast it because we know it's a\n            // JSON-serializable value.\n            serialized.data = this.data;\n            if ((0, utils_1.isPlainObject)(this.data)) {\n                serialized.data.cause = (0, utils_2.serializeCause)(this.data.cause);\n            }\n        }\n        if (this.stack) {\n            serialized.stack = this.stack;\n        }\n        return serialized;\n    }\n    /**\n     * Get a string representation of the serialized error, omitting any circular\n     * references.\n     *\n     * @returns A string representation of the serialized error.\n     */\n    toString() {\n        return (0, fast_safe_stringify_1.default)(this.serialize(), stringifyReplacer, 2);\n    }\n}\nexports.JsonRpcError = JsonRpcError;\n/**\n * Error subclass implementing Ethereum Provider errors per EIP-1193.\n * Permits integer error codes in the [ 1000 <= 4999 ] range.\n */\nclass EthereumProviderError extends JsonRpcError {\n    /**\n     * Create an Ethereum Provider JSON-RPC error.\n     *\n     * @param code - The JSON-RPC error code. Must be an integer in the\n     * `1000 <= n <= 4999` range.\n     * @param message - The JSON-RPC error message.\n     * @param data - Optional data to include in the error.\n     */\n    constructor(code, message, data) {\n        if (!isValidEthProviderCode(code)) {\n            throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');\n        }\n        super(code, message, data);\n    }\n}\nexports.EthereumProviderError = EthereumProviderError;\n/**\n * Check if the given code is a valid JSON-RPC error code.\n *\n * @param code - The code to check.\n * @returns Whether the code is valid.\n */\nfunction isValidEthProviderCode(code) {\n    return Number.isInteger(code) && code >= 1000 && code <= 4999;\n}\n/**\n * A JSON replacer function that omits circular references.\n *\n * @param _ - The key being replaced.\n * @param value - The value being replaced.\n * @returns The value to use in place of the original value.\n */\nfunction stringifyReplacer(_, value) {\n    if (value === '[Circular]') {\n        return undefined;\n    }\n    return value;\n}\n//# sourceMappingURL=classes.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errorValues = exports.errorCodes = void 0;\nexports.errorCodes = {\n    rpc: {\n        invalidInput: -32000,\n        resourceNotFound: -32001,\n        resourceUnavailable: -32002,\n        transactionRejected: -32003,\n        methodNotSupported: -32004,\n        limitExceeded: -32005,\n        parse: -32700,\n        invalidRequest: -32600,\n        methodNotFound: -32601,\n        invalidParams: -32602,\n        internal: -32603,\n    },\n    provider: {\n        userRejectedRequest: 4001,\n        unauthorized: 4100,\n        unsupportedMethod: 4200,\n        disconnected: 4900,\n        chainDisconnected: 4901,\n    },\n};\n/* eslint-disable @typescript-eslint/naming-convention */\nexports.errorValues = {\n    '-32700': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.',\n    },\n    '-32600': {\n        standard: 'JSON RPC 2.0',\n        message: 'The JSON sent is not a valid Request object.',\n    },\n    '-32601': {\n        standard: 'JSON RPC 2.0',\n        message: 'The method does not exist / is not available.',\n    },\n    '-32602': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid method parameter(s).',\n    },\n    '-32603': {\n        standard: 'JSON RPC 2.0',\n        message: 'Internal JSON-RPC error.',\n    },\n    '-32000': {\n        standard: 'EIP-1474',\n        message: 'Invalid input.',\n    },\n    '-32001': {\n        standard: 'EIP-1474',\n        message: 'Resource not found.',\n    },\n    '-32002': {\n        standard: 'EIP-1474',\n        message: 'Resource unavailable.',\n    },\n    '-32003': {\n        standard: 'EIP-1474',\n        message: 'Transaction rejected.',\n    },\n    '-32004': {\n        standard: 'EIP-1474',\n        message: 'Method not supported.',\n    },\n    '-32005': {\n        standard: 'EIP-1474',\n        message: 'Request limit exceeded.',\n    },\n    '4001': {\n        standard: 'EIP-1193',\n        message: 'User rejected the request.',\n    },\n    '4100': {\n        standard: 'EIP-1193',\n        message: 'The requested account and/or method has not been authorized by the user.',\n    },\n    '4200': {\n        standard: 'EIP-1193',\n        message: 'The requested method is not supported by this Ethereum provider.',\n    },\n    '4900': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from all chains.',\n    },\n    '4901': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from the specified chain.',\n    },\n};\n/* eslint-enable @typescript-eslint/naming-convention */\n//# sourceMappingURL=error-constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.providerErrors = exports.rpcErrors = void 0;\nconst classes_1 = require(\"./classes\");\nconst error_constants_1 = require(\"./error-constants\");\nconst utils_1 = require(\"./utils\");\nexports.rpcErrors = {\n    /**\n     * Get a JSON RPC 2.0 Parse (-32700) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    parse: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.parse, arg),\n    /**\n     * Get a JSON RPC 2.0 Invalid Request (-32600) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    invalidRequest: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest, arg),\n    /**\n     * Get a JSON RPC 2.0 Invalid Params (-32602) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    invalidParams: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams, arg),\n    /**\n     * Get a JSON RPC 2.0 Method Not Found (-32601) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    methodNotFound: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound, arg),\n    /**\n     * Get a JSON RPC 2.0 Internal (-32603) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    internal: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.internal, arg),\n    /**\n     * Get a JSON RPC 2.0 Server error.\n     * Permits integer error codes in the [ -32099 <= -32005 ] range.\n     * Codes -32000 through -32004 are reserved by EIP-1474.\n     *\n     * @param opts - The error options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    server: (opts) => {\n        if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n            throw new Error('Ethereum RPC Server errors must provide single object argument.');\n        }\n        const { code } = opts;\n        if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n            throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');\n        }\n        return getJsonRpcError(code, opts);\n    },\n    /**\n     * Get an Ethereum JSON RPC Invalid Input (-32000) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    invalidInput: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput, arg),\n    /**\n     * Get an Ethereum JSON RPC Resource Not Found (-32001) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    resourceNotFound: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound, arg),\n    /**\n     * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    resourceUnavailable: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable, arg),\n    /**\n     * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    transactionRejected: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected, arg),\n    /**\n     * Get an Ethereum JSON RPC Method Not Supported (-32004) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    methodNotSupported: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported, arg),\n    /**\n     * Get an Ethereum JSON RPC Limit Exceeded (-32005) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link JsonRpcError} class.\n     */\n    limitExceeded: (arg) => getJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded, arg),\n};\nexports.providerErrors = {\n    /**\n     * Get an Ethereum Provider User Rejected Request (4001) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    userRejectedRequest: (arg) => {\n        return getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest, arg);\n    },\n    /**\n     * Get an Ethereum Provider Unauthorized (4100) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    unauthorized: (arg) => {\n        return getEthProviderError(error_constants_1.errorCodes.provider.unauthorized, arg);\n    },\n    /**\n     * Get an Ethereum Provider Unsupported Method (4200) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    unsupportedMethod: (arg) => {\n        return getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod, arg);\n    },\n    /**\n     * Get an Ethereum Provider Not Connected (4900) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    disconnected: (arg) => {\n        return getEthProviderError(error_constants_1.errorCodes.provider.disconnected, arg);\n    },\n    /**\n     * Get an Ethereum Provider Chain Not Connected (4901) error.\n     *\n     * @param arg - The error message or options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    chainDisconnected: (arg) => {\n        return getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected, arg);\n    },\n    /**\n     * Get a custom Ethereum Provider error.\n     *\n     * @param opts - The error options bag.\n     * @returns An instance of the {@link EthereumProviderError} class.\n     */\n    custom: (opts) => {\n        if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n            throw new Error('Ethereum Provider custom errors must provide single object argument.');\n        }\n        const { code, message, data } = opts;\n        if (!message || typeof message !== 'string') {\n            throw new Error('\"message\" must be a nonempty string');\n        }\n        return new classes_1.EthereumProviderError(code, message, data);\n    },\n};\n/**\n * Get a generic JSON-RPC error class instance.\n *\n * @param code - The error code.\n * @param arg - The error message or options bag.\n * @returns An instance of the {@link JsonRpcError} class.\n */\nfunction getJsonRpcError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new classes_1.JsonRpcError(code, message ?? (0, utils_1.getMessageFromCode)(code), data);\n}\n/**\n * Get an Ethereum Provider error class instance.\n *\n * @param code - The error code.\n * @param arg - The error message or options bag.\n * @returns An instance of the {@link EthereumProviderError} class.\n */\nfunction getEthProviderError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new classes_1.EthereumProviderError(code, message ?? (0, utils_1.getMessageFromCode)(code), data);\n}\n/**\n * Get an error message and optional data from an options bag.\n *\n * @param arg - The error message or options bag.\n * @returns A tuple containing the error message and optional data.\n */\nfunction parseOpts(arg) {\n    if (arg) {\n        if (typeof arg === 'string') {\n            return [arg];\n        }\n        else if (typeof arg === 'object' && !Array.isArray(arg)) {\n            const { message, data } = arg;\n            if (message && typeof message !== 'string') {\n                throw new Error('Must specify string message.');\n            }\n            return [message ?? undefined, data];\n        }\n    }\n    return [];\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errorCodes = exports.providerErrors = exports.rpcErrors = exports.getMessageFromCode = exports.serializeError = exports.serializeCause = exports.EthereumProviderError = exports.JsonRpcError = void 0;\nvar classes_1 = require(\"./classes\");\nObject.defineProperty(exports, \"JsonRpcError\", { enumerable: true, get: function () { return classes_1.JsonRpcError; } });\nObject.defineProperty(exports, \"EthereumProviderError\", { enumerable: true, get: function () { return classes_1.EthereumProviderError; } });\nvar utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"serializeCause\", { enumerable: true, get: function () { return utils_1.serializeCause; } });\nObject.defineProperty(exports, \"serializeError\", { enumerable: true, get: function () { return utils_1.serializeError; } });\nObject.defineProperty(exports, \"getMessageFromCode\", { enumerable: true, get: function () { return utils_1.getMessageFromCode; } });\nvar errors_1 = require(\"./errors\");\nObject.defineProperty(exports, \"rpcErrors\", { enumerable: true, get: function () { return errors_1.rpcErrors; } });\nObject.defineProperty(exports, \"providerErrors\", { enumerable: true, get: function () { return errors_1.providerErrors; } });\nvar error_constants_1 = require(\"./error-constants\");\nObject.defineProperty(exports, \"errorCodes\", { enumerable: true, get: function () { return error_constants_1.errorCodes; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serializeCause = exports.serializeError = exports.isValidCode = exports.getMessageFromCode = exports.JSON_RPC_SERVER_ERROR_MESSAGE = void 0;\nconst utils_1 = require(\"@metamask/utils\");\nconst error_constants_1 = require(\"./error-constants\");\nconst FALLBACK_ERROR_CODE = error_constants_1.errorCodes.rpc.internal;\nconst FALLBACK_MESSAGE = 'Unspecified error message. This is a bug, please report it.';\nconst FALLBACK_ERROR = {\n    code: FALLBACK_ERROR_CODE,\n    message: getMessageFromCode(FALLBACK_ERROR_CODE),\n};\nexports.JSON_RPC_SERVER_ERROR_MESSAGE = 'Unspecified server error.';\n/**\n * Gets the message for a given code, or a fallback message if the code has\n * no corresponding message.\n *\n * @param code - The error code.\n * @param fallbackMessage - The fallback message to use if the code has no\n * corresponding message.\n * @returns The message for the given code, or the fallback message if the code\n * has no corresponding message.\n */\nfunction getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {\n    if (isValidCode(code)) {\n        const codeString = code.toString();\n        if ((0, utils_1.hasProperty)(error_constants_1.errorValues, codeString)) {\n            return error_constants_1.errorValues[codeString].message;\n        }\n        if (isJsonRpcServerError(code)) {\n            return exports.JSON_RPC_SERVER_ERROR_MESSAGE;\n        }\n    }\n    return fallbackMessage;\n}\nexports.getMessageFromCode = getMessageFromCode;\n/**\n * Returns whether the given code is valid.\n * A code is valid if it is an integer.\n *\n * @param code - The error code.\n * @returns Whether the given code is valid.\n */\nfunction isValidCode(code) {\n    return Number.isInteger(code);\n}\nexports.isValidCode = isValidCode;\n/**\n * Serializes the given error to an Ethereum JSON RPC-compatible error object.\n * If the given error is not fully compatible, it will be preserved on the\n * returned object's data.cause property.\n *\n * @param error - The error to serialize.\n * @param options - Options bag.\n * @param options.fallbackError - The error to return if the given error is\n * not compatible. Should be a JSON serializable value.\n * @param options.shouldIncludeStack - Whether to include the error's stack\n * on the returned object.\n * @returns The serialized error.\n */\nfunction serializeError(error, { fallbackError = FALLBACK_ERROR, shouldIncludeStack = true } = {}) {\n    if (!(0, utils_1.isJsonRpcError)(fallbackError)) {\n        throw new Error('Must provide fallback error with integer number code and string message.');\n    }\n    const serialized = buildError(error, fallbackError);\n    if (!shouldIncludeStack) {\n        delete serialized.stack;\n    }\n    return serialized;\n}\nexports.serializeError = serializeError;\n/**\n * Construct a JSON-serializable object given an error and a JSON serializable `fallbackError`\n *\n * @param error - The error in question.\n * @param fallbackError - A JSON serializable fallback error.\n * @returns A JSON serializable error object.\n */\nfunction buildError(error, fallbackError) {\n    // If an error specifies a `serialize` function, we call it and return the result.\n    if (error &&\n        typeof error === 'object' &&\n        'serialize' in error &&\n        typeof error.serialize === 'function') {\n        return error.serialize();\n    }\n    if ((0, utils_1.isJsonRpcError)(error)) {\n        return error;\n    }\n    // If the error does not match the JsonRpcError type, use the fallback error, but try to include the original error as `cause`.\n    const cause = serializeCause(error);\n    const fallbackWithCause = {\n        ...fallbackError,\n        data: { cause },\n    };\n    return fallbackWithCause;\n}\n/**\n * Check if the given code is a valid JSON-RPC server error code.\n *\n * @param code - The error code.\n * @returns Whether the given code is a valid JSON-RPC server error code.\n */\nfunction isJsonRpcServerError(code) {\n    return code >= -32099 && code <= -32000;\n}\n/**\n * Serializes an unknown error to be used as the `cause` in a fallback error.\n *\n * @param error - The unknown error.\n * @returns A JSON-serializable object containing as much information about the original error as possible.\n */\nfunction serializeCause(error) {\n    if (Array.isArray(error)) {\n        return error.map((entry) => {\n            if ((0, utils_1.isValidJson)(entry)) {\n                return entry;\n            }\n            else if ((0, utils_1.isObject)(entry)) {\n                return serializeObject(entry);\n            }\n            return null;\n        });\n    }\n    else if ((0, utils_1.isObject)(error)) {\n        return serializeObject(error);\n    }\n    if ((0, utils_1.isValidJson)(error)) {\n        return error;\n    }\n    return null;\n}\nexports.serializeCause = serializeCause;\n/**\n * Extracts all JSON-serializable properties from an object.\n *\n * @param object - The object in question.\n * @returns An object containing all the JSON-serializable properties.\n */\nfunction serializeObject(object) {\n    return Object.getOwnPropertyNames(object).reduce((acc, key) => {\n        const value = object[key];\n        if ((0, utils_1.isValidJson)(value)) {\n            acc[key] = value;\n        }\n        return acc;\n    }, {});\n}\n//# sourceMappingURL=utils.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }// src/logging.ts\nvar _debug = require('debug'); var _debug2 = _interopRequireDefault(_debug);\nvar globalLogger = _debug2.default.call(void 0, \"metamask\");\nfunction createProjectLogger(projectName) {\n  return globalLogger.extend(projectName);\n}\nfunction createModuleLogger(projectLogger, moduleName) {\n  return projectLogger.extend(moduleName);\n}\n\n\n\n\nexports.createProjectLogger = createProjectLogger; exports.createModuleLogger = createModuleLogger;\n//# sourceMappingURL=chunk-2LBGT4GH.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true});var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\n\n\n\n\n\nexports.__privateGet = __privateGet; exports.__privateAdd = __privateAdd; exports.__privateSet = __privateSet;\n//# sourceMappingURL=chunk-3W5G4CYI.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true});\n\nvar _chunk6ZDHSOUVjs = require('./chunk-6ZDHSOUV.js');\n\n// src/versions.ts\n\n\n\n\n\n\nvar _semver = require('semver');\nvar _superstruct = require('superstruct');\nvar VersionStruct = _superstruct.refine.call(void 0, \n  _superstruct.string.call(void 0, ),\n  \"Version\",\n  (value) => {\n    if (_semver.valid.call(void 0, value) === null) {\n      return `Expected SemVer version, got \"${value}\"`;\n    }\n    return true;\n  }\n);\nvar VersionRangeStruct = _superstruct.refine.call(void 0, \n  _superstruct.string.call(void 0, ),\n  \"Version range\",\n  (value) => {\n    if (_semver.validRange.call(void 0, value) === null) {\n      return `Expected SemVer range, got \"${value}\"`;\n    }\n    return true;\n  }\n);\nfunction isValidSemVerVersion(version) {\n  return _superstruct.is.call(void 0, version, VersionStruct);\n}\nfunction isValidSemVerRange(versionRange) {\n  return _superstruct.is.call(void 0, versionRange, VersionRangeStruct);\n}\nfunction assertIsSemVerVersion(version) {\n  _chunk6ZDHSOUVjs.assertStruct.call(void 0, version, VersionStruct);\n}\nfunction assertIsSemVerRange(range) {\n  _chunk6ZDHSOUVjs.assertStruct.call(void 0, range, VersionRangeStruct);\n}\nfunction gtVersion(version1, version2) {\n  return _semver.gt.call(void 0, version1, version2);\n}\nfunction gtRange(version, range) {\n  return _semver.gtr.call(void 0, version, range);\n}\nfunction satisfiesVersionRange(version, versionRange) {\n  return _semver.satisfies.call(void 0, version, versionRange, {\n    includePrerelease: true\n  });\n}\n\n\n\n\n\n\n\n\n\n\n\nexports.VersionStruct = VersionStruct; exports.VersionRangeStruct = VersionRangeStruct; exports.isValidSemVerVersion = isValidSemVerVersion; exports.isValidSemVerRange = isValidSemVerRange; exports.assertIsSemVerVersion = assertIsSemVerVersion; exports.assertIsSemVerRange = assertIsSemVerRange; exports.gtVersion = gtVersion; exports.gtRange = gtRange; exports.satisfiesVersionRange = satisfiesVersionRange;\n//# sourceMappingURL=chunk-4D6XQBHA.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true});// src/time.ts\nvar Duration = /* @__PURE__ */ ((Duration2) => {\n  Duration2[Duration2[\"Millisecond\"] = 1] = \"Millisecond\";\n  Duration2[Duration2[\"Second\"] = 1e3] = \"Second\";\n  Duration2[Duration2[\"Minute\"] = 6e4] = \"Minute\";\n  Duration2[Duration2[\"Hour\"] = 36e5] = \"Hour\";\n  Duration2[Duration2[\"Day\"] = 864e5] = \"Day\";\n  Duration2[Duration2[\"Week\"] = 6048e5] = \"Week\";\n  Duration2[Duration2[\"Year\"] = 31536e6] = \"Year\";\n  return Duration2;\n})(Duration || {});\nvar isNonNegativeInteger = (number) => Number.isInteger(number) && number >= 0;\nvar assertIsNonNegativeInteger = (number, name) => {\n  if (!isNonNegativeInteger(number)) {\n    throw new Error(\n      `\"${name}\" must be a non-negative integer. Received: \"${number}\".`\n    );\n  }\n};\nfunction inMilliseconds(count, duration) {\n  assertIsNonNegativeInteger(count, \"count\");\n  return count * duration;\n}\nfunction timeSince(timestamp) {\n  assertIsNonNegativeInteger(timestamp, \"timestamp\");\n  return Date.now() - timestamp;\n}\n\n\n\n\n\nexports.Duration = Duration; exports.inMilliseconds = inMilliseconds; exports.timeSince = timeSince;\n//# sourceMappingURL=chunk-4RMX5YWE.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true}); function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }\n\nvar _chunk6ZDHSOUVjs = require('./chunk-6ZDHSOUV.js');\n\n// src/base64.ts\nvar _superstruct = require('superstruct');\nvar base64 = (struct, options = {}) => {\n  const paddingRequired = _nullishCoalesce(options.paddingRequired, () => ( false));\n  const characterSet = _nullishCoalesce(options.characterSet, () => ( \"base64\"));\n  let letters;\n  if (characterSet === \"base64\") {\n    letters = String.raw`[A-Za-z0-9+\\/]`;\n  } else {\n    _chunk6ZDHSOUVjs.assert.call(void 0, characterSet === \"base64url\");\n    letters = String.raw`[-_A-Za-z0-9]`;\n  }\n  let re;\n  if (paddingRequired) {\n    re = new RegExp(\n      `^(?:${letters}{4})*(?:${letters}{3}=|${letters}{2}==)?$`,\n      \"u\"\n    );\n  } else {\n    re = new RegExp(\n      `^(?:${letters}{4})*(?:${letters}{2,3}|${letters}{3}=|${letters}{2}==)?$`,\n      \"u\"\n    );\n  }\n  return _superstruct.pattern.call(void 0, struct, re);\n};\n\n\n\nexports.base64 = base64;\n//# sourceMappingURL=chunk-6NZW4WK4.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true}); function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }\n\nvar _chunkIZC266HSjs = require('./chunk-IZC266HS.js');\n\n// src/assert.ts\nvar _superstruct = require('superstruct');\nfunction isConstructable(fn) {\n  return Boolean(typeof _optionalChain([fn, 'optionalAccess', _ => _.prototype, 'optionalAccess', _2 => _2.constructor, 'optionalAccess', _3 => _3.name]) === \"string\");\n}\nfunction getErrorMessageWithoutTrailingPeriod(error) {\n  return _chunkIZC266HSjs.getErrorMessage.call(void 0, error).replace(/\\.$/u, \"\");\n}\nfunction getError(ErrorWrapper, message) {\n  if (isConstructable(ErrorWrapper)) {\n    return new ErrorWrapper({\n      message\n    });\n  }\n  return ErrorWrapper({\n    message\n  });\n}\nvar AssertionError = class extends Error {\n  constructor(options) {\n    super(options.message);\n    this.code = \"ERR_ASSERTION\";\n  }\n};\nfunction assert(value, message = \"Assertion failed.\", ErrorWrapper = AssertionError) {\n  if (!value) {\n    if (message instanceof Error) {\n      throw message;\n    }\n    throw getError(ErrorWrapper, message);\n  }\n}\nfunction assertStruct(value, struct, errorPrefix = \"Assertion failed\", ErrorWrapper = AssertionError) {\n  try {\n    _superstruct.assert.call(void 0, value, struct);\n  } catch (error) {\n    throw getError(\n      ErrorWrapper,\n      `${errorPrefix}: ${getErrorMessageWithoutTrailingPeriod(error)}.`\n    );\n  }\n}\nfunction assertExhaustive(_object) {\n  throw new Error(\n    \"Invalid branch reached. Should be detected during compilation.\"\n  );\n}\n\n\n\n\n\n\nexports.AssertionError = AssertionError; exports.assert = assert; exports.assertStruct = assertStruct; exports.assertExhaustive = assertExhaustive;\n//# sourceMappingURL=chunk-6ZDHSOUV.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true});\n\n\n\nvar _chunkQEPVHEP7js = require('./chunk-QEPVHEP7.js');\n\n\nvar _chunk6ZDHSOUVjs = require('./chunk-6ZDHSOUV.js');\n\n// src/coercers.ts\n\n\n\n\n\n\n\n\n\nvar _superstruct = require('superstruct');\nvar NumberLikeStruct = _superstruct.union.call(void 0, [_superstruct.number.call(void 0, ), _superstruct.bigint.call(void 0, ), _superstruct.string.call(void 0, ), _chunkQEPVHEP7js.StrictHexStruct]);\nvar NumberCoercer = _superstruct.coerce.call(void 0, _superstruct.number.call(void 0, ), NumberLikeStruct, Number);\nvar BigIntCoercer = _superstruct.coerce.call(void 0, _superstruct.bigint.call(void 0, ), NumberLikeStruct, BigInt);\nvar BytesLikeStruct = _superstruct.union.call(void 0, [_chunkQEPVHEP7js.StrictHexStruct, _superstruct.instance.call(void 0, Uint8Array)]);\nvar BytesCoercer = _superstruct.coerce.call(void 0, \n  _superstruct.instance.call(void 0, Uint8Array),\n  _superstruct.union.call(void 0, [_chunkQEPVHEP7js.StrictHexStruct]),\n  _chunkQEPVHEP7js.hexToBytes\n);\nvar HexCoercer = _superstruct.coerce.call(void 0, _chunkQEPVHEP7js.StrictHexStruct, _superstruct.instance.call(void 0, Uint8Array), _chunkQEPVHEP7js.bytesToHex);\nfunction createNumber(value) {\n  try {\n    const result = _superstruct.create.call(void 0, value, NumberCoercer);\n    _chunk6ZDHSOUVjs.assert.call(void 0, \n      Number.isFinite(result),\n      `Expected a number-like value, got \"${value}\".`\n    );\n    return result;\n  } catch (error) {\n    if (error instanceof _superstruct.StructError) {\n      throw new Error(`Expected a number-like value, got \"${value}\".`);\n    }\n    throw error;\n  }\n}\nfunction createBigInt(value) {\n  try {\n    return _superstruct.create.call(void 0, value, BigIntCoercer);\n  } catch (error) {\n    if (error instanceof _superstruct.StructError) {\n      throw new Error(\n        `Expected a number-like value, got \"${String(error.value)}\".`\n      );\n    }\n    throw error;\n  }\n}\nfunction createBytes(value) {\n  if (typeof value === \"string\" && value.toLowerCase() === \"0x\") {\n    return new Uint8Array();\n  }\n  try {\n    return _superstruct.create.call(void 0, value, BytesCoercer);\n  } catch (error) {\n    if (error instanceof _superstruct.StructError) {\n      throw new Error(\n        `Expected a bytes-like value, got \"${String(error.value)}\".`\n      );\n    }\n    throw error;\n  }\n}\nfunction createHex(value) {\n  if (value instanceof Uint8Array && value.length === 0 || typeof value === \"string\" && value.toLowerCase() === \"0x\") {\n    return \"0x\";\n  }\n  try {\n    return _superstruct.create.call(void 0, value, HexCoercer);\n  } catch (error) {\n    if (error instanceof _superstruct.StructError) {\n      throw new Error(\n        `Expected a bytes-like value, got \"${String(error.value)}\".`\n      );\n    }\n    throw error;\n  }\n}\n\n\n\n\n\n\nexports.createNumber = createNumber; exports.createBigInt = createBigInt; exports.createBytes = createBytes; exports.createHex = createHex;\n//# sourceMappingURL=chunk-DHVKFDHQ.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true});\n\nvar _chunk6NZW4WK4js = require('./chunk-6NZW4WK4.js');\n\n// src/checksum.ts\nvar _superstruct = require('superstruct');\nvar ChecksumStruct = _superstruct.size.call(void 0, \n  _chunk6NZW4WK4js.base64.call(void 0, _superstruct.string.call(void 0, ), { paddingRequired: true }),\n  44,\n  44\n);\n\n\n\nexports.ChecksumStruct = ChecksumStruct;\n//# sourceMappingURL=chunk-E4C7EW4R.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true});\n\n\nvar _chunkQVEKZRZ2js = require('./chunk-QVEKZRZ2.js');\n\n// src/errors.ts\nvar _ponycause = require('pony-cause');\nfunction isError(error) {\n  return error instanceof Error || _chunkQVEKZRZ2js.isObject.call(void 0, error) && error.constructor.name === \"Error\";\n}\nfunction isErrorWithCode(error) {\n  return typeof error === \"object\" && error !== null && \"code\" in error;\n}\nfunction isErrorWithMessage(error) {\n  return typeof error === \"object\" && error !== null && \"message\" in error;\n}\nfunction isErrorWithStack(error) {\n  return typeof error === \"object\" && error !== null && \"stack\" in error;\n}\nfunction getErrorMessage(error) {\n  if (isErrorWithMessage(error) && typeof error.message === \"string\") {\n    return error.message;\n  }\n  if (_chunkQVEKZRZ2js.isNullOrUndefined.call(void 0, error)) {\n    return \"\";\n  }\n  return String(error);\n}\nfunction wrapError(originalError, message) {\n  if (isError(originalError)) {\n    let error;\n    if (Error.length === 2) {\n      error = new Error(message, { cause: originalError });\n    } else {\n      error = new (0, _ponycause.ErrorWithCause)(message, { cause: originalError });\n    }\n    if (isErrorWithCode(originalError)) {\n      error.code = originalError.code;\n    }\n    return error;\n  }\n  if (message.length > 0) {\n    return new Error(`${String(originalError)}: ${message}`);\n  }\n  return new Error(String(originalError));\n}\n\n\n\n\n\n\n\nexports.isErrorWithCode = isErrorWithCode; exports.isErrorWithMessage = isErrorWithMessage; exports.isErrorWithStack = isErrorWithStack; exports.getErrorMessage = getErrorMessage; exports.wrapError = wrapError;\n//# sourceMappingURL=chunk-IZC266HS.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true});\n\nvar _chunk6ZDHSOUVjs = require('./chunk-6ZDHSOUV.js');\n\n\nvar _chunkQVEKZRZ2js = require('./chunk-QVEKZRZ2.js');\n\n// src/json.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _superstruct = require('superstruct');\nvar object = (schema) => (\n  // The type is slightly different from a regular object struct, because we\n  // want to make properties with `undefined` in their type optional, but not\n  // `undefined` itself. This means that we need a type cast.\n  _superstruct.object.call(void 0, schema)\n);\nfunction hasOptional({ path, branch }) {\n  const field = path[path.length - 1];\n  return _chunkQVEKZRZ2js.hasProperty.call(void 0, branch[branch.length - 2], field);\n}\nfunction exactOptional(struct) {\n  return new (0, _superstruct.Struct)({\n    ...struct,\n    type: `optional ${struct.type}`,\n    validator: (value, context) => !hasOptional(context) || struct.validator(value, context),\n    refiner: (value, context) => !hasOptional(context) || struct.refiner(value, context)\n  });\n}\nvar finiteNumber = () => _superstruct.define.call(void 0, \"finite number\", (value) => {\n  return _superstruct.is.call(void 0, value, _superstruct.number.call(void 0, )) && Number.isFinite(value);\n});\nvar UnsafeJsonStruct = _superstruct.union.call(void 0, [\n  _superstruct.literal.call(void 0, null),\n  _superstruct.boolean.call(void 0, ),\n  finiteNumber(),\n  _superstruct.string.call(void 0, ),\n  _superstruct.array.call(void 0, _superstruct.lazy.call(void 0, () => UnsafeJsonStruct)),\n  _superstruct.record.call(void 0, \n    _superstruct.string.call(void 0, ),\n    _superstruct.lazy.call(void 0, () => UnsafeJsonStruct)\n  )\n]);\nvar JsonStruct = _superstruct.coerce.call(void 0, UnsafeJsonStruct, _superstruct.any.call(void 0, ), (value) => {\n  _chunk6ZDHSOUVjs.assertStruct.call(void 0, value, UnsafeJsonStruct);\n  return JSON.parse(\n    JSON.stringify(value, (propKey, propValue) => {\n      if (propKey === \"__proto__\" || propKey === \"constructor\") {\n        return void 0;\n      }\n      return propValue;\n    })\n  );\n});\nfunction isValidJson(value) {\n  try {\n    getSafeJson(value);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction getSafeJson(value) {\n  return _superstruct.create.call(void 0, value, JsonStruct);\n}\nfunction getJsonSize(value) {\n  _chunk6ZDHSOUVjs.assertStruct.call(void 0, value, JsonStruct, \"Invalid JSON value\");\n  const json = JSON.stringify(value);\n  return new TextEncoder().encode(json).byteLength;\n}\nvar jsonrpc2 = \"2.0\";\nvar JsonRpcVersionStruct = _superstruct.literal.call(void 0, jsonrpc2);\nvar JsonRpcIdStruct = _superstruct.nullable.call(void 0, _superstruct.union.call(void 0, [_superstruct.number.call(void 0, ), _superstruct.string.call(void 0, )]));\nvar JsonRpcErrorStruct = object({\n  code: _superstruct.integer.call(void 0, ),\n  message: _superstruct.string.call(void 0, ),\n  data: exactOptional(JsonStruct),\n  stack: exactOptional(_superstruct.string.call(void 0, ))\n});\nvar JsonRpcParamsStruct = _superstruct.union.call(void 0, [_superstruct.record.call(void 0, _superstruct.string.call(void 0, ), JsonStruct), _superstruct.array.call(void 0, JsonStruct)]);\nvar JsonRpcRequestStruct = object({\n  id: JsonRpcIdStruct,\n  jsonrpc: JsonRpcVersionStruct,\n  method: _superstruct.string.call(void 0, ),\n  params: exactOptional(JsonRpcParamsStruct)\n});\nvar JsonRpcNotificationStruct = object({\n  jsonrpc: JsonRpcVersionStruct,\n  method: _superstruct.string.call(void 0, ),\n  params: exactOptional(JsonRpcParamsStruct)\n});\nfunction isJsonRpcNotification(value) {\n  return _superstruct.is.call(void 0, value, JsonRpcNotificationStruct);\n}\nfunction assertIsJsonRpcNotification(value, ErrorWrapper) {\n  _chunk6ZDHSOUVjs.assertStruct.call(void 0, \n    value,\n    JsonRpcNotificationStruct,\n    \"Invalid JSON-RPC notification\",\n    ErrorWrapper\n  );\n}\nfunction isJsonRpcRequest(value) {\n  return _superstruct.is.call(void 0, value, JsonRpcRequestStruct);\n}\nfunction assertIsJsonRpcRequest(value, ErrorWrapper) {\n  _chunk6ZDHSOUVjs.assertStruct.call(void 0, \n    value,\n    JsonRpcRequestStruct,\n    \"Invalid JSON-RPC request\",\n    ErrorWrapper\n  );\n}\nvar PendingJsonRpcResponseStruct = _superstruct.object.call(void 0, {\n  id: JsonRpcIdStruct,\n  jsonrpc: JsonRpcVersionStruct,\n  result: _superstruct.optional.call(void 0, _superstruct.unknown.call(void 0, )),\n  error: _superstruct.optional.call(void 0, JsonRpcErrorStruct)\n});\nvar JsonRpcSuccessStruct = object({\n  id: JsonRpcIdStruct,\n  jsonrpc: JsonRpcVersionStruct,\n  result: JsonStruct\n});\nvar JsonRpcFailureStruct = object({\n  id: JsonRpcIdStruct,\n  jsonrpc: JsonRpcVersionStruct,\n  error: JsonRpcErrorStruct\n});\nvar JsonRpcResponseStruct = _superstruct.union.call(void 0, [\n  JsonRpcSuccessStruct,\n  JsonRpcFailureStruct\n]);\nfunction isPendingJsonRpcResponse(response) {\n  return _superstruct.is.call(void 0, response, PendingJsonRpcResponseStruct);\n}\nfunction assertIsPendingJsonRpcResponse(response, ErrorWrapper) {\n  _chunk6ZDHSOUVjs.assertStruct.call(void 0, \n    response,\n    PendingJsonRpcResponseStruct,\n    \"Invalid pending JSON-RPC response\",\n    ErrorWrapper\n  );\n}\nfunction isJsonRpcResponse(response) {\n  return _superstruct.is.call(void 0, response, JsonRpcResponseStruct);\n}\nfunction assertIsJsonRpcResponse(value, ErrorWrapper) {\n  _chunk6ZDHSOUVjs.assertStruct.call(void 0, \n    value,\n    JsonRpcResponseStruct,\n    \"Invalid JSON-RPC response\",\n    ErrorWrapper\n  );\n}\nfunction isJsonRpcSuccess(value) {\n  return _superstruct.is.call(void 0, value, JsonRpcSuccessStruct);\n}\nfunction assertIsJsonRpcSuccess(value, ErrorWrapper) {\n  _chunk6ZDHSOUVjs.assertStruct.call(void 0, \n    value,\n    JsonRpcSuccessStruct,\n    \"Invalid JSON-RPC success response\",\n    ErrorWrapper\n  );\n}\nfunction isJsonRpcFailure(value) {\n  return _superstruct.is.call(void 0, value, JsonRpcFailureStruct);\n}\nfunction assertIsJsonRpcFailure(value, ErrorWrapper) {\n  _chunk6ZDHSOUVjs.assertStruct.call(void 0, \n    value,\n    JsonRpcFailureStruct,\n    \"Invalid JSON-RPC failure response\",\n    ErrorWrapper\n  );\n}\nfunction isJsonRpcError(value) {\n  return _superstruct.is.call(void 0, value, JsonRpcErrorStruct);\n}\nfunction assertIsJsonRpcError(value, ErrorWrapper) {\n  _chunk6ZDHSOUVjs.assertStruct.call(void 0, \n    value,\n    JsonRpcErrorStruct,\n    \"Invalid JSON-RPC error\",\n    ErrorWrapper\n  );\n}\nfunction getJsonRpcIdValidator(options) {\n  const { permitEmptyString, permitFractions, permitNull } = {\n    permitEmptyString: true,\n    permitFractions: false,\n    permitNull: true,\n    ...options\n  };\n  const isValidJsonRpcId = (id) => {\n    return Boolean(\n      typeof id === \"number\" && (permitFractions || Number.isInteger(id)) || typeof id === \"string\" && (permitEmptyString || id.length > 0) || permitNull && id === null\n    );\n  };\n  return isValidJsonRpcId;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexports.object = object; exports.exactOptional = exactOptional; exports.UnsafeJsonStruct = UnsafeJsonStruct; exports.JsonStruct = JsonStruct; exports.isValidJson = isValidJson; exports.getSafeJson = getSafeJson; exports.getJsonSize = getJsonSize; exports.jsonrpc2 = jsonrpc2; exports.JsonRpcVersionStruct = JsonRpcVersionStruct; exports.JsonRpcIdStruct = JsonRpcIdStruct; exports.JsonRpcErrorStruct = JsonRpcErrorStruct; exports.JsonRpcParamsStruct = JsonRpcParamsStruct; exports.JsonRpcRequestStruct = JsonRpcRequestStruct; exports.JsonRpcNotificationStruct = JsonRpcNotificationStruct; exports.isJsonRpcNotification = isJsonRpcNotification; exports.assertIsJsonRpcNotification = assertIsJsonRpcNotification; exports.isJsonRpcRequest = isJsonRpcRequest; exports.assertIsJsonRpcRequest = assertIsJsonRpcRequest; exports.PendingJsonRpcResponseStruct = PendingJsonRpcResponseStruct; exports.JsonRpcSuccessStruct = JsonRpcSuccessStruct; exports.JsonRpcFailureStruct = JsonRpcFailureStruct; exports.JsonRpcResponseStruct = JsonRpcResponseStruct; exports.isPendingJsonRpcResponse = isPendingJsonRpcResponse; exports.assertIsPendingJsonRpcResponse = assertIsPendingJsonRpcResponse; exports.isJsonRpcResponse = isJsonRpcResponse; exports.assertIsJsonRpcResponse = assertIsJsonRpcResponse; exports.isJsonRpcSuccess = isJsonRpcSuccess; exports.assertIsJsonRpcSuccess = assertIsJsonRpcSuccess; exports.isJsonRpcFailure = isJsonRpcFailure; exports.assertIsJsonRpcFailure = assertIsJsonRpcFailure; exports.isJsonRpcError = isJsonRpcError; exports.assertIsJsonRpcError = assertIsJsonRpcError; exports.getJsonRpcIdValidator = getJsonRpcIdValidator;\n//# sourceMappingURL=chunk-OLLG4H35.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true}); function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }\n\nvar _chunk6ZDHSOUVjs = require('./chunk-6ZDHSOUV.js');\n\n// src/hex.ts\nvar _sha3 = require('@noble/hashes/sha3');\nvar _superstruct = require('superstruct');\n\n// src/bytes.ts\nvar _base = require('@scure/base');\nvar HEX_MINIMUM_NUMBER_CHARACTER = 48;\nvar HEX_MAXIMUM_NUMBER_CHARACTER = 58;\nvar HEX_CHARACTER_OFFSET = 87;\nfunction getPrecomputedHexValuesBuilder() {\n  const lookupTable = [];\n  return () => {\n    if (lookupTable.length === 0) {\n      for (let i = 0; i < 256; i++) {\n        lookupTable.push(i.toString(16).padStart(2, \"0\"));\n      }\n    }\n    return lookupTable;\n  };\n}\nvar getPrecomputedHexValues = getPrecomputedHexValuesBuilder();\nfunction isBytes(value) {\n  return value instanceof Uint8Array;\n}\nfunction assertIsBytes(value) {\n  _chunk6ZDHSOUVjs.assert.call(void 0, isBytes(value), \"Value must be a Uint8Array.\");\n}\nfunction bytesToHex(bytes) {\n  assertIsBytes(bytes);\n  if (bytes.length === 0) {\n    return \"0x\";\n  }\n  const lookupTable = getPrecomputedHexValues();\n  const hexadecimal = new Array(bytes.length);\n  for (let i = 0; i < bytes.length; i++) {\n    hexadecimal[i] = lookupTable[bytes[i]];\n  }\n  return add0x(hexadecimal.join(\"\"));\n}\nfunction bytesToBigInt(bytes) {\n  assertIsBytes(bytes);\n  const hexadecimal = bytesToHex(bytes);\n  return BigInt(hexadecimal);\n}\nfunction bytesToSignedBigInt(bytes) {\n  assertIsBytes(bytes);\n  let value = BigInt(0);\n  for (const byte of bytes) {\n    value = (value << BigInt(8)) + BigInt(byte);\n  }\n  return BigInt.asIntN(bytes.length * 8, value);\n}\nfunction bytesToNumber(bytes) {\n  assertIsBytes(bytes);\n  const bigint = bytesToBigInt(bytes);\n  _chunk6ZDHSOUVjs.assert.call(void 0, \n    bigint <= BigInt(Number.MAX_SAFE_INTEGER),\n    \"Number is not a safe integer. Use `bytesToBigInt` instead.\"\n  );\n  return Number(bigint);\n}\nfunction bytesToString(bytes) {\n  assertIsBytes(bytes);\n  return new TextDecoder().decode(bytes);\n}\nfunction bytesToBase64(bytes) {\n  assertIsBytes(bytes);\n  return _base.base64.encode(bytes);\n}\nfunction hexToBytes(value) {\n  if (_optionalChain([value, 'optionalAccess', _ => _.toLowerCase, 'optionalCall', _2 => _2()]) === \"0x\") {\n    return new Uint8Array();\n  }\n  assertIsHexString(value);\n  const strippedValue = remove0x(value).toLowerCase();\n  const normalizedValue = strippedValue.length % 2 === 0 ? strippedValue : `0${strippedValue}`;\n  const bytes = new Uint8Array(normalizedValue.length / 2);\n  for (let i = 0; i < bytes.length; i++) {\n    const c1 = normalizedValue.charCodeAt(i * 2);\n    const c2 = normalizedValue.charCodeAt(i * 2 + 1);\n    const n1 = c1 - (c1 < HEX_MAXIMUM_NUMBER_CHARACTER ? HEX_MINIMUM_NUMBER_CHARACTER : HEX_CHARACTER_OFFSET);\n    const n2 = c2 - (c2 < HEX_MAXIMUM_NUMBER_CHARACTER ? HEX_MINIMUM_NUMBER_CHARACTER : HEX_CHARACTER_OFFSET);\n    bytes[i] = n1 * 16 + n2;\n  }\n  return bytes;\n}\nfunction bigIntToBytes(value) {\n  _chunk6ZDHSOUVjs.assert.call(void 0, typeof value === \"bigint\", \"Value must be a bigint.\");\n  _chunk6ZDHSOUVjs.assert.call(void 0, value >= BigInt(0), \"Value must be a non-negative bigint.\");\n  const hexadecimal = value.toString(16);\n  return hexToBytes(hexadecimal);\n}\nfunction bigIntFits(value, bytes) {\n  _chunk6ZDHSOUVjs.assert.call(void 0, bytes > 0);\n  const mask = value >> BigInt(31);\n  return !((~value & mask) + (value & ~mask) >> BigInt(bytes * 8 + ~0));\n}\nfunction signedBigIntToBytes(value, byteLength) {\n  _chunk6ZDHSOUVjs.assert.call(void 0, typeof value === \"bigint\", \"Value must be a bigint.\");\n  _chunk6ZDHSOUVjs.assert.call(void 0, typeof byteLength === \"number\", \"Byte length must be a number.\");\n  _chunk6ZDHSOUVjs.assert.call(void 0, byteLength > 0, \"Byte length must be greater than 0.\");\n  _chunk6ZDHSOUVjs.assert.call(void 0, \n    bigIntFits(value, byteLength),\n    \"Byte length is too small to represent the given value.\"\n  );\n  let numberValue = value;\n  const bytes = new Uint8Array(byteLength);\n  for (let i = 0; i < bytes.length; i++) {\n    bytes[i] = Number(BigInt.asUintN(8, numberValue));\n    numberValue >>= BigInt(8);\n  }\n  return bytes.reverse();\n}\nfunction numberToBytes(value) {\n  _chunk6ZDHSOUVjs.assert.call(void 0, typeof value === \"number\", \"Value must be a number.\");\n  _chunk6ZDHSOUVjs.assert.call(void 0, value >= 0, \"Value must be a non-negative number.\");\n  _chunk6ZDHSOUVjs.assert.call(void 0, \n    Number.isSafeInteger(value),\n    \"Value is not a safe integer. Use `bigIntToBytes` instead.\"\n  );\n  const hexadecimal = value.toString(16);\n  return hexToBytes(hexadecimal);\n}\nfunction stringToBytes(value) {\n  _chunk6ZDHSOUVjs.assert.call(void 0, typeof value === \"string\", \"Value must be a string.\");\n  return new TextEncoder().encode(value);\n}\nfunction base64ToBytes(value) {\n  _chunk6ZDHSOUVjs.assert.call(void 0, typeof value === \"string\", \"Value must be a string.\");\n  return _base.base64.decode(value);\n}\nfunction valueToBytes(value) {\n  if (typeof value === \"bigint\") {\n    return bigIntToBytes(value);\n  }\n  if (typeof value === \"number\") {\n    return numberToBytes(value);\n  }\n  if (typeof value === \"string\") {\n    if (value.startsWith(\"0x\")) {\n      return hexToBytes(value);\n    }\n    return stringToBytes(value);\n  }\n  if (isBytes(value)) {\n    return value;\n  }\n  throw new TypeError(`Unsupported value type: \"${typeof value}\".`);\n}\nfunction concatBytes(values) {\n  const normalizedValues = new Array(values.length);\n  let byteLength = 0;\n  for (let i = 0; i < values.length; i++) {\n    const value = valueToBytes(values[i]);\n    normalizedValues[i] = value;\n    byteLength += value.length;\n  }\n  const bytes = new Uint8Array(byteLength);\n  for (let i = 0, offset = 0; i < normalizedValues.length; i++) {\n    bytes.set(normalizedValues[i], offset);\n    offset += normalizedValues[i].length;\n  }\n  return bytes;\n}\nfunction createDataView(bytes) {\n  if (typeof Buffer !== \"undefined\" && bytes instanceof Buffer) {\n    const buffer = bytes.buffer.slice(\n      bytes.byteOffset,\n      bytes.byteOffset + bytes.byteLength\n    );\n    return new DataView(buffer);\n  }\n  return new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);\n}\n\n// src/hex.ts\nvar HexStruct = _superstruct.pattern.call(void 0, _superstruct.string.call(void 0, ), /^(?:0x)?[0-9a-f]+$/iu);\nvar StrictHexStruct = _superstruct.pattern.call(void 0, _superstruct.string.call(void 0, ), /^0x[0-9a-f]+$/iu);\nvar HexAddressStruct = _superstruct.pattern.call(void 0, \n  _superstruct.string.call(void 0, ),\n  /^0x[0-9a-f]{40}$/u\n);\nvar HexChecksumAddressStruct = _superstruct.pattern.call(void 0, \n  _superstruct.string.call(void 0, ),\n  /^0x[0-9a-fA-F]{40}$/u\n);\nfunction isHexString(value) {\n  return _superstruct.is.call(void 0, value, HexStruct);\n}\nfunction isStrictHexString(value) {\n  return _superstruct.is.call(void 0, value, StrictHexStruct);\n}\nfunction assertIsHexString(value) {\n  _chunk6ZDHSOUVjs.assert.call(void 0, isHexString(value), \"Value must be a hexadecimal string.\");\n}\nfunction assertIsStrictHexString(value) {\n  _chunk6ZDHSOUVjs.assert.call(void 0, \n    isStrictHexString(value),\n    'Value must be a hexadecimal string, starting with \"0x\".'\n  );\n}\nfunction isValidHexAddress(possibleAddress) {\n  return _superstruct.is.call(void 0, possibleAddress, HexAddressStruct) || isValidChecksumAddress(possibleAddress);\n}\nfunction getChecksumAddress(address) {\n  _chunk6ZDHSOUVjs.assert.call(void 0, _superstruct.is.call(void 0, address, HexChecksumAddressStruct), \"Invalid hex address.\");\n  const unPrefixed = remove0x(address.toLowerCase());\n  const unPrefixedHash = remove0x(bytesToHex(_sha3.keccak_256.call(void 0, unPrefixed)));\n  return `0x${unPrefixed.split(\"\").map((character, nibbleIndex) => {\n    const hashCharacter = unPrefixedHash[nibbleIndex];\n    _chunk6ZDHSOUVjs.assert.call(void 0, _superstruct.is.call(void 0, hashCharacter, _superstruct.string.call(void 0, )), \"Hash shorter than address.\");\n    return parseInt(hashCharacter, 16) > 7 ? character.toUpperCase() : character;\n  }).join(\"\")}`;\n}\nfunction isValidChecksumAddress(possibleChecksum) {\n  if (!_superstruct.is.call(void 0, possibleChecksum, HexChecksumAddressStruct)) {\n    return false;\n  }\n  return getChecksumAddress(possibleChecksum) === possibleChecksum;\n}\nfunction add0x(hexadecimal) {\n  if (hexadecimal.startsWith(\"0x\")) {\n    return hexadecimal;\n  }\n  if (hexadecimal.startsWith(\"0X\")) {\n    return `0x${hexadecimal.substring(2)}`;\n  }\n  return `0x${hexadecimal}`;\n}\nfunction remove0x(hexadecimal) {\n  if (hexadecimal.startsWith(\"0x\") || hexadecimal.startsWith(\"0X\")) {\n    return hexadecimal.substring(2);\n  }\n  return hexadecimal;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexports.HexStruct = HexStruct; exports.StrictHexStruct = StrictHexStruct; exports.HexAddressStruct = HexAddressStruct; exports.HexChecksumAddressStruct = HexChecksumAddressStruct; exports.isHexString = isHexString; exports.isStrictHexString = isStrictHexString; exports.assertIsHexString = assertIsHexString; exports.assertIsStrictHexString = assertIsStrictHexString; exports.isValidHexAddress = isValidHexAddress; exports.getChecksumAddress = getChecksumAddress; exports.isValidChecksumAddress = isValidChecksumAddress; exports.add0x = add0x; exports.remove0x = remove0x; exports.isBytes = isBytes; exports.assertIsBytes = assertIsBytes; exports.bytesToHex = bytesToHex; exports.bytesToBigInt = bytesToBigInt; exports.bytesToSignedBigInt = bytesToSignedBigInt; exports.bytesToNumber = bytesToNumber; exports.bytesToString = bytesToString; exports.bytesToBase64 = bytesToBase64; exports.hexToBytes = hexToBytes; exports.bigIntToBytes = bigIntToBytes; exports.signedBigIntToBytes = signedBigIntToBytes; exports.numberToBytes = numberToBytes; exports.stringToBytes = stringToBytes; exports.base64ToBytes = base64ToBytes; exports.valueToBytes = valueToBytes; exports.concatBytes = concatBytes; exports.createDataView = createDataView;\n//# sourceMappingURL=chunk-QEPVHEP7.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true}); function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } }// src/misc.ts\nfunction isNonEmptyArray(value) {\n  return Array.isArray(value) && value.length > 0;\n}\nfunction isNullOrUndefined(value) {\n  return value === null || value === void 0;\n}\nfunction isObject(value) {\n  return Boolean(value) && typeof value === \"object\" && !Array.isArray(value);\n}\nvar hasProperty = (objectToCheck, name) => Object.hasOwnProperty.call(objectToCheck, name);\nfunction getKnownPropertyNames(object) {\n  return Object.getOwnPropertyNames(object);\n}\nvar JsonSize = /* @__PURE__ */ ((JsonSize2) => {\n  JsonSize2[JsonSize2[\"Null\"] = 4] = \"Null\";\n  JsonSize2[JsonSize2[\"Comma\"] = 1] = \"Comma\";\n  JsonSize2[JsonSize2[\"Wrapper\"] = 1] = \"Wrapper\";\n  JsonSize2[JsonSize2[\"True\"] = 4] = \"True\";\n  JsonSize2[JsonSize2[\"False\"] = 5] = \"False\";\n  JsonSize2[JsonSize2[\"Quote\"] = 1] = \"Quote\";\n  JsonSize2[JsonSize2[\"Colon\"] = 1] = \"Colon\";\n  JsonSize2[JsonSize2[\"Date\"] = 24] = \"Date\";\n  return JsonSize2;\n})(JsonSize || {});\nvar ESCAPE_CHARACTERS_REGEXP = /\"|\\\\|\\n|\\r|\\t/gu;\nfunction isPlainObject(value) {\n  if (typeof value !== \"object\" || value === null) {\n    return false;\n  }\n  try {\n    let proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n      proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n  } catch (_) {\n    return false;\n  }\n}\nfunction isASCII(character) {\n  return character.charCodeAt(0) <= 127;\n}\nfunction calculateStringSize(value) {\n  const size = value.split(\"\").reduce((total, character) => {\n    if (isASCII(character)) {\n      return total + 1;\n    }\n    return total + 2;\n  }, 0);\n  return size + (_nullishCoalesce(value.match(ESCAPE_CHARACTERS_REGEXP), () => ( []))).length;\n}\nfunction calculateNumberSize(value) {\n  return value.toString().length;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\nexports.isNonEmptyArray = isNonEmptyArray; exports.isNullOrUndefined = isNullOrUndefined; exports.isObject = isObject; exports.hasProperty = hasProperty; exports.getKnownPropertyNames = getKnownPropertyNames; exports.JsonSize = JsonSize; exports.ESCAPE_CHARACTERS_REGEXP = ESCAPE_CHARACTERS_REGEXP; exports.isPlainObject = isPlainObject; exports.isASCII = isASCII; exports.calculateStringSize = calculateStringSize; exports.calculateNumberSize = calculateNumberSize;\n//# sourceMappingURL=chunk-QVEKZRZ2.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true}); function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }// src/caip-types.ts\nvar _superstruct = require('superstruct');\nvar CAIP_CHAIN_ID_REGEX = /^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u;\nvar CAIP_NAMESPACE_REGEX = /^[-a-z0-9]{3,8}$/u;\nvar CAIP_REFERENCE_REGEX = /^[-_a-zA-Z0-9]{1,32}$/u;\nvar CAIP_ACCOUNT_ID_REGEX = /^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u;\nvar CAIP_ACCOUNT_ADDRESS_REGEX = /^[-.%a-zA-Z0-9]{1,128}$/u;\nvar CaipChainIdStruct = _superstruct.pattern.call(void 0, _superstruct.string.call(void 0, ), CAIP_CHAIN_ID_REGEX);\nvar CaipNamespaceStruct = _superstruct.pattern.call(void 0, _superstruct.string.call(void 0, ), CAIP_NAMESPACE_REGEX);\nvar CaipReferenceStruct = _superstruct.pattern.call(void 0, _superstruct.string.call(void 0, ), CAIP_REFERENCE_REGEX);\nvar CaipAccountIdStruct = _superstruct.pattern.call(void 0, _superstruct.string.call(void 0, ), CAIP_ACCOUNT_ID_REGEX);\nvar CaipAccountAddressStruct = _superstruct.pattern.call(void 0, \n  _superstruct.string.call(void 0, ),\n  CAIP_ACCOUNT_ADDRESS_REGEX\n);\nfunction isCaipChainId(value) {\n  return _superstruct.is.call(void 0, value, CaipChainIdStruct);\n}\nfunction isCaipNamespace(value) {\n  return _superstruct.is.call(void 0, value, CaipNamespaceStruct);\n}\nfunction isCaipReference(value) {\n  return _superstruct.is.call(void 0, value, CaipReferenceStruct);\n}\nfunction isCaipAccountId(value) {\n  return _superstruct.is.call(void 0, value, CaipAccountIdStruct);\n}\nfunction isCaipAccountAddress(value) {\n  return _superstruct.is.call(void 0, value, CaipAccountAddressStruct);\n}\nfunction parseCaipChainId(caipChainId) {\n  const match = CAIP_CHAIN_ID_REGEX.exec(caipChainId);\n  if (!_optionalChain([match, 'optionalAccess', _ => _.groups])) {\n    throw new Error(\"Invalid CAIP chain ID.\");\n  }\n  return {\n    namespace: match.groups.namespace,\n    reference: match.groups.reference\n  };\n}\nfunction parseCaipAccountId(caipAccountId) {\n  const match = CAIP_ACCOUNT_ID_REGEX.exec(caipAccountId);\n  if (!_optionalChain([match, 'optionalAccess', _2 => _2.groups])) {\n    throw new Error(\"Invalid CAIP account ID.\");\n  }\n  return {\n    address: match.groups.accountAddress,\n    chainId: match.groups.chainId,\n    chain: {\n      namespace: match.groups.namespace,\n      reference: match.groups.reference\n    }\n  };\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexports.CAIP_CHAIN_ID_REGEX = CAIP_CHAIN_ID_REGEX; exports.CAIP_NAMESPACE_REGEX = CAIP_NAMESPACE_REGEX; exports.CAIP_REFERENCE_REGEX = CAIP_REFERENCE_REGEX; exports.CAIP_ACCOUNT_ID_REGEX = CAIP_ACCOUNT_ID_REGEX; exports.CAIP_ACCOUNT_ADDRESS_REGEX = CAIP_ACCOUNT_ADDRESS_REGEX; exports.CaipChainIdStruct = CaipChainIdStruct; exports.CaipNamespaceStruct = CaipNamespaceStruct; exports.CaipReferenceStruct = CaipReferenceStruct; exports.CaipAccountIdStruct = CaipAccountIdStruct; exports.CaipAccountAddressStruct = CaipAccountAddressStruct; exports.isCaipChainId = isCaipChainId; exports.isCaipNamespace = isCaipNamespace; exports.isCaipReference = isCaipReference; exports.isCaipAccountId = isCaipAccountId; exports.isCaipAccountAddress = isCaipAccountAddress; exports.parseCaipChainId = parseCaipChainId; exports.parseCaipAccountId = parseCaipAccountId;\n//# sourceMappingURL=chunk-U7ZUGCE7.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true});\n\n\nvar _chunkQEPVHEP7js = require('./chunk-QEPVHEP7.js');\n\n\nvar _chunk6ZDHSOUVjs = require('./chunk-6ZDHSOUV.js');\n\n// src/number.ts\nvar numberToHex = (value) => {\n  _chunk6ZDHSOUVjs.assert.call(void 0, typeof value === \"number\", \"Value must be a number.\");\n  _chunk6ZDHSOUVjs.assert.call(void 0, value >= 0, \"Value must be a non-negative number.\");\n  _chunk6ZDHSOUVjs.assert.call(void 0, \n    Number.isSafeInteger(value),\n    \"Value is not a safe integer. Use `bigIntToHex` instead.\"\n  );\n  return _chunkQEPVHEP7js.add0x.call(void 0, value.toString(16));\n};\nvar bigIntToHex = (value) => {\n  _chunk6ZDHSOUVjs.assert.call(void 0, typeof value === \"bigint\", \"Value must be a bigint.\");\n  _chunk6ZDHSOUVjs.assert.call(void 0, value >= 0, \"Value must be a non-negative bigint.\");\n  return _chunkQEPVHEP7js.add0x.call(void 0, value.toString(16));\n};\nvar hexToNumber = (value) => {\n  _chunkQEPVHEP7js.assertIsHexString.call(void 0, value);\n  const numberValue = parseInt(value, 16);\n  _chunk6ZDHSOUVjs.assert.call(void 0, \n    Number.isSafeInteger(numberValue),\n    \"Value is not a safe integer. Use `hexToBigInt` instead.\"\n  );\n  return numberValue;\n};\nvar hexToBigInt = (value) => {\n  _chunkQEPVHEP7js.assertIsHexString.call(void 0, value);\n  return BigInt(_chunkQEPVHEP7js.add0x.call(void 0, value));\n};\n\n\n\n\n\n\nexports.numberToHex = numberToHex; exports.bigIntToHex = bigIntToHex; exports.hexToNumber = hexToNumber; exports.hexToBigInt = hexToBigInt;\n//# sourceMappingURL=chunk-VFXTVNXN.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true});\n\n\n\nvar _chunk3W5G4CYIjs = require('./chunk-3W5G4CYI.js');\n\n// src/collections.ts\nvar _map;\nvar FrozenMap = class {\n  constructor(entries) {\n    _chunk3W5G4CYIjs.__privateAdd.call(void 0, this, _map, void 0);\n    _chunk3W5G4CYIjs.__privateSet.call(void 0, this, _map, new Map(entries));\n    Object.freeze(this);\n  }\n  get size() {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _map).size;\n  }\n  [Symbol.iterator]() {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _map)[Symbol.iterator]();\n  }\n  entries() {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _map).entries();\n  }\n  forEach(callbackfn, thisArg) {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _map).forEach(\n      (value, key, _map2) => callbackfn.call(thisArg, value, key, this)\n    );\n  }\n  get(key) {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _map).get(key);\n  }\n  has(key) {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _map).has(key);\n  }\n  keys() {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _map).keys();\n  }\n  values() {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _map).values();\n  }\n  toString() {\n    return `FrozenMap(${this.size}) {${this.size > 0 ? ` ${[...this.entries()].map(([key, value]) => `${String(key)} => ${String(value)}`).join(\", \")} ` : \"\"}}`;\n  }\n};\n_map = new WeakMap();\nvar _set;\nvar FrozenSet = class {\n  constructor(values) {\n    _chunk3W5G4CYIjs.__privateAdd.call(void 0, this, _set, void 0);\n    _chunk3W5G4CYIjs.__privateSet.call(void 0, this, _set, new Set(values));\n    Object.freeze(this);\n  }\n  get size() {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _set).size;\n  }\n  [Symbol.iterator]() {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _set)[Symbol.iterator]();\n  }\n  entries() {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _set).entries();\n  }\n  forEach(callbackfn, thisArg) {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _set).forEach(\n      (value, value2, _set2) => callbackfn.call(thisArg, value, value2, this)\n    );\n  }\n  has(value) {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _set).has(value);\n  }\n  keys() {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _set).keys();\n  }\n  values() {\n    return _chunk3W5G4CYIjs.__privateGet.call(void 0, this, _set).values();\n  }\n  toString() {\n    return `FrozenSet(${this.size}) {${this.size > 0 ? ` ${[...this.values()].map((member) => String(member)).join(\", \")} ` : \"\"}}`;\n  }\n};\n_set = new WeakMap();\nObject.freeze(FrozenMap);\nObject.freeze(FrozenMap.prototype);\nObject.freeze(FrozenSet);\nObject.freeze(FrozenSet.prototype);\n\n\n\n\nexports.FrozenMap = FrozenMap; exports.FrozenSet = FrozenSet;\n//# sourceMappingURL=chunk-Z2RGWDD7.js.map","\"use strict\";Object.defineProperty(exports, \"__esModule\", {value: true});require('./chunk-2TBCL6EF.js');\n\n\n\n\n\nvar _chunkVFXTVNXNjs = require('./chunk-VFXTVNXN.js');\nrequire('./chunk-LC2CRSWD.js');\n\n\n\n\nvar _chunk4RMX5YWEjs = require('./chunk-4RMX5YWE.js');\nrequire('./chunk-UOTVU7OQ.js');\n\n\n\n\n\n\n\n\n\n\nvar _chunk4D6XQBHAjs = require('./chunk-4D6XQBHA.js');\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _chunkOLLG4H35js = require('./chunk-OLLG4H35.js');\nrequire('./chunk-RKRGAFXY.js');\n\n\n\nvar _chunk2LBGT4GHjs = require('./chunk-2LBGT4GH.js');\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _chunkU7ZUGCE7js = require('./chunk-U7ZUGCE7.js');\n\n\nvar _chunkE4C7EW4Rjs = require('./chunk-E4C7EW4R.js');\n\n\nvar _chunk6NZW4WK4js = require('./chunk-6NZW4WK4.js');\n\n\n\n\n\nvar _chunkDHVKFDHQjs = require('./chunk-DHVKFDHQ.js');\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar _chunkQEPVHEP7js = require('./chunk-QEPVHEP7.js');\n\n\n\n\n\nvar _chunk6ZDHSOUVjs = require('./chunk-6ZDHSOUV.js');\n\n\n\n\n\n\nvar _chunkIZC266HSjs = require('./chunk-IZC266HS.js');\n\n\n\n\n\n\n\n\n\n\n\n\nvar _chunkQVEKZRZ2js = require('./chunk-QVEKZRZ2.js');\n\n\n\nvar _chunkZ2RGWDD7js = require('./chunk-Z2RGWDD7.js');\nrequire('./chunk-3W5G4CYI.js');\nrequire('./chunk-EQMZL4XU.js');\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexports.AssertionError = _chunk6ZDHSOUVjs.AssertionError; exports.CAIP_ACCOUNT_ADDRESS_REGEX = _chunkU7ZUGCE7js.CAIP_ACCOUNT_ADDRESS_REGEX; exports.CAIP_ACCOUNT_ID_REGEX = _chunkU7ZUGCE7js.CAIP_ACCOUNT_ID_REGEX; exports.CAIP_CHAIN_ID_REGEX = _chunkU7ZUGCE7js.CAIP_CHAIN_ID_REGEX; exports.CAIP_NAMESPACE_REGEX = _chunkU7ZUGCE7js.CAIP_NAMESPACE_REGEX; exports.CAIP_REFERENCE_REGEX = _chunkU7ZUGCE7js.CAIP_REFERENCE_REGEX; exports.CaipAccountAddressStruct = _chunkU7ZUGCE7js.CaipAccountAddressStruct; exports.CaipAccountIdStruct = _chunkU7ZUGCE7js.CaipAccountIdStruct; exports.CaipChainIdStruct = _chunkU7ZUGCE7js.CaipChainIdStruct; exports.CaipNamespaceStruct = _chunkU7ZUGCE7js.CaipNamespaceStruct; exports.CaipReferenceStruct = _chunkU7ZUGCE7js.CaipReferenceStruct; exports.ChecksumStruct = _chunkE4C7EW4Rjs.ChecksumStruct; exports.Duration = _chunk4RMX5YWEjs.Duration; exports.ESCAPE_CHARACTERS_REGEXP = _chunkQVEKZRZ2js.ESCAPE_CHARACTERS_REGEXP; exports.FrozenMap = _chunkZ2RGWDD7js.FrozenMap; exports.FrozenSet = _chunkZ2RGWDD7js.FrozenSet; exports.HexAddressStruct = _chunkQEPVHEP7js.HexAddressStruct; exports.HexChecksumAddressStruct = _chunkQEPVHEP7js.HexChecksumAddressStruct; exports.HexStruct = _chunkQEPVHEP7js.HexStruct; exports.JsonRpcErrorStruct = _chunkOLLG4H35js.JsonRpcErrorStruct; exports.JsonRpcFailureStruct = _chunkOLLG4H35js.JsonRpcFailureStruct; exports.JsonRpcIdStruct = _chunkOLLG4H35js.JsonRpcIdStruct; exports.JsonRpcNotificationStruct = _chunkOLLG4H35js.JsonRpcNotificationStruct; exports.JsonRpcParamsStruct = _chunkOLLG4H35js.JsonRpcParamsStruct; exports.JsonRpcRequestStruct = _chunkOLLG4H35js.JsonRpcRequestStruct; exports.JsonRpcResponseStruct = _chunkOLLG4H35js.JsonRpcResponseStruct; exports.JsonRpcSuccessStruct = _chunkOLLG4H35js.JsonRpcSuccessStruct; exports.JsonRpcVersionStruct = _chunkOLLG4H35js.JsonRpcVersionStruct; exports.JsonSize = _chunkQVEKZRZ2js.JsonSize; exports.JsonStruct = _chunkOLLG4H35js.JsonStruct; exports.PendingJsonRpcResponseStruct = _chunkOLLG4H35js.PendingJsonRpcResponseStruct; exports.StrictHexStruct = _chunkQEPVHEP7js.StrictHexStruct; exports.UnsafeJsonStruct = _chunkOLLG4H35js.UnsafeJsonStruct; exports.VersionRangeStruct = _chunk4D6XQBHAjs.VersionRangeStruct; exports.VersionStruct = _chunk4D6XQBHAjs.VersionStruct; exports.add0x = _chunkQEPVHEP7js.add0x; exports.assert = _chunk6ZDHSOUVjs.assert; exports.assertExhaustive = _chunk6ZDHSOUVjs.assertExhaustive; exports.assertIsBytes = _chunkQEPVHEP7js.assertIsBytes; exports.assertIsHexString = _chunkQEPVHEP7js.assertIsHexString; exports.assertIsJsonRpcError = _chunkOLLG4H35js.assertIsJsonRpcError; exports.assertIsJsonRpcFailure = _chunkOLLG4H35js.assertIsJsonRpcFailure; exports.assertIsJsonRpcNotification = _chunkOLLG4H35js.assertIsJsonRpcNotification; exports.assertIsJsonRpcRequest = _chunkOLLG4H35js.assertIsJsonRpcRequest; exports.assertIsJsonRpcResponse = _chunkOLLG4H35js.assertIsJsonRpcResponse; exports.assertIsJsonRpcSuccess = _chunkOLLG4H35js.assertIsJsonRpcSuccess; exports.assertIsPendingJsonRpcResponse = _chunkOLLG4H35js.assertIsPendingJsonRpcResponse; exports.assertIsSemVerRange = _chunk4D6XQBHAjs.assertIsSemVerRange; exports.assertIsSemVerVersion = _chunk4D6XQBHAjs.assertIsSemVerVersion; exports.assertIsStrictHexString = _chunkQEPVHEP7js.assertIsStrictHexString; exports.assertStruct = _chunk6ZDHSOUVjs.assertStruct; exports.base64 = _chunk6NZW4WK4js.base64; exports.base64ToBytes = _chunkQEPVHEP7js.base64ToBytes; exports.bigIntToBytes = _chunkQEPVHEP7js.bigIntToBytes; exports.bigIntToHex = _chunkVFXTVNXNjs.bigIntToHex; exports.bytesToBase64 = _chunkQEPVHEP7js.bytesToBase64; exports.bytesToBigInt = _chunkQEPVHEP7js.bytesToBigInt; exports.bytesToHex = _chunkQEPVHEP7js.bytesToHex; exports.bytesToNumber = _chunkQEPVHEP7js.bytesToNumber; exports.bytesToSignedBigInt = _chunkQEPVHEP7js.bytesToSignedBigInt; exports.bytesToString = _chunkQEPVHEP7js.bytesToString; exports.calculateNumberSize = _chunkQVEKZRZ2js.calculateNumberSize; exports.calculateStringSize = _chunkQVEKZRZ2js.calculateStringSize; exports.concatBytes = _chunkQEPVHEP7js.concatBytes; exports.createBigInt = _chunkDHVKFDHQjs.createBigInt; exports.createBytes = _chunkDHVKFDHQjs.createBytes; exports.createDataView = _chunkQEPVHEP7js.createDataView; exports.createHex = _chunkDHVKFDHQjs.createHex; exports.createModuleLogger = _chunk2LBGT4GHjs.createModuleLogger; exports.createNumber = _chunkDHVKFDHQjs.createNumber; exports.createProjectLogger = _chunk2LBGT4GHjs.createProjectLogger; exports.exactOptional = _chunkOLLG4H35js.exactOptional; exports.getChecksumAddress = _chunkQEPVHEP7js.getChecksumAddress; exports.getErrorMessage = _chunkIZC266HSjs.getErrorMessage; exports.getJsonRpcIdValidator = _chunkOLLG4H35js.getJsonRpcIdValidator; exports.getJsonSize = _chunkOLLG4H35js.getJsonSize; exports.getKnownPropertyNames = _chunkQVEKZRZ2js.getKnownPropertyNames; exports.getSafeJson = _chunkOLLG4H35js.getSafeJson; exports.gtRange = _chunk4D6XQBHAjs.gtRange; exports.gtVersion = _chunk4D6XQBHAjs.gtVersion; exports.hasProperty = _chunkQVEKZRZ2js.hasProperty; exports.hexToBigInt = _chunkVFXTVNXNjs.hexToBigInt; exports.hexToBytes = _chunkQEPVHEP7js.hexToBytes; exports.hexToNumber = _chunkVFXTVNXNjs.hexToNumber; exports.inMilliseconds = _chunk4RMX5YWEjs.inMilliseconds; exports.isASCII = _chunkQVEKZRZ2js.isASCII; exports.isBytes = _chunkQEPVHEP7js.isBytes; exports.isCaipAccountAddress = _chunkU7ZUGCE7js.isCaipAccountAddress; exports.isCaipAccountId = _chunkU7ZUGCE7js.isCaipAccountId; exports.isCaipChainId = _chunkU7ZUGCE7js.isCaipChainId; exports.isCaipNamespace = _chunkU7ZUGCE7js.isCaipNamespace; exports.isCaipReference = _chunkU7ZUGCE7js.isCaipReference; exports.isErrorWithCode = _chunkIZC266HSjs.isErrorWithCode; exports.isErrorWithMessage = _chunkIZC266HSjs.isErrorWithMessage; exports.isErrorWithStack = _chunkIZC266HSjs.isErrorWithStack; exports.isHexString = _chunkQEPVHEP7js.isHexString; exports.isJsonRpcError = _chunkOLLG4H35js.isJsonRpcError; exports.isJsonRpcFailure = _chunkOLLG4H35js.isJsonRpcFailure; exports.isJsonRpcNotification = _chunkOLLG4H35js.isJsonRpcNotification; exports.isJsonRpcRequest = _chunkOLLG4H35js.isJsonRpcRequest; exports.isJsonRpcResponse = _chunkOLLG4H35js.isJsonRpcResponse; exports.isJsonRpcSuccess = _chunkOLLG4H35js.isJsonRpcSuccess; exports.isNonEmptyArray = _chunkQVEKZRZ2js.isNonEmptyArray; exports.isNullOrUndefined = _chunkQVEKZRZ2js.isNullOrUndefined; exports.isObject = _chunkQVEKZRZ2js.isObject; exports.isPendingJsonRpcResponse = _chunkOLLG4H35js.isPendingJsonRpcResponse; exports.isPlainObject = _chunkQVEKZRZ2js.isPlainObject; exports.isStrictHexString = _chunkQEPVHEP7js.isStrictHexString; exports.isValidChecksumAddress = _chunkQEPVHEP7js.isValidChecksumAddress; exports.isValidHexAddress = _chunkQEPVHEP7js.isValidHexAddress; exports.isValidJson = _chunkOLLG4H35js.isValidJson; exports.isValidSemVerRange = _chunk4D6XQBHAjs.isValidSemVerRange; exports.isValidSemVerVersion = _chunk4D6XQBHAjs.isValidSemVerVersion; exports.jsonrpc2 = _chunkOLLG4H35js.jsonrpc2; exports.numberToBytes = _chunkQEPVHEP7js.numberToBytes; exports.numberToHex = _chunkVFXTVNXNjs.numberToHex; exports.object = _chunkOLLG4H35js.object; exports.parseCaipAccountId = _chunkU7ZUGCE7js.parseCaipAccountId; exports.parseCaipChainId = _chunkU7ZUGCE7js.parseCaipChainId; exports.remove0x = _chunkQEPVHEP7js.remove0x; exports.satisfiesVersionRange = _chunk4D6XQBHAjs.satisfiesVersionRange; exports.signedBigIntToBytes = _chunkQEPVHEP7js.signedBigIntToBytes; exports.stringToBytes = _chunkQEPVHEP7js.stringToBytes; exports.timeSince = _chunk4RMX5YWEjs.timeSince; exports.valueToBytes = _chunkQEPVHEP7js.valueToBytes; exports.wrapError = _chunkIZC266HSjs.wrapError;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.output = exports.exists = exports.hash = exports.bytes = exports.bool = exports.number = void 0;\nfunction number(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error(`Wrong positive integer: ${n}`);\n}\nexports.number = number;\nfunction bool(b) {\n    if (typeof b !== 'boolean')\n        throw new Error(`Expected boolean, not ${b}`);\n}\nexports.bool = bool;\nfunction bytes(b, ...lengths) {\n    if (!(b instanceof Uint8Array))\n        throw new Error('Expected Uint8Array');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\nexports.bytes = bytes;\nfunction hash(hash) {\n    if (typeof hash !== 'function' || typeof hash.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.wrapConstructor');\n    number(hash.outputLen);\n    number(hash.blockLen);\n}\nexports.hash = hash;\nfunction exists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\nexports.exists = exists;\nfunction output(out, instance) {\n    bytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n    }\n}\nexports.output = output;\nconst assert = { number, bool, bytes, hash, exists, output };\nexports.default = assert;\n//# sourceMappingURL=_assert.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.add5L = exports.add5H = exports.add4H = exports.add4L = exports.add3H = exports.add3L = exports.add = exports.rotlBL = exports.rotlBH = exports.rotlSL = exports.rotlSH = exports.rotr32L = exports.rotr32H = exports.rotrBL = exports.rotrBH = exports.rotrSL = exports.rotrSH = exports.shrSL = exports.shrSH = exports.toBig = exports.split = exports.fromBig = void 0;\nconst U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\n// We are not using BigUint64Array, because they are extremely slow as per 2022\nfunction fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nexports.fromBig = fromBig;\nfunction split(lst, le = false) {\n    let Ah = new Uint32Array(lst.length);\n    let Al = new Uint32Array(lst.length);\n    for (let i = 0; i < lst.length; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nexports.split = split;\nconst toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\nexports.toBig = toBig;\n// for Shift in [0, 32)\nconst shrSH = (h, _l, s) => h >>> s;\nexports.shrSH = shrSH;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\nexports.shrSL = shrSL;\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nexports.rotrSH = rotrSH;\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\nexports.rotrSL = rotrSL;\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nexports.rotrBH = rotrBH;\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\nexports.rotrBL = rotrBL;\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h, l) => l;\nexports.rotr32H = rotr32H;\nconst rotr32L = (h, _l) => h;\nexports.rotr32L = rotr32L;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nexports.rotlSH = rotlSH;\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\nexports.rotlSL = rotlSL;\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nexports.rotlBH = rotlBH;\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\nexports.rotlBL = rotlBL;\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\nexports.add = add;\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nexports.add3L = add3L;\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nexports.add3H = add3H;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nexports.add4L = add4L;\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nexports.add4H = add4H;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nexports.add5L = add5L;\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\nexports.add5H = add5H;\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexports.default = u64;\n//# sourceMappingURL=_u64.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.crypto = void 0;\nexports.crypto = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n//# sourceMappingURL=crypto.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shake256 = exports.shake128 = exports.keccak_512 = exports.keccak_384 = exports.keccak_256 = exports.keccak_224 = exports.sha3_512 = exports.sha3_384 = exports.sha3_256 = exports.sha3_224 = exports.Keccak = exports.keccakP = void 0;\nconst _assert_js_1 = require(\"./_assert.js\");\nconst _u64_js_1 = require(\"./_u64.js\");\nconst utils_js_1 = require(\"./utils.js\");\n// SHA3 (keccak) is based on a new design: basically, the internal state is bigger than output size.\n// It's called a sponge function.\n// Various per round constants calculations\nconst [SHA3_PI, SHA3_ROTL, _SHA3_IOTA] = [[], [], []];\nconst _0n = /* @__PURE__ */ BigInt(0);\nconst _1n = /* @__PURE__ */ BigInt(1);\nconst _2n = /* @__PURE__ */ BigInt(2);\nconst _7n = /* @__PURE__ */ BigInt(7);\nconst _256n = /* @__PURE__ */ BigInt(256);\nconst _0x71n = /* @__PURE__ */ BigInt(0x71);\nfor (let round = 0, R = _1n, x = 1, y = 0; round < 24; round++) {\n    // Pi\n    [x, y] = [y, (2 * x + 3 * y) % 5];\n    SHA3_PI.push(2 * (5 * y + x));\n    // Rotational\n    SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);\n    // Iota\n    let t = _0n;\n    for (let j = 0; j < 7; j++) {\n        R = ((R << _1n) ^ ((R >> _7n) * _0x71n)) % _256n;\n        if (R & _2n)\n            t ^= _1n << ((_1n << /* @__PURE__ */ BigInt(j)) - _1n);\n    }\n    _SHA3_IOTA.push(t);\n}\nconst [SHA3_IOTA_H, SHA3_IOTA_L] = /* @__PURE__ */ (0, _u64_js_1.split)(_SHA3_IOTA, true);\n// Left rotation (without 0, 32, 64)\nconst rotlH = (h, l, s) => (s > 32 ? (0, _u64_js_1.rotlBH)(h, l, s) : (0, _u64_js_1.rotlSH)(h, l, s));\nconst rotlL = (h, l, s) => (s > 32 ? (0, _u64_js_1.rotlBL)(h, l, s) : (0, _u64_js_1.rotlSL)(h, l, s));\n// Same as keccakf1600, but allows to skip some rounds\nfunction keccakP(s, rounds = 24) {\n    const B = new Uint32Array(5 * 2);\n    // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)\n    for (let round = 24 - rounds; round < 24; round++) {\n        // Theta θ\n        for (let x = 0; x < 10; x++)\n            B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];\n        for (let x = 0; x < 10; x += 2) {\n            const idx1 = (x + 8) % 10;\n            const idx0 = (x + 2) % 10;\n            const B0 = B[idx0];\n            const B1 = B[idx0 + 1];\n            const Th = rotlH(B0, B1, 1) ^ B[idx1];\n            const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];\n            for (let y = 0; y < 50; y += 10) {\n                s[x + y] ^= Th;\n                s[x + y + 1] ^= Tl;\n            }\n        }\n        // Rho (ρ) and Pi (π)\n        let curH = s[2];\n        let curL = s[3];\n        for (let t = 0; t < 24; t++) {\n            const shift = SHA3_ROTL[t];\n            const Th = rotlH(curH, curL, shift);\n            const Tl = rotlL(curH, curL, shift);\n            const PI = SHA3_PI[t];\n            curH = s[PI];\n            curL = s[PI + 1];\n            s[PI] = Th;\n            s[PI + 1] = Tl;\n        }\n        // Chi (χ)\n        for (let y = 0; y < 50; y += 10) {\n            for (let x = 0; x < 10; x++)\n                B[x] = s[y + x];\n            for (let x = 0; x < 10; x++)\n                s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];\n        }\n        // Iota (ι)\n        s[0] ^= SHA3_IOTA_H[round];\n        s[1] ^= SHA3_IOTA_L[round];\n    }\n    B.fill(0);\n}\nexports.keccakP = keccakP;\nclass Keccak extends utils_js_1.Hash {\n    // NOTE: we accept arguments in bytes instead of bits here.\n    constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24) {\n        super();\n        this.blockLen = blockLen;\n        this.suffix = suffix;\n        this.outputLen = outputLen;\n        this.enableXOF = enableXOF;\n        this.rounds = rounds;\n        this.pos = 0;\n        this.posOut = 0;\n        this.finished = false;\n        this.destroyed = false;\n        // Can be passed from user as dkLen\n        (0, _assert_js_1.number)(outputLen);\n        // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes\n        if (0 >= this.blockLen || this.blockLen >= 200)\n            throw new Error('Sha3 supports only keccak-f1600 function');\n        this.state = new Uint8Array(200);\n        this.state32 = (0, utils_js_1.u32)(this.state);\n    }\n    keccak() {\n        keccakP(this.state32, this.rounds);\n        this.posOut = 0;\n        this.pos = 0;\n    }\n    update(data) {\n        (0, _assert_js_1.exists)(this);\n        const { blockLen, state } = this;\n        data = (0, utils_js_1.toBytes)(data);\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            for (let i = 0; i < take; i++)\n                state[this.pos++] ^= data[pos++];\n            if (this.pos === blockLen)\n                this.keccak();\n        }\n        return this;\n    }\n    finish() {\n        if (this.finished)\n            return;\n        this.finished = true;\n        const { state, suffix, pos, blockLen } = this;\n        // Do the padding\n        state[pos] ^= suffix;\n        if ((suffix & 0x80) !== 0 && pos === blockLen - 1)\n            this.keccak();\n        state[blockLen - 1] ^= 0x80;\n        this.keccak();\n    }\n    writeInto(out) {\n        (0, _assert_js_1.exists)(this, false);\n        (0, _assert_js_1.bytes)(out);\n        this.finish();\n        const bufferOut = this.state;\n        const { blockLen } = this;\n        for (let pos = 0, len = out.length; pos < len;) {\n            if (this.posOut >= blockLen)\n                this.keccak();\n            const take = Math.min(blockLen - this.posOut, len - pos);\n            out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);\n            this.posOut += take;\n            pos += take;\n        }\n        return out;\n    }\n    xofInto(out) {\n        // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF\n        if (!this.enableXOF)\n            throw new Error('XOF is not possible for this instance');\n        return this.writeInto(out);\n    }\n    xof(bytes) {\n        (0, _assert_js_1.number)(bytes);\n        return this.xofInto(new Uint8Array(bytes));\n    }\n    digestInto(out) {\n        (0, _assert_js_1.output)(out, this);\n        if (this.finished)\n            throw new Error('digest() was already called');\n        this.writeInto(out);\n        this.destroy();\n        return out;\n    }\n    digest() {\n        return this.digestInto(new Uint8Array(this.outputLen));\n    }\n    destroy() {\n        this.destroyed = true;\n        this.state.fill(0);\n    }\n    _cloneInto(to) {\n        const { blockLen, suffix, outputLen, rounds, enableXOF } = this;\n        to || (to = new Keccak(blockLen, suffix, outputLen, enableXOF, rounds));\n        to.state32.set(this.state32);\n        to.pos = this.pos;\n        to.posOut = this.posOut;\n        to.finished = this.finished;\n        to.rounds = rounds;\n        // Suffix can change in cSHAKE\n        to.suffix = suffix;\n        to.outputLen = outputLen;\n        to.enableXOF = enableXOF;\n        to.destroyed = this.destroyed;\n        return to;\n    }\n}\nexports.Keccak = Keccak;\nconst gen = (suffix, blockLen, outputLen) => (0, utils_js_1.wrapConstructor)(() => new Keccak(blockLen, suffix, outputLen));\nexports.sha3_224 = gen(0x06, 144, 224 / 8);\n/**\n * SHA3-256 hash function\n * @param message - that would be hashed\n */\nexports.sha3_256 = gen(0x06, 136, 256 / 8);\nexports.sha3_384 = gen(0x06, 104, 384 / 8);\nexports.sha3_512 = gen(0x06, 72, 512 / 8);\nexports.keccak_224 = gen(0x01, 144, 224 / 8);\n/**\n * keccak-256 hash function. Different from SHA3-256.\n * @param message - that would be hashed\n */\nexports.keccak_256 = gen(0x01, 136, 256 / 8);\nexports.keccak_384 = gen(0x01, 104, 384 / 8);\nexports.keccak_512 = gen(0x01, 72, 512 / 8);\nconst genShake = (suffix, blockLen, outputLen) => (0, utils_js_1.wrapXOFConstructorWithOpts)((opts = {}) => new Keccak(blockLen, suffix, opts.dkLen === undefined ? outputLen : opts.dkLen, true));\nexports.shake128 = genShake(0x1f, 168, 128 / 8);\nexports.shake256 = genShake(0x1f, 136, 256 / 8);\n//# sourceMappingURL=sha3.js.map","\"use strict\";\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.randomBytes = exports.wrapXOFConstructorWithOpts = exports.wrapConstructorWithOpts = exports.wrapConstructor = exports.checkOpts = exports.Hash = exports.concatBytes = exports.toBytes = exports.utf8ToBytes = exports.asyncLoop = exports.nextTick = exports.hexToBytes = exports.bytesToHex = exports.isLE = exports.rotr = exports.createView = exports.u32 = exports.u8 = void 0;\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nconst crypto_1 = require(\"@noble/hashes/crypto\");\nconst u8a = (a) => a instanceof Uint8Array;\n// Cast array to different type\nconst u8 = (arr) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexports.u8 = u8;\nconst u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\nexports.u32 = u32;\n// Cast array to view\nconst createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\nexports.createView = createView;\n// The rotate right (circular right shift) operation for uint32\nconst rotr = (word, shift) => (word << (32 - shift)) | (word >>> shift);\nexports.rotr = rotr;\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexports.isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!exports.isLE)\n    throw new Error('Non little-endian hardware is not supported');\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nfunction bytesToHex(bytes) {\n    if (!u8a(bytes))\n        throw new Error('Uint8Array expected');\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\nexports.bytesToHex = bytesToHex;\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const len = hex.length;\n    if (len % 2)\n        throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n    const array = new Uint8Array(len / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = hex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\nexports.hexToBytes = hexToBytes;\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nconst nextTick = async () => { };\nexports.nextTick = nextTick;\n// Returns control to thread each 'tick' ms to avoid blocking\nasync function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await (0, exports.nextTick)();\n        ts += diff;\n    }\n}\nexports.asyncLoop = asyncLoop;\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nfunction utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\nexports.utf8ToBytes = utf8ToBytes;\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nfunction toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    if (!u8a(data))\n        throw new Error(`expected Uint8Array, got ${typeof data}`);\n    return data;\n}\nexports.toBytes = toBytes;\n/**\n * Copies several Uint8Arrays into one.\n */\nfunction concatBytes(...arrays) {\n    const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n    let pad = 0; // walk through each item, ensure they have proper type\n    arrays.forEach((a) => {\n        if (!u8a(a))\n            throw new Error('Uint8Array expected');\n        r.set(a, pad);\n        pad += a.length;\n    });\n    return r;\n}\nexports.concatBytes = concatBytes;\n// For runtime check if class implements interface\nclass Hash {\n    // Safe version that clones internal state\n    clone() {\n        return this._cloneInto();\n    }\n}\nexports.Hash = Hash;\nconst toStr = {}.toString;\nfunction checkOpts(defaults, opts) {\n    if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n        throw new Error('Options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\nexports.checkOpts = checkOpts;\nfunction wrapConstructor(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nexports.wrapConstructor = wrapConstructor;\nfunction wrapConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexports.wrapConstructorWithOpts = wrapConstructorWithOpts;\nfunction wrapXOFConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexports.wrapXOFConstructorWithOpts = wrapXOFConstructorWithOpts;\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nfunction randomBytes(bytesLength = 32) {\n    if (crypto_1.crypto && typeof crypto_1.crypto.getRandomValues === 'function') {\n        return crypto_1.crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\nexports.randomBytes = randomBytes;\n//# sourceMappingURL=utils.js.map","\"use strict\";\n/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bytes = exports.stringToBytes = exports.str = exports.bytesToString = exports.hex = exports.utf8 = exports.bech32m = exports.bech32 = exports.base58check = exports.base58xmr = exports.base58xrp = exports.base58flickr = exports.base58 = exports.base64urlnopad = exports.base64url = exports.base64 = exports.base32crockford = exports.base32hex = exports.base32 = exports.base16 = exports.utils = exports.assertNumber = void 0;\n// Utilities\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction assertNumber(n) {\n    if (!Number.isSafeInteger(n))\n        throw new Error(`Wrong integer: ${n}`);\n}\nexports.assertNumber = assertNumber;\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction chain(...args) {\n    // Wrap call in closure so JIT can inline calls\n    const wrap = (a, b) => (c) => a(b(c));\n    // Construct chain of args[-1].encode(args[-2].encode([...]))\n    const encode = Array.from(args)\n        .reverse()\n        .reduce((acc, i) => (acc ? wrap(acc, i.encode) : i.encode), undefined);\n    // Construct chain of args[0].decode(args[1].decode(...))\n    const decode = args.reduce((acc, i) => (acc ? wrap(acc, i.decode) : i.decode), undefined);\n    return { encode, decode };\n}\n/**\n * Encodes integer radix representation to array of strings using alphabet and back\n * @__NO_SIDE_EFFECTS__\n */\nfunction alphabet(alphabet) {\n    return {\n        encode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('alphabet.encode input should be an array of numbers');\n            return digits.map((i) => {\n                assertNumber(i);\n                if (i < 0 || i >= alphabet.length)\n                    throw new Error(`Digit index outside alphabet: ${i} (alphabet: ${alphabet.length})`);\n                return alphabet[i];\n            });\n        },\n        decode: (input) => {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('alphabet.decode input should be array of strings');\n            return input.map((letter) => {\n                if (typeof letter !== 'string')\n                    throw new Error(`alphabet.decode: not string element=${letter}`);\n                const index = alphabet.indexOf(letter);\n                if (index === -1)\n                    throw new Error(`Unknown letter: \"${letter}\". Allowed: ${alphabet}`);\n                return index;\n            });\n        },\n    };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction join(separator = '') {\n    if (typeof separator !== 'string')\n        throw new Error('join separator should be string');\n    return {\n        encode: (from) => {\n            if (!Array.isArray(from) || (from.length && typeof from[0] !== 'string'))\n                throw new Error('join.encode input should be array of strings');\n            for (let i of from)\n                if (typeof i !== 'string')\n                    throw new Error(`join.encode: non-string input=${i}`);\n            return from.join(separator);\n        },\n        decode: (to) => {\n            if (typeof to !== 'string')\n                throw new Error('join.decode input should be string');\n            return to.split(separator);\n        },\n    };\n}\n/**\n * Pad strings array so it has integer number of bits\n * @__NO_SIDE_EFFECTS__\n */\nfunction padding(bits, chr = '=') {\n    assertNumber(bits);\n    if (typeof chr !== 'string')\n        throw new Error('padding chr should be string');\n    return {\n        encode(data) {\n            if (!Array.isArray(data) || (data.length && typeof data[0] !== 'string'))\n                throw new Error('padding.encode input should be array of strings');\n            for (let i of data)\n                if (typeof i !== 'string')\n                    throw new Error(`padding.encode: non-string input=${i}`);\n            while ((data.length * bits) % 8)\n                data.push(chr);\n            return data;\n        },\n        decode(input) {\n            if (!Array.isArray(input) || (input.length && typeof input[0] !== 'string'))\n                throw new Error('padding.encode input should be array of strings');\n            for (let i of input)\n                if (typeof i !== 'string')\n                    throw new Error(`padding.decode: non-string input=${i}`);\n            let end = input.length;\n            if ((end * bits) % 8)\n                throw new Error('Invalid padding: string should have whole number of bytes');\n            for (; end > 0 && input[end - 1] === chr; end--) {\n                if (!(((end - 1) * bits) % 8))\n                    throw new Error('Invalid padding: string has too much padding');\n            }\n            return input.slice(0, end);\n        },\n    };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction normalize(fn) {\n    if (typeof fn !== 'function')\n        throw new Error('normalize fn should be function');\n    return { encode: (from) => from, decode: (to) => fn(to) };\n}\n/**\n * Slow: O(n^2) time complexity\n * @__NO_SIDE_EFFECTS__\n */\nfunction convertRadix(data, from, to) {\n    // base 1 is impossible\n    if (from < 2)\n        throw new Error(`convertRadix: wrong from=${from}, base cannot be less than 2`);\n    if (to < 2)\n        throw new Error(`convertRadix: wrong to=${to}, base cannot be less than 2`);\n    if (!Array.isArray(data))\n        throw new Error('convertRadix: data should be array');\n    if (!data.length)\n        return [];\n    let pos = 0;\n    const res = [];\n    const digits = Array.from(data);\n    digits.forEach((d) => {\n        assertNumber(d);\n        if (d < 0 || d >= from)\n            throw new Error(`Wrong integer: ${d}`);\n    });\n    while (true) {\n        let carry = 0;\n        let done = true;\n        for (let i = pos; i < digits.length; i++) {\n            const digit = digits[i];\n            const digitBase = from * carry + digit;\n            if (!Number.isSafeInteger(digitBase) ||\n                (from * carry) / from !== carry ||\n                digitBase - digit !== from * carry) {\n                throw new Error('convertRadix: carry overflow');\n            }\n            carry = digitBase % to;\n            const rounded = Math.floor(digitBase / to);\n            digits[i] = rounded;\n            if (!Number.isSafeInteger(rounded) || rounded * to + carry !== digitBase)\n                throw new Error('convertRadix: carry overflow');\n            if (!done)\n                continue;\n            else if (!rounded)\n                pos = i;\n            else\n                done = false;\n        }\n        res.push(carry);\n        if (done)\n            break;\n    }\n    for (let i = 0; i < data.length - 1 && data[i] === 0; i++)\n        res.push(0);\n    return res.reverse();\n}\nconst gcd = /* @__NO_SIDE_EFFECTS__ */ (a, b) => (!b ? a : gcd(b, a % b));\nconst radix2carry = /*@__NO_SIDE_EFFECTS__ */ (from, to) => from + (to - gcd(from, to));\n/**\n * Implemented with numbers, because BigInt is 5x slower\n * @__NO_SIDE_EFFECTS__\n */\nfunction convertRadix2(data, from, to, padding) {\n    if (!Array.isArray(data))\n        throw new Error('convertRadix2: data should be array');\n    if (from <= 0 || from > 32)\n        throw new Error(`convertRadix2: wrong from=${from}`);\n    if (to <= 0 || to > 32)\n        throw new Error(`convertRadix2: wrong to=${to}`);\n    if (radix2carry(from, to) > 32) {\n        throw new Error(`convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from, to)}`);\n    }\n    let carry = 0;\n    let pos = 0; // bitwise position in current element\n    const mask = 2 ** to - 1;\n    const res = [];\n    for (const n of data) {\n        assertNumber(n);\n        if (n >= 2 ** from)\n            throw new Error(`convertRadix2: invalid data word=${n} from=${from}`);\n        carry = (carry << from) | n;\n        if (pos + from > 32)\n            throw new Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);\n        pos += from;\n        for (; pos >= to; pos -= to)\n            res.push(((carry >> (pos - to)) & mask) >>> 0);\n        carry &= 2 ** pos - 1; // clean carry, otherwise it will cause overflow\n    }\n    carry = (carry << (to - pos)) & mask;\n    if (!padding && pos >= from)\n        throw new Error('Excess padding');\n    if (!padding && carry)\n        throw new Error(`Non-zero padding: ${carry}`);\n    if (padding && pos > 0)\n        res.push(carry >>> 0);\n    return res;\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix(num) {\n    assertNumber(num);\n    return {\n        encode: (bytes) => {\n            if (!(bytes instanceof Uint8Array))\n                throw new Error('radix.encode input should be Uint8Array');\n            return convertRadix(Array.from(bytes), 2 ** 8, num);\n        },\n        decode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('radix.decode input should be array of strings');\n            return Uint8Array.from(convertRadix(digits, num, 2 ** 8));\n        },\n    };\n}\n/**\n * If both bases are power of same number (like `2**8 <-> 2**64`),\n * there is a linear algorithm. For now we have implementation for power-of-two bases only.\n * @__NO_SIDE_EFFECTS__\n */\nfunction radix2(bits, revPadding = false) {\n    assertNumber(bits);\n    if (bits <= 0 || bits > 32)\n        throw new Error('radix2: bits should be in (0..32]');\n    if (radix2carry(8, bits) > 32 || radix2carry(bits, 8) > 32)\n        throw new Error('radix2: carry overflow');\n    return {\n        encode: (bytes) => {\n            if (!(bytes instanceof Uint8Array))\n                throw new Error('radix2.encode input should be Uint8Array');\n            return convertRadix2(Array.from(bytes), 8, bits, !revPadding);\n        },\n        decode: (digits) => {\n            if (!Array.isArray(digits) || (digits.length && typeof digits[0] !== 'number'))\n                throw new Error('radix2.decode input should be array of strings');\n            return Uint8Array.from(convertRadix2(digits, bits, 8, revPadding));\n        },\n    };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction unsafeWrapper(fn) {\n    if (typeof fn !== 'function')\n        throw new Error('unsafeWrapper fn should be function');\n    return function (...args) {\n        try {\n            return fn.apply(null, args);\n        }\n        catch (e) { }\n    };\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction checksum(len, fn) {\n    assertNumber(len);\n    if (typeof fn !== 'function')\n        throw new Error('checksum fn should be function');\n    return {\n        encode(data) {\n            if (!(data instanceof Uint8Array))\n                throw new Error('checksum.encode: input should be Uint8Array');\n            const checksum = fn(data).slice(0, len);\n            const res = new Uint8Array(data.length + len);\n            res.set(data);\n            res.set(checksum, data.length);\n            return res;\n        },\n        decode(data) {\n            if (!(data instanceof Uint8Array))\n                throw new Error('checksum.decode: input should be Uint8Array');\n            const payload = data.slice(0, -len);\n            const newChecksum = fn(payload).slice(0, len);\n            const oldChecksum = data.slice(-len);\n            for (let i = 0; i < len; i++)\n                if (newChecksum[i] !== oldChecksum[i])\n                    throw new Error('Invalid checksum');\n            return payload;\n        },\n    };\n}\nexports.utils = { alphabet, chain, checksum, radix, radix2, join, padding };\n// RFC 4648 aka RFC 3548\n// ---------------------\nexports.base16 = chain(radix2(4), alphabet('0123456789ABCDEF'), join(''));\nexports.base32 = chain(radix2(5), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZ234567'), padding(5), join(''));\nexports.base32hex = chain(radix2(5), alphabet('0123456789ABCDEFGHIJKLMNOPQRSTUV'), padding(5), join(''));\nexports.base32crockford = chain(radix2(5), alphabet('0123456789ABCDEFGHJKMNPQRSTVWXYZ'), join(''), normalize((s) => s.toUpperCase().replace(/O/g, '0').replace(/[IL]/g, '1')));\nexports.base64 = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'), padding(6), join(''));\nexports.base64url = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), padding(6), join(''));\nexports.base64urlnopad = chain(radix2(6), alphabet('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'), join(''));\n// base58 code\n// -----------\nconst genBase58 = (abc) => chain(radix(58), alphabet(abc), join(''));\nexports.base58 = genBase58('123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz');\nexports.base58flickr = genBase58('123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ');\nexports.base58xrp = genBase58('rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz');\n// xmr ver is done in 8-byte blocks (which equals 11 chars in decoding). Last (non-full) block padded with '1' to size in XMR_BLOCK_LEN.\n// Block encoding significantly reduces quadratic complexity of base58.\n// Data len (index) -> encoded block len\nconst XMR_BLOCK_LEN = [0, 2, 3, 5, 6, 7, 9, 10, 11];\nexports.base58xmr = {\n    encode(data) {\n        let res = '';\n        for (let i = 0; i < data.length; i += 8) {\n            const block = data.subarray(i, i + 8);\n            res += exports.base58.encode(block).padStart(XMR_BLOCK_LEN[block.length], '1');\n        }\n        return res;\n    },\n    decode(str) {\n        let res = [];\n        for (let i = 0; i < str.length; i += 11) {\n            const slice = str.slice(i, i + 11);\n            const blockLen = XMR_BLOCK_LEN.indexOf(slice.length);\n            const block = exports.base58.decode(slice);\n            for (let j = 0; j < block.length - blockLen; j++) {\n                if (block[j] !== 0)\n                    throw new Error('base58xmr: wrong padding');\n            }\n            res = res.concat(Array.from(block.slice(block.length - blockLen)));\n        }\n        return Uint8Array.from(res);\n    },\n};\nconst base58check = (sha256) => chain(checksum(4, (data) => sha256(sha256(data))), exports.base58);\nexports.base58check = base58check;\nconst BECH_ALPHABET = /* @__PURE__ */ chain(alphabet('qpzry9x8gf2tvdw0s3jn54khce6mua7l'), join(''));\nconst POLYMOD_GENERATORS = [0x3b6a57b2, 0x26508e6d, 0x1ea119fa, 0x3d4233dd, 0x2a1462b3];\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction bech32Polymod(pre) {\n    const b = pre >> 25;\n    let chk = (pre & 0x1ffffff) << 5;\n    for (let i = 0; i < POLYMOD_GENERATORS.length; i++) {\n        if (((b >> i) & 1) === 1)\n            chk ^= POLYMOD_GENERATORS[i];\n    }\n    return chk;\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction bechChecksum(prefix, words, encodingConst = 1) {\n    const len = prefix.length;\n    let chk = 1;\n    for (let i = 0; i < len; i++) {\n        const c = prefix.charCodeAt(i);\n        if (c < 33 || c > 126)\n            throw new Error(`Invalid prefix (${prefix})`);\n        chk = bech32Polymod(chk) ^ (c >> 5);\n    }\n    chk = bech32Polymod(chk);\n    for (let i = 0; i < len; i++)\n        chk = bech32Polymod(chk) ^ (prefix.charCodeAt(i) & 0x1f);\n    for (let v of words)\n        chk = bech32Polymod(chk) ^ v;\n    for (let i = 0; i < 6; i++)\n        chk = bech32Polymod(chk);\n    chk ^= encodingConst;\n    return BECH_ALPHABET.encode(convertRadix2([chk % 2 ** 30], 30, 5, false));\n}\n/**\n * @__NO_SIDE_EFFECTS__\n */\nfunction genBech32(encoding) {\n    const ENCODING_CONST = encoding === 'bech32' ? 1 : 0x2bc830a3;\n    const _words = radix2(5);\n    const fromWords = _words.decode;\n    const toWords = _words.encode;\n    const fromWordsUnsafe = unsafeWrapper(fromWords);\n    function encode(prefix, words, limit = 90) {\n        if (typeof prefix !== 'string')\n            throw new Error(`bech32.encode prefix should be string, not ${typeof prefix}`);\n        if (!Array.isArray(words) || (words.length && typeof words[0] !== 'number'))\n            throw new Error(`bech32.encode words should be array of numbers, not ${typeof words}`);\n        const actualLength = prefix.length + 7 + words.length;\n        if (limit !== false && actualLength > limit)\n            throw new TypeError(`Length ${actualLength} exceeds limit ${limit}`);\n        const lowered = prefix.toLowerCase();\n        const sum = bechChecksum(lowered, words, ENCODING_CONST);\n        return `${lowered}1${BECH_ALPHABET.encode(words)}${sum}`;\n    }\n    function decode(str, limit = 90) {\n        if (typeof str !== 'string')\n            throw new Error(`bech32.decode input should be string, not ${typeof str}`);\n        if (str.length < 8 || (limit !== false && str.length > limit))\n            throw new TypeError(`Wrong string length: ${str.length} (${str}). Expected (8..${limit})`);\n        // don't allow mixed case\n        const lowered = str.toLowerCase();\n        if (str !== lowered && str !== str.toUpperCase())\n            throw new Error(`String must be lowercase or uppercase`);\n        str = lowered;\n        const sepIndex = str.lastIndexOf('1');\n        if (sepIndex === 0 || sepIndex === -1)\n            throw new Error(`Letter \"1\" must be present between prefix and data only`);\n        const prefix = str.slice(0, sepIndex);\n        const _words = str.slice(sepIndex + 1);\n        if (_words.length < 6)\n            throw new Error('Data must be at least 6 characters long');\n        const words = BECH_ALPHABET.decode(_words).slice(0, -6);\n        const sum = bechChecksum(prefix, words, ENCODING_CONST);\n        if (!_words.endsWith(sum))\n            throw new Error(`Invalid checksum in ${str}: expected \"${sum}\"`);\n        return { prefix, words };\n    }\n    const decodeUnsafe = unsafeWrapper(decode);\n    function decodeToBytes(str) {\n        const { prefix, words } = decode(str, false);\n        return { prefix, words, bytes: fromWords(words) };\n    }\n    return { encode, decode, decodeToBytes, decodeUnsafe, fromWords, fromWordsUnsafe, toWords };\n}\nexports.bech32 = genBech32('bech32');\nexports.bech32m = genBech32('bech32m');\nexports.utf8 = {\n    encode: (data) => new TextDecoder().decode(data),\n    decode: (str) => new TextEncoder().encode(str),\n};\nexports.hex = chain(radix2(4), alphabet('0123456789abcdef'), join(''), normalize((s) => {\n    if (typeof s !== 'string' || s.length % 2)\n        throw new TypeError(`hex.decode: expected string, got ${typeof s} with length ${s.length}`);\n    return s.toLowerCase();\n}));\n// prettier-ignore\nconst CODERS = {\n    utf8: exports.utf8, hex: exports.hex, base16: exports.base16, base32: exports.base32, base64: exports.base64, base64url: exports.base64url, base58: exports.base58, base58xmr: exports.base58xmr\n};\nconst coderTypeError = 'Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr';\nconst bytesToString = (type, bytes) => {\n    if (typeof type !== 'string' || !CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (!(bytes instanceof Uint8Array))\n        throw new TypeError('bytesToString() expects Uint8Array');\n    return CODERS[type].encode(bytes);\n};\nexports.bytesToString = bytesToString;\nexports.str = exports.bytesToString; // as in python, but for bytes only\nconst stringToBytes = (type, str) => {\n    if (!CODERS.hasOwnProperty(type))\n        throw new TypeError(coderTypeError);\n    if (typeof str !== 'string')\n        throw new TypeError('stringToBytes() expects string');\n    return CODERS[type].decode(str);\n};\nexports.stringToBytes = stringToBytes;\nexports.bytes = exports.stringToBytes;\n","/*globals self, window */\n\"use strict\"\n\n/*eslint-disable @mysticatea/prettier */\nconst { AbortController, AbortSignal } =\n    typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    /* otherwise */ undefined\n/*eslint-enable @mysticatea/prettier */\n\nmodule.exports = AbortController\nmodule.exports.AbortSignal = AbortSignal\nmodule.exports.default = AbortController\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst readable_stream_1 = require(\"readable-stream\");\nclass PortDuplexStream extends readable_stream_1.Duplex {\n    /**\n     * @param port - An instance of WebExtensions Runtime.Port. See:\n     * {@link https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/Port}\n     */\n    constructor(port) {\n        super({ objectMode: true });\n        this._port = port;\n        this._port.onMessage.addListener((msg) => this._onMessage(msg));\n        this._port.onDisconnect.addListener(() => this._onDisconnect());\n        this._log = () => null;\n    }\n    /**\n     * Callback triggered when a message is received from\n     * the remote Port associated with this Stream.\n     *\n     * @param msg - Payload from the onMessage listener of the port\n     */\n    _onMessage(msg) {\n        if (Buffer.isBuffer(msg)) {\n            const data = Buffer.from(msg);\n            this._log(data, false);\n            this.push(data);\n        }\n        else {\n            this._log(msg, false);\n            this.push(msg);\n        }\n    }\n    /**\n     * Callback triggered when the remote Port associated with this Stream\n     * disconnects.\n     */\n    _onDisconnect() {\n        this.destroy();\n    }\n    /**\n     * Explicitly sets read operations to a no-op.\n     */\n    _read() {\n        return undefined;\n    }\n    /**\n     * Called internally when data should be written to this writable stream.\n     *\n     * @param msg - Arbitrary object to write\n     * @param encoding - Encoding to use when writing payload\n     * @param cb - Called when writing is complete or an error occurs\n     */\n    _write(msg, _encoding, cb) {\n        try {\n            if (Buffer.isBuffer(msg)) {\n                const data = msg.toJSON();\n                data._isBuffer = true;\n                this._log(data, true);\n                this._port.postMessage(data);\n            }\n            else {\n                this._log(msg, true);\n                this._port.postMessage(msg);\n            }\n        }\n        catch (error) {\n            return cb(new Error('PortDuplexStream - disconnected'));\n        }\n        return cb();\n    }\n    /**\n     * Call to set a custom logger for incoming/outgoing messages\n     *\n     * @param log - the logger function\n     */\n    _setLogger(log) {\n        this._log = log;\n    }\n}\nexports.default = PortDuplexStream;\n//# sourceMappingURL=index.js.map","'use strict'\n\nconst { AbortError, codes } = require('../../ours/errors')\nconst { isNodeStream, isWebStream, kControllerErrorFunction } = require('./utils')\nconst eos = require('./end-of-stream')\nconst { ERR_INVALID_ARG_TYPE } = codes\n\n// This method is inlined here for readable-stream\n// It also does not allow for signal to not exist on the stream\n// https://github.com/nodejs/node/pull/36061#discussion_r533718029\nconst validateAbortSignal = (signal, name) => {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n}\nmodule.exports.addAbortSignal = function addAbortSignal(signal, stream) {\n  validateAbortSignal(signal, 'signal')\n  if (!isNodeStream(stream) && !isWebStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  return module.exports.addAbortSignalNoValidate(signal, stream)\n}\nmodule.exports.addAbortSignalNoValidate = function (signal, stream) {\n  if (typeof signal !== 'object' || !('aborted' in signal)) {\n    return stream\n  }\n  const onAbort = isNodeStream(stream)\n    ? () => {\n        stream.destroy(\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n    : () => {\n        stream[kControllerErrorFunction](\n          new AbortError(undefined, {\n            cause: signal.reason\n          })\n        )\n      }\n  if (signal.aborted) {\n    onAbort()\n  } else {\n    signal.addEventListener('abort', onAbort)\n    eos(stream, () => signal.removeEventListener('abort', onAbort))\n  }\n  return stream\n}\n","'use strict'\n\nconst { StringPrototypeSlice, SymbolIterator, TypedArrayPrototypeSet, Uint8Array } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { inspect } = require('../../ours/util')\nmodule.exports = class BufferList {\n  constructor() {\n    this.head = null\n    this.tail = null\n    this.length = 0\n  }\n  push(v) {\n    const entry = {\n      data: v,\n      next: null\n    }\n    if (this.length > 0) this.tail.next = entry\n    else this.head = entry\n    this.tail = entry\n    ++this.length\n  }\n  unshift(v) {\n    const entry = {\n      data: v,\n      next: this.head\n    }\n    if (this.length === 0) this.tail = entry\n    this.head = entry\n    ++this.length\n  }\n  shift() {\n    if (this.length === 0) return\n    const ret = this.head.data\n    if (this.length === 1) this.head = this.tail = null\n    else this.head = this.head.next\n    --this.length\n    return ret\n  }\n  clear() {\n    this.head = this.tail = null\n    this.length = 0\n  }\n  join(s) {\n    if (this.length === 0) return ''\n    let p = this.head\n    let ret = '' + p.data\n    while ((p = p.next) !== null) ret += s + p.data\n    return ret\n  }\n  concat(n) {\n    if (this.length === 0) return Buffer.alloc(0)\n    const ret = Buffer.allocUnsafe(n >>> 0)\n    let p = this.head\n    let i = 0\n    while (p) {\n      TypedArrayPrototypeSet(ret, p.data, i)\n      i += p.data.length\n      p = p.next\n    }\n    return ret\n  }\n\n  // Consumes a specified amount of bytes or characters from the buffered data.\n  consume(n, hasStrings) {\n    const data = this.head.data\n    if (n < data.length) {\n      // `slice` is the same for buffers and strings.\n      const slice = data.slice(0, n)\n      this.head.data = data.slice(n)\n      return slice\n    }\n    if (n === data.length) {\n      // First chunk is a perfect match.\n      return this.shift()\n    }\n    // Result spans more than one buffer.\n    return hasStrings ? this._getString(n) : this._getBuffer(n)\n  }\n  first() {\n    return this.head.data\n  }\n  *[SymbolIterator]() {\n    for (let p = this.head; p; p = p.next) {\n      yield p.data\n    }\n  }\n\n  // Consumes a specified amount of characters from the buffered data.\n  _getString(n) {\n    let ret = ''\n    let p = this.head\n    let c = 0\n    do {\n      const str = p.data\n      if (n > str.length) {\n        ret += str\n        n -= str.length\n      } else {\n        if (n === str.length) {\n          ret += str\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          ret += StringPrototypeSlice(str, 0, n)\n          this.head = p\n          p.data = StringPrototypeSlice(str, n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Consumes a specified amount of bytes from the buffered data.\n  _getBuffer(n) {\n    const ret = Buffer.allocUnsafe(n)\n    const retLen = n\n    let p = this.head\n    let c = 0\n    do {\n      const buf = p.data\n      if (n > buf.length) {\n        TypedArrayPrototypeSet(ret, buf, retLen - n)\n        n -= buf.length\n      } else {\n        if (n === buf.length) {\n          TypedArrayPrototypeSet(ret, buf, retLen - n)\n          ++c\n          if (p.next) this.head = p.next\n          else this.head = this.tail = null\n        } else {\n          TypedArrayPrototypeSet(ret, new Uint8Array(buf.buffer, buf.byteOffset, n), retLen - n)\n          this.head = p\n          p.data = buf.slice(n)\n        }\n        break\n      }\n      ++c\n    } while ((p = p.next) !== null)\n    this.length -= c\n    return ret\n  }\n\n  // Make sure the linked list only shows the minimal necessary information.\n  [Symbol.for('nodejs.util.inspect.custom')](_, options) {\n    return inspect(this, {\n      ...options,\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    })\n  }\n}\n","'use strict'\n\nconst { pipeline } = require('./pipeline')\nconst Duplex = require('./duplex')\nconst { destroyer } = require('./destroy')\nconst {\n  isNodeStream,\n  isReadable,\n  isWritable,\n  isWebStream,\n  isTransformStream,\n  isWritableStream,\n  isReadableStream\n} = require('./utils')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_VALUE, ERR_MISSING_ARGS }\n} = require('../../ours/errors')\nconst eos = require('./end-of-stream')\nmodule.exports = function compose(...streams) {\n  if (streams.length === 0) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  if (streams.length === 1) {\n    return Duplex.from(streams[0])\n  }\n  const orgStreams = [...streams]\n  if (typeof streams[0] === 'function') {\n    streams[0] = Duplex.from(streams[0])\n  }\n  if (typeof streams[streams.length - 1] === 'function') {\n    const idx = streams.length - 1\n    streams[idx] = Duplex.from(streams[idx])\n  }\n  for (let n = 0; n < streams.length; ++n) {\n    if (!isNodeStream(streams[n]) && !isWebStream(streams[n])) {\n      // TODO(ronag): Add checks for non streams.\n      continue\n    }\n    if (\n      n < streams.length - 1 &&\n      !(isReadable(streams[n]) || isReadableStream(streams[n]) || isTransformStream(streams[n]))\n    ) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be readable')\n    }\n    if (n > 0 && !(isWritable(streams[n]) || isWritableStream(streams[n]) || isTransformStream(streams[n]))) {\n      throw new ERR_INVALID_ARG_VALUE(`streams[${n}]`, orgStreams[n], 'must be writable')\n    }\n  }\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    } else if (!readable && !writable) {\n      d.destroy()\n    }\n  }\n  const head = streams[0]\n  const tail = pipeline(streams, onfinished)\n  const writable = !!(isWritable(head) || isWritableStream(head) || isTransformStream(head))\n  const readable = !!(isReadable(tail) || isReadableStream(tail) || isTransformStream(tail))\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplex({\n    // TODO (ronag): highWaterMark?\n    writableObjectMode: !!(head !== null && head !== undefined && head.writableObjectMode),\n    readableObjectMode: !!(tail !== null && tail !== undefined && tail.writableObjectMode),\n    writable,\n    readable\n  })\n  if (writable) {\n    if (isNodeStream(head)) {\n      d._write = function (chunk, encoding, callback) {\n        if (head.write(chunk, encoding)) {\n          callback()\n        } else {\n          ondrain = callback\n        }\n      }\n      d._final = function (callback) {\n        head.end()\n        onfinish = callback\n      }\n      head.on('drain', function () {\n        if (ondrain) {\n          const cb = ondrain\n          ondrain = null\n          cb()\n        }\n      })\n    } else if (isWebStream(head)) {\n      const writable = isTransformStream(head) ? head.writable : head\n      const writer = writable.getWriter()\n      d._write = async function (chunk, encoding, callback) {\n        try {\n          await writer.ready\n          writer.write(chunk).catch(() => {})\n          callback()\n        } catch (err) {\n          callback(err)\n        }\n      }\n      d._final = async function (callback) {\n        try {\n          await writer.ready\n          writer.close().catch(() => {})\n          onfinish = callback\n        } catch (err) {\n          callback(err)\n        }\n      }\n    }\n    const toRead = isTransformStream(tail) ? tail.readable : tail\n    eos(toRead, () => {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    if (isNodeStream(tail)) {\n      tail.on('readable', function () {\n        if (onreadable) {\n          const cb = onreadable\n          onreadable = null\n          cb()\n        }\n      })\n      tail.on('end', function () {\n        d.push(null)\n      })\n      d._read = function () {\n        while (true) {\n          const buf = tail.read()\n          if (buf === null) {\n            onreadable = d._read\n            return\n          }\n          if (!d.push(buf)) {\n            return\n          }\n        }\n      }\n    } else if (isWebStream(tail)) {\n      const readable = isTransformStream(tail) ? tail.readable : tail\n      const reader = readable.getReader()\n      d._read = async function () {\n        while (true) {\n          try {\n            const { value, done } = await reader.read()\n            if (!d.push(value)) {\n              return\n            }\n            if (done) {\n              d.push(null)\n              return\n            }\n          } catch {\n            return\n          }\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      if (isNodeStream(tail)) {\n        destroyer(tail, err)\n      }\n    }\n  }\n  return d\n}\n","'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst {\n  aggregateTwoErrors,\n  codes: { ERR_MULTIPLE_CALLBACK },\n  AbortError\n} = require('../../ours/errors')\nconst { Symbol } = require('../../ours/primordials')\nconst { kDestroyed, isDestroyed, isFinished, isServerRequest } = require('./utils')\nconst kDestroy = Symbol('kDestroy')\nconst kConstruct = Symbol('kConstruct')\nfunction checkError(err, w, r) {\n  if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n  }\n}\n\n// Backwards compat. cb() is undocumented and unused in core but\n// unfortunately might be used by modules.\nfunction destroy(err, cb) {\n  const r = this._readableState\n  const w = this._writableState\n  // With duplex streams we use the writable side for state.\n  const s = w || r\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    if (typeof cb === 'function') {\n      cb()\n    }\n    return this\n  }\n\n  // We set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n  checkError(err, w, r)\n  if (w) {\n    w.destroyed = true\n  }\n  if (r) {\n    r.destroyed = true\n  }\n\n  // If still constructing then defer calling _destroy.\n  if (!s.constructed) {\n    this.once(kDestroy, function (er) {\n      _destroy(this, aggregateTwoErrors(er, err), cb)\n    })\n  } else {\n    _destroy(this, err, cb)\n  }\n  return this\n}\nfunction _destroy(self, err, cb) {\n  let called = false\n  function onDestroy(err) {\n    if (called) {\n      return\n    }\n    called = true\n    const r = self._readableState\n    const w = self._writableState\n    checkError(err, w, r)\n    if (w) {\n      w.closed = true\n    }\n    if (r) {\n      r.closed = true\n    }\n    if (typeof cb === 'function') {\n      cb(err)\n    }\n    if (err) {\n      process.nextTick(emitErrorCloseNT, self, err)\n    } else {\n      process.nextTick(emitCloseNT, self)\n    }\n  }\n  try {\n    self._destroy(err || null, onDestroy)\n  } catch (err) {\n    onDestroy(err)\n  }\n}\nfunction emitErrorCloseNT(self, err) {\n  emitErrorNT(self, err)\n  emitCloseNT(self)\n}\nfunction emitCloseNT(self) {\n  const r = self._readableState\n  const w = self._writableState\n  if (w) {\n    w.closeEmitted = true\n  }\n  if (r) {\n    r.closeEmitted = true\n  }\n  if ((w !== null && w !== undefined && w.emitClose) || (r !== null && r !== undefined && r.emitClose)) {\n    self.emit('close')\n  }\n}\nfunction emitErrorNT(self, err) {\n  const r = self._readableState\n  const w = self._writableState\n  if ((w !== null && w !== undefined && w.errorEmitted) || (r !== null && r !== undefined && r.errorEmitted)) {\n    return\n  }\n  if (w) {\n    w.errorEmitted = true\n  }\n  if (r) {\n    r.errorEmitted = true\n  }\n  self.emit('error', err)\n}\nfunction undestroy() {\n  const r = this._readableState\n  const w = this._writableState\n  if (r) {\n    r.constructed = true\n    r.closed = false\n    r.closeEmitted = false\n    r.destroyed = false\n    r.errored = null\n    r.errorEmitted = false\n    r.reading = false\n    r.ended = r.readable === false\n    r.endEmitted = r.readable === false\n  }\n  if (w) {\n    w.constructed = true\n    w.destroyed = false\n    w.closed = false\n    w.closeEmitted = false\n    w.errored = null\n    w.errorEmitted = false\n    w.finalCalled = false\n    w.prefinished = false\n    w.ended = w.writable === false\n    w.ending = w.writable === false\n    w.finished = w.writable === false\n  }\n}\nfunction errorOrDestroy(stream, err, sync) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n\n  const r = stream._readableState\n  const w = stream._writableState\n  if ((w !== null && w !== undefined && w.destroyed) || (r !== null && r !== undefined && r.destroyed)) {\n    return this\n  }\n  if ((r !== null && r !== undefined && r.autoDestroy) || (w !== null && w !== undefined && w.autoDestroy))\n    stream.destroy(err)\n  else if (err) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    err.stack // eslint-disable-line no-unused-expressions\n\n    if (w && !w.errored) {\n      w.errored = err\n    }\n    if (r && !r.errored) {\n      r.errored = err\n    }\n    if (sync) {\n      process.nextTick(emitErrorNT, stream, err)\n    } else {\n      emitErrorNT(stream, err)\n    }\n  }\n}\nfunction construct(stream, cb) {\n  if (typeof stream._construct !== 'function') {\n    return\n  }\n  const r = stream._readableState\n  const w = stream._writableState\n  if (r) {\n    r.constructed = false\n  }\n  if (w) {\n    w.constructed = false\n  }\n  stream.once(kConstruct, cb)\n  if (stream.listenerCount(kConstruct) > 1) {\n    // Duplex\n    return\n  }\n  process.nextTick(constructNT, stream)\n}\nfunction constructNT(stream) {\n  let called = false\n  function onConstruct(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : new ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    const r = stream._readableState\n    const w = stream._writableState\n    const s = w || r\n    if (r) {\n      r.constructed = true\n    }\n    if (w) {\n      w.constructed = true\n    }\n    if (s.destroyed) {\n      stream.emit(kDestroy, err)\n    } else if (err) {\n      errorOrDestroy(stream, err, true)\n    } else {\n      process.nextTick(emitConstructNT, stream)\n    }\n  }\n  try {\n    stream._construct((err) => {\n      process.nextTick(onConstruct, err)\n    })\n  } catch (err) {\n    process.nextTick(onConstruct, err)\n  }\n}\nfunction emitConstructNT(stream) {\n  stream.emit(kConstruct)\n}\nfunction isRequest(stream) {\n  return (stream === null || stream === undefined ? undefined : stream.setHeader) && typeof stream.abort === 'function'\n}\nfunction emitCloseLegacy(stream) {\n  stream.emit('close')\n}\nfunction emitErrorCloseLegacy(stream, err) {\n  stream.emit('error', err)\n  process.nextTick(emitCloseLegacy, stream)\n}\n\n// Normalize destroy for legacy.\nfunction destroyer(stream, err) {\n  if (!stream || isDestroyed(stream)) {\n    return\n  }\n  if (!err && !isFinished(stream)) {\n    err = new AbortError()\n  }\n\n  // TODO: Remove isRequest branches.\n  if (isServerRequest(stream)) {\n    stream.socket = null\n    stream.destroy(err)\n  } else if (isRequest(stream)) {\n    stream.abort()\n  } else if (isRequest(stream.req)) {\n    stream.req.abort()\n  } else if (typeof stream.destroy === 'function') {\n    stream.destroy(err)\n  } else if (typeof stream.close === 'function') {\n    // TODO: Don't lose err?\n    stream.close()\n  } else if (err) {\n    process.nextTick(emitErrorCloseLegacy, stream, err)\n  } else {\n    process.nextTick(emitCloseLegacy, stream)\n  }\n  if (!stream.destroyed) {\n    stream[kDestroyed] = true\n  }\n}\nmodule.exports = {\n  construct,\n  destroyer,\n  destroy,\n  undestroy,\n  errorOrDestroy\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototype inheritance, this class\n// prototypically inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict'\n\nconst {\n  ObjectDefineProperties,\n  ObjectGetOwnPropertyDescriptor,\n  ObjectKeys,\n  ObjectSetPrototypeOf\n} = require('../../ours/primordials')\nmodule.exports = Duplex\nconst Readable = require('./readable')\nconst Writable = require('./writable')\nObjectSetPrototypeOf(Duplex.prototype, Readable.prototype)\nObjectSetPrototypeOf(Duplex, Readable)\n{\n  const keys = ObjectKeys(Writable.prototype)\n  // Allow the keys array to be GC'ed.\n  for (let i = 0; i < keys.length; i++) {\n    const method = keys[i]\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method]\n  }\n}\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options)\n  Readable.call(this, options)\n  Writable.call(this, options)\n  if (options) {\n    this.allowHalfOpen = options.allowHalfOpen !== false\n    if (options.readable === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if (options.writable === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  } else {\n    this.allowHalfOpen = true\n  }\n}\nObjectDefineProperties(Duplex.prototype, {\n  writable: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writable')\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableHighWaterMark')\n  },\n  writableObjectMode: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableObjectMode')\n  },\n  writableBuffer: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableBuffer')\n  },\n  writableLength: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableLength')\n  },\n  writableFinished: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableFinished')\n  },\n  writableCorked: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableCorked')\n  },\n  writableEnded: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableEnded')\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    ...ObjectGetOwnPropertyDescriptor(Writable.prototype, 'writableNeedDrain')\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      if (this._readableState === undefined || this._writableState === undefined) {\n        return false\n      }\n      return this._readableState.destroyed && this._writableState.destroyed\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      if (this._readableState && this._writableState) {\n        this._readableState.destroyed = value\n        this._writableState.destroyed = value\n      }\n    }\n  }\n})\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nDuplex.fromWeb = function (pair, options) {\n  return lazyWebStreams().newStreamDuplexFromReadableWritablePair(pair, options)\n}\nDuplex.toWeb = function (duplex) {\n  return lazyWebStreams().newReadableWritablePairFromDuplex(duplex)\n}\nlet duplexify\nDuplex.from = function (body) {\n  if (!duplexify) {\n    duplexify = require('./duplexify')\n  }\n  return duplexify(body, 'body')\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\n;('use strict')\nconst bufferModule = require('buffer')\nconst {\n  isReadable,\n  isWritable,\n  isIterable,\n  isNodeStream,\n  isReadableNodeStream,\n  isWritableNodeStream,\n  isDuplexNodeStream\n} = require('./utils')\nconst eos = require('./end-of-stream')\nconst {\n  AbortError,\n  codes: { ERR_INVALID_ARG_TYPE, ERR_INVALID_RETURN_VALUE }\n} = require('../../ours/errors')\nconst { destroyer } = require('./destroy')\nconst Duplex = require('./duplex')\nconst Readable = require('./readable')\nconst { createDeferredPromise } = require('../../ours/util')\nconst from = require('./from')\nconst Blob = globalThis.Blob || bufferModule.Blob\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst { FunctionPrototypeCall } = require('../../ours/primordials')\n\n// This is needed for pre node 17.\nclass Duplexify extends Duplex {\n  constructor(options) {\n    super(options)\n\n    // https://github.com/nodejs/node/pull/34385\n\n    if ((options === null || options === undefined ? undefined : options.readable) === false) {\n      this._readableState.readable = false\n      this._readableState.ended = true\n      this._readableState.endEmitted = true\n    }\n    if ((options === null || options === undefined ? undefined : options.writable) === false) {\n      this._writableState.writable = false\n      this._writableState.ending = true\n      this._writableState.ended = true\n      this._writableState.finished = true\n    }\n  }\n}\nmodule.exports = function duplexify(body, name) {\n  if (isDuplexNodeStream(body)) {\n    return body\n  }\n  if (isReadableNodeStream(body)) {\n    return _duplexify({\n      readable: body\n    })\n  }\n  if (isWritableNodeStream(body)) {\n    return _duplexify({\n      writable: body\n    })\n  }\n  if (isNodeStream(body)) {\n    return _duplexify({\n      writable: false,\n      readable: false\n    })\n  }\n\n  // TODO: Webstreams\n  // if (isReadableStream(body)) {\n  //   return _duplexify({ readable: Readable.fromWeb(body) });\n  // }\n\n  // TODO: Webstreams\n  // if (isWritableStream(body)) {\n  //   return _duplexify({ writable: Writable.fromWeb(body) });\n  // }\n\n  if (typeof body === 'function') {\n    const { value, write, final, destroy } = fromAsyncGen(body)\n    if (isIterable(value)) {\n      return from(Duplexify, value, {\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        write,\n        final,\n        destroy\n      })\n    }\n    const then = value === null || value === undefined ? undefined : value.then\n    if (typeof then === 'function') {\n      let d\n      const promise = FunctionPrototypeCall(\n        then,\n        value,\n        (val) => {\n          if (val != null) {\n            throw new ERR_INVALID_RETURN_VALUE('nully', 'body', val)\n          }\n        },\n        (err) => {\n          destroyer(d, err)\n        }\n      )\n      return (d = new Duplexify({\n        // TODO (ronag): highWaterMark?\n        objectMode: true,\n        readable: false,\n        write,\n        final(cb) {\n          final(async () => {\n            try {\n              await promise\n              process.nextTick(cb, null)\n            } catch (err) {\n              process.nextTick(cb, err)\n            }\n          })\n        },\n        destroy\n      }))\n    }\n    throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or AsyncFunction', name, value)\n  }\n  if (isBlob(body)) {\n    return duplexify(body.arrayBuffer())\n  }\n  if (isIterable(body)) {\n    return from(Duplexify, body, {\n      // TODO (ronag): highWaterMark?\n      objectMode: true,\n      writable: false\n    })\n  }\n\n  // TODO: Webstreams.\n  // if (\n  //   isReadableStream(body?.readable) &&\n  //   isWritableStream(body?.writable)\n  // ) {\n  //   return Duplexify.fromWeb(body);\n  // }\n\n  if (\n    typeof (body === null || body === undefined ? undefined : body.writable) === 'object' ||\n    typeof (body === null || body === undefined ? undefined : body.readable) === 'object'\n  ) {\n    const readable =\n      body !== null && body !== undefined && body.readable\n        ? isReadableNodeStream(body === null || body === undefined ? undefined : body.readable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.readable\n          : duplexify(body.readable)\n        : undefined\n    const writable =\n      body !== null && body !== undefined && body.writable\n        ? isWritableNodeStream(body === null || body === undefined ? undefined : body.writable)\n          ? body === null || body === undefined\n            ? undefined\n            : body.writable\n          : duplexify(body.writable)\n        : undefined\n    return _duplexify({\n      readable,\n      writable\n    })\n  }\n  const then = body === null || body === undefined ? undefined : body.then\n  if (typeof then === 'function') {\n    let d\n    FunctionPrototypeCall(\n      then,\n      body,\n      (val) => {\n        if (val != null) {\n          d.push(val)\n        }\n        d.push(null)\n      },\n      (err) => {\n        destroyer(d, err)\n      }\n    )\n    return (d = new Duplexify({\n      objectMode: true,\n      writable: false,\n      read() {}\n    }))\n  }\n  throw new ERR_INVALID_ARG_TYPE(\n    name,\n    [\n      'Blob',\n      'ReadableStream',\n      'WritableStream',\n      'Stream',\n      'Iterable',\n      'AsyncIterable',\n      'Function',\n      '{ readable, writable } pair',\n      'Promise'\n    ],\n    body\n  )\n}\nfunction fromAsyncGen(fn) {\n  let { promise, resolve } = createDeferredPromise()\n  const ac = new AbortController()\n  const signal = ac.signal\n  const value = fn(\n    (async function* () {\n      while (true) {\n        const _promise = promise\n        promise = null\n        const { chunk, done, cb } = await _promise\n        process.nextTick(cb)\n        if (done) return\n        if (signal.aborted)\n          throw new AbortError(undefined, {\n            cause: signal.reason\n          })\n        ;({ promise, resolve } = createDeferredPromise())\n        yield chunk\n      }\n    })(),\n    {\n      signal\n    }\n  )\n  return {\n    value,\n    write(chunk, encoding, cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        chunk,\n        done: false,\n        cb\n      })\n    },\n    final(cb) {\n      const _resolve = resolve\n      resolve = null\n      _resolve({\n        done: true,\n        cb\n      })\n    },\n    destroy(err, cb) {\n      ac.abort()\n      cb(err)\n    }\n  }\n}\nfunction _duplexify(pair) {\n  const r = pair.readable && typeof pair.readable.read !== 'function' ? Readable.wrap(pair.readable) : pair.readable\n  const w = pair.writable\n  let readable = !!isReadable(r)\n  let writable = !!isWritable(w)\n  let ondrain\n  let onfinish\n  let onreadable\n  let onclose\n  let d\n  function onfinished(err) {\n    const cb = onclose\n    onclose = null\n    if (cb) {\n      cb(err)\n    } else if (err) {\n      d.destroy(err)\n    }\n  }\n\n  // TODO(ronag): Avoid double buffering.\n  // Implement Writable/Readable/Duplex traits.\n  // See, https://github.com/nodejs/node/pull/33515.\n  d = new Duplexify({\n    // TODO (ronag): highWaterMark?\n    readableObjectMode: !!(r !== null && r !== undefined && r.readableObjectMode),\n    writableObjectMode: !!(w !== null && w !== undefined && w.writableObjectMode),\n    readable,\n    writable\n  })\n  if (writable) {\n    eos(w, (err) => {\n      writable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    d._write = function (chunk, encoding, callback) {\n      if (w.write(chunk, encoding)) {\n        callback()\n      } else {\n        ondrain = callback\n      }\n    }\n    d._final = function (callback) {\n      w.end()\n      onfinish = callback\n    }\n    w.on('drain', function () {\n      if (ondrain) {\n        const cb = ondrain\n        ondrain = null\n        cb()\n      }\n    })\n    w.on('finish', function () {\n      if (onfinish) {\n        const cb = onfinish\n        onfinish = null\n        cb()\n      }\n    })\n  }\n  if (readable) {\n    eos(r, (err) => {\n      readable = false\n      if (err) {\n        destroyer(r, err)\n      }\n      onfinished(err)\n    })\n    r.on('readable', function () {\n      if (onreadable) {\n        const cb = onreadable\n        onreadable = null\n        cb()\n      }\n    })\n    r.on('end', function () {\n      d.push(null)\n    })\n    d._read = function () {\n      while (true) {\n        const buf = r.read()\n        if (buf === null) {\n          onreadable = d._read\n          return\n        }\n        if (!d.push(buf)) {\n          return\n        }\n      }\n    }\n  }\n  d._destroy = function (err, callback) {\n    if (!err && onclose !== null) {\n      err = new AbortError()\n    }\n    onreadable = null\n    ondrain = null\n    onfinish = null\n    if (onclose === null) {\n      callback(err)\n    } else {\n      onclose = callback\n      destroyer(w, err)\n      destroyer(r, err)\n    }\n  }\n  return d\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { AbortError, codes } = require('../../ours/errors')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_PREMATURE_CLOSE } = codes\nconst { kEmptyObject, once } = require('../../ours/util')\nconst { validateAbortSignal, validateFunction, validateObject, validateBoolean } = require('../validators')\nconst { Promise, PromisePrototypeThen } = require('../../ours/primordials')\nconst {\n  isClosed,\n  isReadable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableFinished,\n  isReadableErrored,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableFinished,\n  isWritableErrored,\n  isNodeStream,\n  willEmitClose: _willEmitClose,\n  kIsClosedPromise\n} = require('./utils')\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function'\n}\nconst nop = () => {}\nfunction eos(stream, options, callback) {\n  var _options$readable, _options$writable\n  if (arguments.length === 2) {\n    callback = options\n    options = kEmptyObject\n  } else if (options == null) {\n    options = kEmptyObject\n  } else {\n    validateObject(options, 'options')\n  }\n  validateFunction(callback, 'callback')\n  validateAbortSignal(options.signal, 'options.signal')\n  callback = once(callback)\n  if (isReadableStream(stream) || isWritableStream(stream)) {\n    return eosWeb(stream, options, callback)\n  }\n  if (!isNodeStream(stream)) {\n    throw new ERR_INVALID_ARG_TYPE('stream', ['ReadableStream', 'WritableStream', 'Stream'], stream)\n  }\n  const readable =\n    (_options$readable = options.readable) !== null && _options$readable !== undefined\n      ? _options$readable\n      : isReadableNodeStream(stream)\n  const writable =\n    (_options$writable = options.writable) !== null && _options$writable !== undefined\n      ? _options$writable\n      : isWritableNodeStream(stream)\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const onlegacyfinish = () => {\n    if (!stream.writable) {\n      onfinish()\n    }\n  }\n\n  // TODO (ronag): Improve soft detection to include core modules and\n  // common ecosystem modules that do properly emit 'close' but fail\n  // this generic check.\n  let willEmitClose =\n    _willEmitClose(stream) && isReadableNodeStream(stream) === readable && isWritableNodeStream(stream) === writable\n  let writableFinished = isWritableFinished(stream, false)\n  const onfinish = () => {\n    writableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.readable || readable)) {\n      return\n    }\n    if (!readable || readableFinished) {\n      callback.call(stream)\n    }\n  }\n  let readableFinished = isReadableFinished(stream, false)\n  const onend = () => {\n    readableFinished = true\n    // Stream should not be destroyed here. If it is that\n    // means that user space is doing something differently and\n    // we cannot trust willEmitClose.\n    if (stream.destroyed) {\n      willEmitClose = false\n    }\n    if (willEmitClose && (!stream.writable || writable)) {\n      return\n    }\n    if (!writable || writableFinished) {\n      callback.call(stream)\n    }\n  }\n  const onerror = (err) => {\n    callback.call(stream, err)\n  }\n  let closed = isClosed(stream)\n  const onclose = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    if (readable && !readableFinished && isReadableNodeStream(stream, true)) {\n      if (!isReadableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    if (writable && !writableFinished) {\n      if (!isWritableFinished(stream, false)) return callback.call(stream, new ERR_STREAM_PREMATURE_CLOSE())\n    }\n    callback.call(stream)\n  }\n  const onclosed = () => {\n    closed = true\n    const errored = isWritableErrored(stream) || isReadableErrored(stream)\n    if (errored && typeof errored !== 'boolean') {\n      return callback.call(stream, errored)\n    }\n    callback.call(stream)\n  }\n  const onrequest = () => {\n    stream.req.on('finish', onfinish)\n  }\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish)\n    if (!willEmitClose) {\n      stream.on('abort', onclose)\n    }\n    if (stream.req) {\n      onrequest()\n    } else {\n      stream.on('request', onrequest)\n    }\n  } else if (writable && !wState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish)\n    stream.on('close', onlegacyfinish)\n  }\n\n  // Not all streams will emit 'close' after 'aborted'.\n  if (!willEmitClose && typeof stream.aborted === 'boolean') {\n    stream.on('aborted', onclose)\n  }\n  stream.on('end', onend)\n  stream.on('finish', onfinish)\n  if (options.error !== false) {\n    stream.on('error', onerror)\n  }\n  stream.on('close', onclose)\n  if (closed) {\n    process.nextTick(onclose)\n  } else if (\n    (wState !== null && wState !== undefined && wState.errorEmitted) ||\n    (rState !== null && rState !== undefined && rState.errorEmitted)\n  ) {\n    if (!willEmitClose) {\n      process.nextTick(onclosed)\n    }\n  } else if (\n    !readable &&\n    (!willEmitClose || isReadable(stream)) &&\n    (writableFinished || isWritable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (\n    !writable &&\n    (!willEmitClose || isWritable(stream)) &&\n    (readableFinished || isReadable(stream) === false)\n  ) {\n    process.nextTick(onclosed)\n  } else if (rState && stream.req && stream.aborted) {\n    process.nextTick(onclosed)\n  }\n  const cleanup = () => {\n    callback = nop\n    stream.removeListener('aborted', onclose)\n    stream.removeListener('complete', onfinish)\n    stream.removeListener('abort', onclose)\n    stream.removeListener('request', onrequest)\n    if (stream.req) stream.req.removeListener('finish', onfinish)\n    stream.removeListener('end', onlegacyfinish)\n    stream.removeListener('close', onlegacyfinish)\n    stream.removeListener('finish', onfinish)\n    stream.removeListener('end', onend)\n    stream.removeListener('error', onerror)\n    stream.removeListener('close', onclose)\n  }\n  if (options.signal && !closed) {\n    const abort = () => {\n      // Keep it because cleanup removes it.\n      const endCallback = callback\n      cleanup()\n      endCallback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      const originalCallback = callback\n      callback = once((...args) => {\n        options.signal.removeEventListener('abort', abort)\n        originalCallback.apply(stream, args)\n      })\n      options.signal.addEventListener('abort', abort)\n    }\n  }\n  return cleanup\n}\nfunction eosWeb(stream, options, callback) {\n  let isAborted = false\n  let abort = nop\n  if (options.signal) {\n    abort = () => {\n      isAborted = true\n      callback.call(\n        stream,\n        new AbortError(undefined, {\n          cause: options.signal.reason\n        })\n      )\n    }\n    if (options.signal.aborted) {\n      process.nextTick(abort)\n    } else {\n      const originalCallback = callback\n      callback = once((...args) => {\n        options.signal.removeEventListener('abort', abort)\n        originalCallback.apply(stream, args)\n      })\n      options.signal.addEventListener('abort', abort)\n    }\n  }\n  const resolverFn = (...args) => {\n    if (!isAborted) {\n      process.nextTick(() => callback.apply(stream, args))\n    }\n  }\n  PromisePrototypeThen(stream[kIsClosedPromise].promise, resolverFn, resolverFn)\n  return nop\n}\nfunction finished(stream, opts) {\n  var _opts\n  let autoCleanup = false\n  if (opts === null) {\n    opts = kEmptyObject\n  }\n  if ((_opts = opts) !== null && _opts !== undefined && _opts.cleanup) {\n    validateBoolean(opts.cleanup, 'cleanup')\n    autoCleanup = opts.cleanup\n  }\n  return new Promise((resolve, reject) => {\n    const cleanup = eos(stream, opts, (err) => {\n      if (autoCleanup) {\n        cleanup()\n      }\n      if (err) {\n        reject(err)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\nmodule.exports = eos\nmodule.exports.finished = finished\n","'use strict'\n\n/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n\nconst { PromisePrototypeThen, SymbolAsyncIterator, SymbolIterator } = require('../../ours/primordials')\nconst { Buffer } = require('buffer')\nconst { ERR_INVALID_ARG_TYPE, ERR_STREAM_NULL_VALUES } = require('../../ours/errors').codes\nfunction from(Readable, iterable, opts) {\n  let iterator\n  if (typeof iterable === 'string' || iterable instanceof Buffer) {\n    return new Readable({\n      objectMode: true,\n      ...opts,\n      read() {\n        this.push(iterable)\n        this.push(null)\n      }\n    })\n  }\n  let isAsync\n  if (iterable && iterable[SymbolAsyncIterator]) {\n    isAsync = true\n    iterator = iterable[SymbolAsyncIterator]()\n  } else if (iterable && iterable[SymbolIterator]) {\n    isAsync = false\n    iterator = iterable[SymbolIterator]()\n  } else {\n    throw new ERR_INVALID_ARG_TYPE('iterable', ['Iterable'], iterable)\n  }\n  const readable = new Readable({\n    objectMode: true,\n    highWaterMark: 1,\n    // TODO(ronag): What options should be allowed?\n    ...opts\n  })\n\n  // Flag to protect against _read\n  // being called before last iteration completion.\n  let reading = false\n  readable._read = function () {\n    if (!reading) {\n      reading = true\n      next()\n    }\n  }\n  readable._destroy = function (error, cb) {\n    PromisePrototypeThen(\n      close(error),\n      () => process.nextTick(cb, error),\n      // nextTick is here in case cb throws\n      (e) => process.nextTick(cb, e || error)\n    )\n  }\n  async function close(error) {\n    const hadError = error !== undefined && error !== null\n    const hasThrow = typeof iterator.throw === 'function'\n    if (hadError && hasThrow) {\n      const { value, done } = await iterator.throw(error)\n      await value\n      if (done) {\n        return\n      }\n    }\n    if (typeof iterator.return === 'function') {\n      const { value } = await iterator.return()\n      await value\n    }\n  }\n  async function next() {\n    for (;;) {\n      try {\n        const { value, done } = isAsync ? await iterator.next() : iterator.next()\n        if (done) {\n          readable.push(null)\n        } else {\n          const res = value && typeof value.then === 'function' ? await value : value\n          if (res === null) {\n            reading = false\n            throw new ERR_STREAM_NULL_VALUES()\n          } else if (readable.push(res)) {\n            continue\n          } else {\n            reading = false\n          }\n        }\n      } catch (err) {\n        readable.destroy(err)\n      }\n      break\n    }\n  }\n  return readable\n}\nmodule.exports = from\n","'use strict'\n\nconst { ArrayIsArray, ObjectSetPrototypeOf } = require('../../ours/primordials')\nconst { EventEmitter: EE } = require('events')\nfunction Stream(opts) {\n  EE.call(this, opts)\n}\nObjectSetPrototypeOf(Stream.prototype, EE.prototype)\nObjectSetPrototypeOf(Stream, EE)\nStream.prototype.pipe = function (dest, options) {\n  const source = this\n  function ondata(chunk) {\n    if (dest.writable && dest.write(chunk) === false && source.pause) {\n      source.pause()\n    }\n  }\n  source.on('data', ondata)\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume()\n    }\n  }\n  dest.on('drain', ondrain)\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend)\n    source.on('close', onclose)\n  }\n  let didOnEnd = false\n  function onend() {\n    if (didOnEnd) return\n    didOnEnd = true\n    dest.end()\n  }\n  function onclose() {\n    if (didOnEnd) return\n    didOnEnd = true\n    if (typeof dest.destroy === 'function') dest.destroy()\n  }\n\n  // Don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup()\n    if (EE.listenerCount(this, 'error') === 0) {\n      this.emit('error', er)\n    }\n  }\n  prependListener(source, 'error', onerror)\n  prependListener(dest, 'error', onerror)\n\n  // Remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata)\n    dest.removeListener('drain', ondrain)\n    source.removeListener('end', onend)\n    source.removeListener('close', onclose)\n    source.removeListener('error', onerror)\n    dest.removeListener('error', onerror)\n    source.removeListener('end', cleanup)\n    source.removeListener('close', cleanup)\n    dest.removeListener('close', cleanup)\n  }\n  source.on('end', cleanup)\n  source.on('close', cleanup)\n  dest.on('close', cleanup)\n  dest.emit('pipe', source)\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest\n}\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn)\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn)\n  else if (ArrayIsArray(emitter._events[event])) emitter._events[event].unshift(fn)\n  else emitter._events[event] = [fn, emitter._events[event]]\n}\nmodule.exports = {\n  Stream,\n  prependListener\n}\n","'use strict'\n\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nconst {\n  codes: { ERR_INVALID_ARG_VALUE, ERR_INVALID_ARG_TYPE, ERR_MISSING_ARGS, ERR_OUT_OF_RANGE },\n  AbortError\n} = require('../../ours/errors')\nconst { validateAbortSignal, validateInteger, validateObject } = require('../validators')\nconst kWeakHandler = require('../../ours/primordials').Symbol('kWeak')\nconst { finished } = require('./end-of-stream')\nconst staticCompose = require('./compose')\nconst { addAbortSignalNoValidate } = require('./add-abort-signal')\nconst { isWritable, isNodeStream } = require('./utils')\nconst {\n  ArrayPrototypePush,\n  MathFloor,\n  Number,\n  NumberIsNaN,\n  Promise,\n  PromiseReject,\n  PromisePrototypeThen,\n  Symbol\n} = require('../../ours/primordials')\nconst kEmpty = Symbol('kEmpty')\nconst kEof = Symbol('kEof')\nfunction compose(stream, options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  if (isNodeStream(stream) && !isWritable(stream)) {\n    throw new ERR_INVALID_ARG_VALUE('stream', stream, 'must be writable')\n  }\n  const composedStream = staticCompose(this, stream)\n  if (options !== null && options !== undefined && options.signal) {\n    // Not validating as we already validated before\n    addAbortSignalNoValidate(options.signal, composedStream)\n  }\n  return composedStream\n}\nfunction map(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let concurrency = 1\n  if ((options === null || options === undefined ? undefined : options.concurrency) != null) {\n    concurrency = MathFloor(options.concurrency)\n  }\n  validateInteger(concurrency, 'concurrency', 1)\n  return async function* map() {\n    var _options$signal, _options$signal2\n    const ac = new AbortController()\n    const stream = this\n    const queue = []\n    const signal = ac.signal\n    const signalOpt = {\n      signal\n    }\n    const abort = () => ac.abort()\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal = options.signal) !== null &&\n      _options$signal !== undefined &&\n      _options$signal.aborted\n    ) {\n      abort()\n    }\n    options === null || options === undefined\n      ? undefined\n      : (_options$signal2 = options.signal) === null || _options$signal2 === undefined\n      ? undefined\n      : _options$signal2.addEventListener('abort', abort)\n    let next\n    let resume\n    let done = false\n    function onDone() {\n      done = true\n    }\n    async function pump() {\n      try {\n        for await (let val of stream) {\n          var _val\n          if (done) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          try {\n            val = fn(val, signalOpt)\n          } catch (err) {\n            val = PromiseReject(err)\n          }\n          if (val === kEmpty) {\n            continue\n          }\n          if (typeof ((_val = val) === null || _val === undefined ? undefined : _val.catch) === 'function') {\n            val.catch(onDone)\n          }\n          queue.push(val)\n          if (next) {\n            next()\n            next = null\n          }\n          if (!done && queue.length && queue.length >= concurrency) {\n            await new Promise((resolve) => {\n              resume = resolve\n            })\n          }\n        }\n        queue.push(kEof)\n      } catch (err) {\n        const val = PromiseReject(err)\n        PromisePrototypeThen(val, undefined, onDone)\n        queue.push(val)\n      } finally {\n        var _options$signal3\n        done = true\n        if (next) {\n          next()\n          next = null\n        }\n        options === null || options === undefined\n          ? undefined\n          : (_options$signal3 = options.signal) === null || _options$signal3 === undefined\n          ? undefined\n          : _options$signal3.removeEventListener('abort', abort)\n      }\n    }\n    pump()\n    try {\n      while (true) {\n        while (queue.length > 0) {\n          const val = await queue[0]\n          if (val === kEof) {\n            return\n          }\n          if (signal.aborted) {\n            throw new AbortError()\n          }\n          if (val !== kEmpty) {\n            yield val\n          }\n          queue.shift()\n          if (resume) {\n            resume()\n            resume = null\n          }\n        }\n        await new Promise((resolve) => {\n          next = resolve\n        })\n      }\n    } finally {\n      ac.abort()\n      done = true\n      if (resume) {\n        resume()\n        resume = null\n      }\n    }\n  }.call(this)\n}\nfunction asIndexedPairs(options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  return async function* asIndexedPairs() {\n    let index = 0\n    for await (const val of this) {\n      var _options$signal4\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal4 = options.signal) !== null &&\n        _options$signal4 !== undefined &&\n        _options$signal4.aborted\n      ) {\n        throw new AbortError({\n          cause: options.signal.reason\n        })\n      }\n      yield [index++, val]\n    }\n  }.call(this)\n}\nasync function some(fn, options = undefined) {\n  for await (const unused of filter.call(this, fn, options)) {\n    return true\n  }\n  return false\n}\nasync function every(fn, options = undefined) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  // https://en.wikipedia.org/wiki/De_Morgan%27s_laws\n  return !(await some.call(\n    this,\n    async (...args) => {\n      return !(await fn(...args))\n    },\n    options\n  ))\n}\nasync function find(fn, options) {\n  for await (const result of filter.call(this, fn, options)) {\n    return result\n  }\n  return undefined\n}\nasync function forEach(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function forEachFn(value, options) {\n    await fn(value, options)\n    return kEmpty\n  }\n  // eslint-disable-next-line no-unused-vars\n  for await (const unused of map.call(this, forEachFn, options));\n}\nfunction filter(fn, options) {\n  if (typeof fn !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('fn', ['Function', 'AsyncFunction'], fn)\n  }\n  async function filterFn(value, options) {\n    if (await fn(value, options)) {\n      return value\n    }\n    return kEmpty\n  }\n  return map.call(this, filterFn, options)\n}\n\n// Specific to provide better error to reduce since the argument is only\n// missing if the stream has no items in it - but the code is still appropriate\nclass ReduceAwareErrMissingArgs extends ERR_MISSING_ARGS {\n  constructor() {\n    super('reduce')\n    this.message = 'Reduce of an empty stream requires an initial value'\n  }\n}\nasync function reduce(reducer, initialValue, options) {\n  var _options$signal5\n  if (typeof reducer !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE('reducer', ['Function', 'AsyncFunction'], reducer)\n  }\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  let hasInitialValue = arguments.length > 1\n  if (\n    options !== null &&\n    options !== undefined &&\n    (_options$signal5 = options.signal) !== null &&\n    _options$signal5 !== undefined &&\n    _options$signal5.aborted\n  ) {\n    const err = new AbortError(undefined, {\n      cause: options.signal.reason\n    })\n    this.once('error', () => {}) // The error is already propagated\n    await finished(this.destroy(err))\n    throw err\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  if (options !== null && options !== undefined && options.signal) {\n    const opts = {\n      once: true,\n      [kWeakHandler]: this\n    }\n    options.signal.addEventListener('abort', () => ac.abort(), opts)\n  }\n  let gotAnyItemFromStream = false\n  try {\n    for await (const value of this) {\n      var _options$signal6\n      gotAnyItemFromStream = true\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal6 = options.signal) !== null &&\n        _options$signal6 !== undefined &&\n        _options$signal6.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (!hasInitialValue) {\n        initialValue = value\n        hasInitialValue = true\n      } else {\n        initialValue = await reducer(initialValue, value, {\n          signal\n        })\n      }\n    }\n    if (!gotAnyItemFromStream && !hasInitialValue) {\n      throw new ReduceAwareErrMissingArgs()\n    }\n  } finally {\n    ac.abort()\n  }\n  return initialValue\n}\nasync function toArray(options) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  const result = []\n  for await (const val of this) {\n    var _options$signal7\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal7 = options.signal) !== null &&\n      _options$signal7 !== undefined &&\n      _options$signal7.aborted\n    ) {\n      throw new AbortError(undefined, {\n        cause: options.signal.reason\n      })\n    }\n    ArrayPrototypePush(result, val)\n  }\n  return result\n}\nfunction flatMap(fn, options) {\n  const values = map.call(this, fn, options)\n  return async function* flatMap() {\n    for await (const val of values) {\n      yield* val\n    }\n  }.call(this)\n}\nfunction toIntegerOrInfinity(number) {\n  // We coerce here to align with the spec\n  // https://github.com/tc39/proposal-iterator-helpers/issues/169\n  number = Number(number)\n  if (NumberIsNaN(number)) {\n    return 0\n  }\n  if (number < 0) {\n    throw new ERR_OUT_OF_RANGE('number', '>= 0', number)\n  }\n  return number\n}\nfunction drop(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* drop() {\n    var _options$signal8\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal8 = options.signal) !== null &&\n      _options$signal8 !== undefined &&\n      _options$signal8.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal9\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal9 = options.signal) !== null &&\n        _options$signal9 !== undefined &&\n        _options$signal9.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- <= 0) {\n        yield val\n      }\n    }\n  }.call(this)\n}\nfunction take(number, options = undefined) {\n  if (options != null) {\n    validateObject(options, 'options')\n  }\n  if ((options === null || options === undefined ? undefined : options.signal) != null) {\n    validateAbortSignal(options.signal, 'options.signal')\n  }\n  number = toIntegerOrInfinity(number)\n  return async function* take() {\n    var _options$signal10\n    if (\n      options !== null &&\n      options !== undefined &&\n      (_options$signal10 = options.signal) !== null &&\n      _options$signal10 !== undefined &&\n      _options$signal10.aborted\n    ) {\n      throw new AbortError()\n    }\n    for await (const val of this) {\n      var _options$signal11\n      if (\n        options !== null &&\n        options !== undefined &&\n        (_options$signal11 = options.signal) !== null &&\n        _options$signal11 !== undefined &&\n        _options$signal11.aborted\n      ) {\n        throw new AbortError()\n      }\n      if (number-- > 0) {\n        yield val\n      } else {\n        return\n      }\n    }\n  }.call(this)\n}\nmodule.exports.streamReturningOperators = {\n  asIndexedPairs,\n  drop,\n  filter,\n  flatMap,\n  map,\n  take,\n  compose\n}\nmodule.exports.promiseReturningOperators = {\n  every,\n  forEach,\n  reduce,\n  toArray,\n  some,\n  find\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf } = require('../../ours/primordials')\nmodule.exports = PassThrough\nconst Transform = require('./transform')\nObjectSetPrototypeOf(PassThrough.prototype, Transform.prototype)\nObjectSetPrototypeOf(PassThrough, Transform)\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options)\n  Transform.call(this, options)\n}\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk)\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n\n;('use strict')\nconst { ArrayIsArray, Promise, SymbolAsyncIterator } = require('../../ours/primordials')\nconst eos = require('./end-of-stream')\nconst { once } = require('../../ours/util')\nconst destroyImpl = require('./destroy')\nconst Duplex = require('./duplex')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_INVALID_RETURN_VALUE,\n    ERR_MISSING_ARGS,\n    ERR_STREAM_DESTROYED,\n    ERR_STREAM_PREMATURE_CLOSE\n  },\n  AbortError\n} = require('../../ours/errors')\nconst { validateFunction, validateAbortSignal } = require('../validators')\nconst {\n  isIterable,\n  isReadable,\n  isReadableNodeStream,\n  isNodeStream,\n  isTransformStream,\n  isWebStream,\n  isReadableStream,\n  isReadableEnded\n} = require('./utils')\nconst AbortController = globalThis.AbortController || require('abort-controller').AbortController\nlet PassThrough\nlet Readable\nfunction destroyer(stream, reading, writing) {\n  let finished = false\n  stream.on('close', () => {\n    finished = true\n  })\n  const cleanup = eos(\n    stream,\n    {\n      readable: reading,\n      writable: writing\n    },\n    (err) => {\n      finished = !err\n    }\n  )\n  return {\n    destroy: (err) => {\n      if (finished) return\n      finished = true\n      destroyImpl.destroyer(stream, err || new ERR_STREAM_DESTROYED('pipe'))\n    },\n    cleanup\n  }\n}\nfunction popCallback(streams) {\n  // Streams should never be an empty array. It should always contain at least\n  // a single stream. Therefore optimize for the average case instead of\n  // checking for length === 0 as well.\n  validateFunction(streams[streams.length - 1], 'streams[stream.length - 1]')\n  return streams.pop()\n}\nfunction makeAsyncIterable(val) {\n  if (isIterable(val)) {\n    return val\n  } else if (isReadableNodeStream(val)) {\n    // Legacy streams are not Iterable.\n    return fromReadable(val)\n  }\n  throw new ERR_INVALID_ARG_TYPE('val', ['Readable', 'Iterable', 'AsyncIterable'], val)\n}\nasync function* fromReadable(val) {\n  if (!Readable) {\n    Readable = require('./readable')\n  }\n  yield* Readable.prototype[SymbolAsyncIterator].call(val)\n}\nasync function pumpToNode(iterable, writable, finish, { end }) {\n  let error\n  let onresolve = null\n  const resume = (err) => {\n    if (err) {\n      error = err\n    }\n    if (onresolve) {\n      const callback = onresolve\n      onresolve = null\n      callback()\n    }\n  }\n  const wait = () =>\n    new Promise((resolve, reject) => {\n      if (error) {\n        reject(error)\n      } else {\n        onresolve = () => {\n          if (error) {\n            reject(error)\n          } else {\n            resolve()\n          }\n        }\n      }\n    })\n  writable.on('drain', resume)\n  const cleanup = eos(\n    writable,\n    {\n      readable: false\n    },\n    resume\n  )\n  try {\n    if (writable.writableNeedDrain) {\n      await wait()\n    }\n    for await (const chunk of iterable) {\n      if (!writable.write(chunk)) {\n        await wait()\n      }\n    }\n    if (end) {\n      writable.end()\n    }\n    await wait()\n    finish()\n  } catch (err) {\n    finish(error !== err ? aggregateTwoErrors(error, err) : err)\n  } finally {\n    cleanup()\n    writable.off('drain', resume)\n  }\n}\nasync function pumpToWeb(readable, writable, finish, { end }) {\n  if (isTransformStream(writable)) {\n    writable = writable.writable\n  }\n  // https://streams.spec.whatwg.org/#example-manual-write-with-backpressure\n  const writer = writable.getWriter()\n  try {\n    for await (const chunk of readable) {\n      await writer.ready\n      writer.write(chunk).catch(() => {})\n    }\n    await writer.ready\n    if (end) {\n      await writer.close()\n    }\n    finish()\n  } catch (err) {\n    try {\n      await writer.abort(err)\n      finish(err)\n    } catch (err) {\n      finish(err)\n    }\n  }\n}\nfunction pipeline(...streams) {\n  return pipelineImpl(streams, once(popCallback(streams)))\n}\nfunction pipelineImpl(streams, callback, opts) {\n  if (streams.length === 1 && ArrayIsArray(streams[0])) {\n    streams = streams[0]\n  }\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams')\n  }\n  const ac = new AbortController()\n  const signal = ac.signal\n  const outerSignal = opts === null || opts === undefined ? undefined : opts.signal\n\n  // Need to cleanup event listeners if last stream is readable\n  // https://github.com/nodejs/node/issues/35452\n  const lastStreamCleanup = []\n  validateAbortSignal(outerSignal, 'options.signal')\n  function abort() {\n    finishImpl(new AbortError())\n  }\n  outerSignal === null || outerSignal === undefined ? undefined : outerSignal.addEventListener('abort', abort)\n  let error\n  let value\n  const destroys = []\n  let finishCount = 0\n  function finish(err) {\n    finishImpl(err, --finishCount === 0)\n  }\n  function finishImpl(err, final) {\n    if (err && (!error || error.code === 'ERR_STREAM_PREMATURE_CLOSE')) {\n      error = err\n    }\n    if (!error && !final) {\n      return\n    }\n    while (destroys.length) {\n      destroys.shift()(error)\n    }\n    outerSignal === null || outerSignal === undefined ? undefined : outerSignal.removeEventListener('abort', abort)\n    ac.abort()\n    if (final) {\n      if (!error) {\n        lastStreamCleanup.forEach((fn) => fn())\n      }\n      process.nextTick(callback, error, value)\n    }\n  }\n  let ret\n  for (let i = 0; i < streams.length; i++) {\n    const stream = streams[i]\n    const reading = i < streams.length - 1\n    const writing = i > 0\n    const end = reading || (opts === null || opts === undefined ? undefined : opts.end) !== false\n    const isLastStream = i === streams.length - 1\n    if (isNodeStream(stream)) {\n      if (end) {\n        const { destroy, cleanup } = destroyer(stream, reading, writing)\n        destroys.push(destroy)\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n\n      // Catch stream errors that occur after pipe/pump has completed.\n      function onError(err) {\n        if (err && err.name !== 'AbortError' && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n          finish(err)\n        }\n      }\n      stream.on('error', onError)\n      if (isReadable(stream) && isLastStream) {\n        lastStreamCleanup.push(() => {\n          stream.removeListener('error', onError)\n        })\n      }\n    }\n    if (i === 0) {\n      if (typeof stream === 'function') {\n        ret = stream({\n          signal\n        })\n        if (!isIterable(ret)) {\n          throw new ERR_INVALID_RETURN_VALUE('Iterable, AsyncIterable or Stream', 'source', ret)\n        }\n      } else if (isIterable(stream) || isReadableNodeStream(stream) || isTransformStream(stream)) {\n        ret = stream\n      } else {\n        ret = Duplex.from(stream)\n      }\n    } else if (typeof stream === 'function') {\n      if (isTransformStream(ret)) {\n        var _ret\n        ret = makeAsyncIterable((_ret = ret) === null || _ret === undefined ? undefined : _ret.readable)\n      } else {\n        ret = makeAsyncIterable(ret)\n      }\n      ret = stream(ret, {\n        signal\n      })\n      if (reading) {\n        if (!isIterable(ret, true)) {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable', `transform[${i - 1}]`, ret)\n        }\n      } else {\n        var _ret2\n        if (!PassThrough) {\n          PassThrough = require('./passthrough')\n        }\n\n        // If the last argument to pipeline is not a stream\n        // we must create a proxy stream so that pipeline(...)\n        // always returns a stream which can be further\n        // composed through `.pipe(stream)`.\n\n        const pt = new PassThrough({\n          objectMode: true\n        })\n\n        // Handle Promises/A+ spec, `then` could be a getter that throws on\n        // second use.\n        const then = (_ret2 = ret) === null || _ret2 === undefined ? undefined : _ret2.then\n        if (typeof then === 'function') {\n          finishCount++\n          then.call(\n            ret,\n            (val) => {\n              value = val\n              if (val != null) {\n                pt.write(val)\n              }\n              if (end) {\n                pt.end()\n              }\n              process.nextTick(finish)\n            },\n            (err) => {\n              pt.destroy(err)\n              process.nextTick(finish, err)\n            }\n          )\n        } else if (isIterable(ret, true)) {\n          finishCount++\n          pumpToNode(ret, pt, finish, {\n            end\n          })\n        } else if (isReadableStream(ret) || isTransformStream(ret)) {\n          const toRead = ret.readable || ret\n          finishCount++\n          pumpToNode(toRead, pt, finish, {\n            end\n          })\n        } else {\n          throw new ERR_INVALID_RETURN_VALUE('AsyncIterable or Promise', 'destination', ret)\n        }\n        ret = pt\n        const { destroy, cleanup } = destroyer(ret, false, true)\n        destroys.push(destroy)\n        if (isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      }\n    } else if (isNodeStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount += 2\n        const cleanup = pipe(ret, stream, finish, {\n          end\n        })\n        if (isReadable(stream) && isLastStream) {\n          lastStreamCleanup.push(cleanup)\n        }\n      } else if (isTransformStream(ret) || isReadableStream(ret)) {\n        const toRead = ret.readable || ret\n        finishCount++\n        pumpToNode(toRead, stream, finish, {\n          end\n        })\n      } else if (isIterable(ret)) {\n        finishCount++\n        pumpToNode(ret, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else if (isWebStream(stream)) {\n      if (isReadableNodeStream(ret)) {\n        finishCount++\n        pumpToWeb(makeAsyncIterable(ret), stream, finish, {\n          end\n        })\n      } else if (isReadableStream(ret) || isIterable(ret)) {\n        finishCount++\n        pumpToWeb(ret, stream, finish, {\n          end\n        })\n      } else if (isTransformStream(ret)) {\n        finishCount++\n        pumpToWeb(ret.readable, stream, finish, {\n          end\n        })\n      } else {\n        throw new ERR_INVALID_ARG_TYPE(\n          'val',\n          ['Readable', 'Iterable', 'AsyncIterable', 'ReadableStream', 'TransformStream'],\n          ret\n        )\n      }\n      ret = stream\n    } else {\n      ret = Duplex.from(stream)\n    }\n  }\n  if (\n    (signal !== null && signal !== undefined && signal.aborted) ||\n    (outerSignal !== null && outerSignal !== undefined && outerSignal.aborted)\n  ) {\n    process.nextTick(abort)\n  }\n  return ret\n}\nfunction pipe(src, dst, finish, { end }) {\n  let ended = false\n  dst.on('close', () => {\n    if (!ended) {\n      // Finish if the destination closes before the source has completed.\n      finish(new ERR_STREAM_PREMATURE_CLOSE())\n    }\n  })\n  src.pipe(dst, {\n    end: false\n  }) // If end is true we already will have a listener to end dst.\n\n  if (end) {\n    // Compat. Before node v10.12.0 stdio used to throw an error so\n    // pipe() did/does not end() stdio destinations.\n    // Now they allow it but \"secretly\" don't close the underlying fd.\n\n    function endFn() {\n      ended = true\n      dst.end()\n    }\n    if (isReadableEnded(src)) {\n      // End the destination if the source has already ended.\n      process.nextTick(endFn)\n    } else {\n      src.once('end', endFn)\n    }\n  } else {\n    finish()\n  }\n  eos(\n    src,\n    {\n      readable: true,\n      writable: false\n    },\n    (err) => {\n      const rState = src._readableState\n      if (\n        err &&\n        err.code === 'ERR_STREAM_PREMATURE_CLOSE' &&\n        rState &&\n        rState.ended &&\n        !rState.errored &&\n        !rState.errorEmitted\n      ) {\n        // Some readable streams will emit 'close' before 'end'. However, since\n        // this is on the readable side 'end' should still be emitted if the\n        // stream has been ended and no error emitted. This should be allowed in\n        // favor of backwards compatibility. Since the stream is piped to a\n        // destination this should not result in any observable difference.\n        // We don't need to check if this is a writable premature close since\n        // eos will only fail with premature close on the reading side for\n        // duplex streams.\n        src.once('end', finish).once('error', finish)\n      } else {\n        finish(err)\n      }\n    }\n  )\n  return eos(\n    dst,\n    {\n      readable: false,\n      writable: true\n    },\n    finish\n  )\n}\nmodule.exports = {\n  pipelineImpl,\n  pipeline\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst {\n  ArrayPrototypeIndexOf,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberParseInt,\n  ObjectDefineProperties,\n  ObjectKeys,\n  ObjectSetPrototypeOf,\n  Promise,\n  SafeSet,\n  SymbolAsyncIterator,\n  Symbol\n} = require('../../ours/primordials')\nmodule.exports = Readable\nReadable.ReadableState = ReadableState\nconst { EventEmitter: EE } = require('events')\nconst { Stream, prependListener } = require('./legacy')\nconst { Buffer } = require('buffer')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst eos = require('./end-of-stream')\nlet debug = require('../../ours/util').debuglog('stream', (fn) => {\n  debug = fn\n})\nconst BufferList = require('./buffer_list')\nconst destroyImpl = require('./destroy')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  aggregateTwoErrors,\n  codes: {\n    ERR_INVALID_ARG_TYPE,\n    ERR_METHOD_NOT_IMPLEMENTED,\n    ERR_OUT_OF_RANGE,\n    ERR_STREAM_PUSH_AFTER_EOF,\n    ERR_STREAM_UNSHIFT_AFTER_END_EVENT\n  }\n} = require('../../ours/errors')\nconst { validateObject } = require('../validators')\nconst kPaused = Symbol('kPaused')\nconst { StringDecoder } = require('string_decoder')\nconst from = require('./from')\nObjectSetPrototypeOf(Readable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Readable, Stream)\nconst nop = () => {}\nconst { errorOrDestroy } = destroyImpl\nfunction ReadableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away.\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.readableObjectMode)\n\n  // The point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift().\n  this.buffer = new BufferList()\n  this.length = 0\n  this.pipes = []\n  this.flowing = null\n  this.ended = false\n  this.endEmitted = false\n  this.reading = false\n\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  this.constructed = true\n\n  // A flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true\n\n  // Whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false\n  this.emittedReadable = false\n  this.readableListening = false\n  this.resumeScheduled = false\n  this[kPaused] = null\n\n  // True if the error was already emitted and should not be thrown again.\n  this.errorEmitted = false\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = !options || options.emitClose !== false\n\n  // Should .destroy() be called after 'end' (and potentially 'finish').\n  this.autoDestroy = !options || options.autoDestroy !== false\n\n  // Has it been destroyed.\n  this.destroyed = false\n\n  // Indicates whether the stream has errored. When true no further\n  // _read calls, 'data' or 'readable' events should occur. This is needed\n  // since when autoDestroy is disabled we need a way to tell whether the\n  // stream has failed.\n  this.errored = null\n\n  // Indicates whether the stream has finished destroying.\n  this.closed = false\n\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  this.closeEmitted = false\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Ref the piped dest which we need a drain event on it\n  // type: null | Writable | Set<Writable>.\n  this.awaitDrainWriters = null\n  this.multiAwaitDrain = false\n\n  // If true, a maybeReadMore has been scheduled.\n  this.readingMore = false\n  this.dataEmitted = false\n  this.decoder = null\n  this.encoding = null\n  if (options && options.encoding) {\n    this.decoder = new StringDecoder(options.encoding)\n    this.encoding = options.encoding\n  }\n}\nfunction Readable(options) {\n  if (!(this instanceof Readable)) return new Readable(options)\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  this._readableState = new ReadableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal && !isDuplex) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    if (this._readableState.needReadable) {\n      maybeReadMore(this, this._readableState)\n    }\n  })\n}\nReadable.prototype.destroy = destroyImpl.destroy\nReadable.prototype._undestroy = destroyImpl.undestroy\nReadable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nReadable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, false)\n}\n\n// Unshift should *always* be something directly out of read().\nReadable.prototype.unshift = function (chunk, encoding) {\n  return readableAddChunk(this, chunk, encoding, true)\n}\nfunction readableAddChunk(stream, chunk, encoding, addToFront) {\n  debug('readableAddChunk', chunk)\n  const state = stream._readableState\n  let err\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding\n      if (state.encoding !== encoding) {\n        if (addToFront && state.encoding) {\n          // When unshifting, if state.encoding is set, we have to save\n          // the string in the BufferList with the state encoding.\n          chunk = Buffer.from(chunk, encoding).toString(state.encoding)\n        } else {\n          chunk = Buffer.from(chunk, encoding)\n          encoding = ''\n        }\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = ''\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = ''\n    } else if (chunk != null) {\n      err = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  if (err) {\n    errorOrDestroy(stream, err)\n  } else if (chunk === null) {\n    state.reading = false\n    onEofChunk(stream, state)\n  } else if (state.objectMode || (chunk && chunk.length > 0)) {\n    if (addToFront) {\n      if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT())\n      else if (state.destroyed || state.errored) return false\n      else addChunk(stream, state, chunk, true)\n    } else if (state.ended) {\n      errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF())\n    } else if (state.destroyed || state.errored) {\n      return false\n    } else {\n      state.reading = false\n      if (state.decoder && !encoding) {\n        chunk = state.decoder.write(chunk)\n        if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false)\n        else maybeReadMore(stream, state)\n      } else {\n        addChunk(stream, state, chunk, false)\n      }\n    }\n  } else if (!addToFront) {\n    state.reading = false\n    maybeReadMore(stream, state)\n  }\n\n  // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0)\n}\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync && stream.listenerCount('data') > 0) {\n    // Use the guard to avoid creating `Set()` repeatedly\n    // when we have multiple pipes.\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n    state.dataEmitted = true\n    stream.emit('data', chunk)\n  } else {\n    // Update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length\n    if (addToFront) state.buffer.unshift(chunk)\n    else state.buffer.push(chunk)\n    if (state.needReadable) emitReadable(stream)\n  }\n  maybeReadMore(stream, state)\n}\nReadable.prototype.isPaused = function () {\n  const state = this._readableState\n  return state[kPaused] === true || state.flowing === false\n}\n\n// Backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  const decoder = new StringDecoder(enc)\n  this._readableState.decoder = decoder\n  // If setEncoding(null), decoder.encoding equals utf8.\n  this._readableState.encoding = this._readableState.decoder.encoding\n  const buffer = this._readableState.buffer\n  // Iterate over current buffer to convert already stored Buffers:\n  let content = ''\n  for (const data of buffer) {\n    content += decoder.write(data)\n  }\n  buffer.clear()\n  if (content !== '') buffer.push(content)\n  this._readableState.length = content.length\n  return this\n}\n\n// Don't raise the hwm > 1GB.\nconst MAX_HWM = 0x40000000\nfunction computeNewHighWaterMark(n) {\n  if (n > MAX_HWM) {\n    throw new ERR_OUT_OF_RANGE('size', '<= 1GiB', n)\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts.\n    n--\n    n |= n >>> 1\n    n |= n >>> 2\n    n |= n >>> 4\n    n |= n >>> 8\n    n |= n >>> 16\n    n++\n  }\n  return n\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || (state.length === 0 && state.ended)) return 0\n  if (state.objectMode) return 1\n  if (NumberIsNaN(n)) {\n    // Only flow one buffer at a time.\n    if (state.flowing && state.length) return state.buffer.first().length\n    return state.length\n  }\n  if (n <= state.length) return n\n  return state.ended ? state.length : 0\n}\n\n// You can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n)\n  // Same as parseInt(undefined, 10), however V8 7.3 performance regressed\n  // in this scenario, so we are doing it manually.\n  if (n === undefined) {\n    n = NaN\n  } else if (!NumberIsInteger(n)) {\n    n = NumberParseInt(n, 10)\n  }\n  const state = this._readableState\n  const nOrig = n\n\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n)\n  if (n !== 0) state.emittedReadable = false\n\n  // If we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (\n    n === 0 &&\n    state.needReadable &&\n    ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)\n  ) {\n    debug('read: emitReadable', state.length, state.ended)\n    if (state.length === 0 && state.ended) endReadable(this)\n    else emitReadable(this)\n    return null\n  }\n  n = howMuchToRead(n, state)\n\n  // If we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this)\n    return null\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  let doRead = state.needReadable\n  debug('need readable', doRead)\n\n  // If we currently have less than the highWaterMark, then also read some.\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true\n    debug('length less than watermark', doRead)\n  }\n\n  // However, if we've ended, then there's no point, if we're already\n  // reading, then it's unnecessary, if we're constructing we have to wait,\n  // and if we're destroyed or errored, then it's not allowed,\n  if (state.ended || state.reading || state.destroyed || state.errored || !state.constructed) {\n    doRead = false\n    debug('reading, ended or constructing', doRead)\n  } else if (doRead) {\n    debug('do read')\n    state.reading = true\n    state.sync = true\n    // If the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true\n\n    // Call internal read method\n    try {\n      this._read(state.highWaterMark)\n    } catch (err) {\n      errorOrDestroy(this, err)\n    }\n    state.sync = false\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state)\n  }\n  let ret\n  if (n > 0) ret = fromList(n, state)\n  else ret = null\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark\n    n = 0\n  } else {\n    state.length -= n\n    if (state.multiAwaitDrain) {\n      state.awaitDrainWriters.clear()\n    } else {\n      state.awaitDrainWriters = null\n    }\n  }\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this)\n  }\n  if (ret !== null && !state.errorEmitted && !state.closeEmitted) {\n    state.dataEmitted = true\n    this.emit('data', ret)\n  }\n  return ret\n}\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk')\n  if (state.ended) return\n  if (state.decoder) {\n    const chunk = state.decoder.end()\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk)\n      state.length += state.objectMode ? 1 : chunk.length\n    }\n  }\n  state.ended = true\n  if (state.sync) {\n    // If we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call.\n    emitReadable(stream)\n  } else {\n    // Emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false\n    state.emittedReadable = true\n    // We have to emit readable now that we are EOF. Modules\n    // in the ecosystem (e.g. dicer) rely on this event being sync.\n    emitReadable_(stream)\n  }\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  const state = stream._readableState\n  debug('emitReadable', state.needReadable, state.emittedReadable)\n  state.needReadable = false\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing)\n    state.emittedReadable = true\n    process.nextTick(emitReadable_, stream)\n  }\n}\nfunction emitReadable_(stream) {\n  const state = stream._readableState\n  debug('emitReadable_', state.destroyed, state.length, state.ended)\n  if (!state.destroyed && !state.errored && (state.length || state.ended)) {\n    stream.emit('readable')\n    state.emittedReadable = false\n  }\n\n  // The stream needs another readable event if:\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark\n  flow(stream)\n}\n\n// At this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore && state.constructed) {\n    state.readingMore = true\n    process.nextTick(maybeReadMore_, stream, state)\n  }\n}\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (\n    !state.reading &&\n    !state.ended &&\n    (state.length < state.highWaterMark || (state.flowing && state.length === 0))\n  ) {\n    const len = state.length\n    debug('maybeReadMore read 0')\n    stream.read(0)\n    if (len === state.length)\n      // Didn't get any data, stop spinning.\n      break\n  }\n  state.readingMore = false\n}\n\n// Abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_read()')\n}\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  const src = this\n  const state = this._readableState\n  if (state.pipes.length === 1) {\n    if (!state.multiAwaitDrain) {\n      state.multiAwaitDrain = true\n      state.awaitDrainWriters = new SafeSet(state.awaitDrainWriters ? [state.awaitDrainWriters] : [])\n    }\n  }\n  state.pipes.push(dest)\n  debug('pipe count=%d opts=%j', state.pipes.length, pipeOpts)\n  const doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr\n  const endFn = doEnd ? onend : unpipe\n  if (state.endEmitted) process.nextTick(endFn)\n  else src.once('end', endFn)\n  dest.on('unpipe', onunpipe)\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe')\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true\n        cleanup()\n      }\n    }\n  }\n  function onend() {\n    debug('onend')\n    dest.end()\n  }\n  let ondrain\n  let cleanedUp = false\n  function cleanup() {\n    debug('cleanup')\n    // Cleanup event handlers once the pipe is broken.\n    dest.removeListener('close', onclose)\n    dest.removeListener('finish', onfinish)\n    if (ondrain) {\n      dest.removeListener('drain', ondrain)\n    }\n    dest.removeListener('error', onerror)\n    dest.removeListener('unpipe', onunpipe)\n    src.removeListener('end', onend)\n    src.removeListener('end', unpipe)\n    src.removeListener('data', ondata)\n    cleanedUp = true\n\n    // If the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (ondrain && state.awaitDrainWriters && (!dest._writableState || dest._writableState.needDrain)) ondrain()\n  }\n  function pause() {\n    // If the user unpiped during `dest.write()`, it is possible\n    // to get stuck in a permanently paused state if that write\n    // also returned false.\n    // => Check whether `dest` is still a piping destination.\n    if (!cleanedUp) {\n      if (state.pipes.length === 1 && state.pipes[0] === dest) {\n        debug('false write response, pause', 0)\n        state.awaitDrainWriters = dest\n        state.multiAwaitDrain = false\n      } else if (state.pipes.length > 1 && state.pipes.includes(dest)) {\n        debug('false write response, pause', state.awaitDrainWriters.size)\n        state.awaitDrainWriters.add(dest)\n      }\n      src.pause()\n    }\n    if (!ondrain) {\n      // When the dest drains, it reduces the awaitDrain counter\n      // on the source.  This would be more elegant with a .once()\n      // handler in flow(), but adding and removing repeatedly is\n      // too slow.\n      ondrain = pipeOnDrain(src, dest)\n      dest.on('drain', ondrain)\n    }\n  }\n  src.on('data', ondata)\n  function ondata(chunk) {\n    debug('ondata')\n    const ret = dest.write(chunk)\n    debug('dest.write', ret)\n    if (ret === false) {\n      pause()\n    }\n  }\n\n  // If the dest has an error, then stop piping into it.\n  // However, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er)\n    unpipe()\n    dest.removeListener('error', onerror)\n    if (dest.listenerCount('error') === 0) {\n      const s = dest._writableState || dest._readableState\n      if (s && !s.errorEmitted) {\n        // User incorrectly emitted 'error' directly on the stream.\n        errorOrDestroy(dest, er)\n      } else {\n        dest.emit('error', er)\n      }\n    }\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror)\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish)\n    unpipe()\n  }\n  dest.once('close', onclose)\n  function onfinish() {\n    debug('onfinish')\n    dest.removeListener('close', onclose)\n    unpipe()\n  }\n  dest.once('finish', onfinish)\n  function unpipe() {\n    debug('unpipe')\n    src.unpipe(dest)\n  }\n\n  // Tell the dest that it's being piped to.\n  dest.emit('pipe', src)\n\n  // Start the flow if it hasn't been started already.\n\n  if (dest.writableNeedDrain === true) {\n    if (state.flowing) {\n      pause()\n    }\n  } else if (!state.flowing) {\n    debug('pipe resume')\n    src.resume()\n  }\n  return dest\n}\nfunction pipeOnDrain(src, dest) {\n  return function pipeOnDrainFunctionResult() {\n    const state = src._readableState\n\n    // `ondrain` will call directly,\n    // `this` maybe not a reference to dest,\n    // so we use the real dest here.\n    if (state.awaitDrainWriters === dest) {\n      debug('pipeOnDrain', 1)\n      state.awaitDrainWriters = null\n    } else if (state.multiAwaitDrain) {\n      debug('pipeOnDrain', state.awaitDrainWriters.size)\n      state.awaitDrainWriters.delete(dest)\n    }\n    if ((!state.awaitDrainWriters || state.awaitDrainWriters.size === 0) && src.listenerCount('data')) {\n      src.resume()\n    }\n  }\n}\nReadable.prototype.unpipe = function (dest) {\n  const state = this._readableState\n  const unpipeInfo = {\n    hasUnpiped: false\n  }\n\n  // If we're not piping anywhere, then do nothing.\n  if (state.pipes.length === 0) return this\n  if (!dest) {\n    // remove all.\n    const dests = state.pipes\n    state.pipes = []\n    this.pause()\n    for (let i = 0; i < dests.length; i++)\n      dests[i].emit('unpipe', this, {\n        hasUnpiped: false\n      })\n    return this\n  }\n\n  // Try to find the right one.\n  const index = ArrayPrototypeIndexOf(state.pipes, dest)\n  if (index === -1) return this\n  state.pipes.splice(index, 1)\n  if (state.pipes.length === 0) this.pause()\n  dest.emit('unpipe', this, unpipeInfo)\n  return this\n}\n\n// Set up data events if they are asked for\n// Ensure readable listeners eventually get something.\nReadable.prototype.on = function (ev, fn) {\n  const res = Stream.prototype.on.call(this, ev, fn)\n  const state = this._readableState\n  if (ev === 'data') {\n    // Update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0\n\n    // Try start flowing on next tick if stream isn't explicitly paused.\n    if (state.flowing !== false) this.resume()\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true\n      state.flowing = false\n      state.emittedReadable = false\n      debug('on readable', state.length, state.reading)\n      if (state.length) {\n        emitReadable(this)\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this)\n      }\n    }\n  }\n  return res\n}\nReadable.prototype.addListener = Readable.prototype.on\nReadable.prototype.removeListener = function (ev, fn) {\n  const res = Stream.prototype.removeListener.call(this, ev, fn)\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nReadable.prototype.off = Readable.prototype.removeListener\nReadable.prototype.removeAllListeners = function (ev) {\n  const res = Stream.prototype.removeAllListeners.apply(this, arguments)\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this)\n  }\n  return res\n}\nfunction updateReadableListening(self) {\n  const state = self._readableState\n  state.readableListening = self.listenerCount('readable') > 0\n  if (state.resumeScheduled && state[kPaused] === false) {\n    // Flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true\n\n    // Crude way to check if we should resume.\n  } else if (self.listenerCount('data') > 0) {\n    self.resume()\n  } else if (!state.readableListening) {\n    state.flowing = null\n  }\n}\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0')\n  self.read(0)\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  const state = this._readableState\n  if (!state.flowing) {\n    debug('resume')\n    // We flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume().\n    state.flowing = !state.readableListening\n    resume(this, state)\n  }\n  state[kPaused] = false\n  return this\n}\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true\n    process.nextTick(resume_, stream, state)\n  }\n}\nfunction resume_(stream, state) {\n  debug('resume', state.reading)\n  if (!state.reading) {\n    stream.read(0)\n  }\n  state.resumeScheduled = false\n  stream.emit('resume')\n  flow(stream)\n  if (state.flowing && !state.reading) stream.read(0)\n}\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing)\n  if (this._readableState.flowing !== false) {\n    debug('pause')\n    this._readableState.flowing = false\n    this.emit('pause')\n  }\n  this._readableState[kPaused] = true\n  return this\n}\nfunction flow(stream) {\n  const state = stream._readableState\n  debug('flow', state.flowing)\n  while (state.flowing && stream.read() !== null);\n}\n\n// Wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  let paused = false\n\n  // TODO (ronag): Should this.destroy(err) emit\n  // 'error' on the wrapped stream? Would require\n  // a static factory method, e.g. Readable.wrap(stream).\n\n  stream.on('data', (chunk) => {\n    if (!this.push(chunk) && stream.pause) {\n      paused = true\n      stream.pause()\n    }\n  })\n  stream.on('end', () => {\n    this.push(null)\n  })\n  stream.on('error', (err) => {\n    errorOrDestroy(this, err)\n  })\n  stream.on('close', () => {\n    this.destroy()\n  })\n  stream.on('destroy', () => {\n    this.destroy()\n  })\n  this._read = () => {\n    if (paused && stream.resume) {\n      paused = false\n      stream.resume()\n    }\n  }\n\n  // Proxy all the other methods. Important when wrapping filters and duplexes.\n  const streamKeys = ObjectKeys(stream)\n  for (let j = 1; j < streamKeys.length; j++) {\n    const i = streamKeys[j]\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = stream[i].bind(stream)\n    }\n  }\n  return this\n}\nReadable.prototype[SymbolAsyncIterator] = function () {\n  return streamToAsyncIterator(this)\n}\nReadable.prototype.iterator = function (options) {\n  if (options !== undefined) {\n    validateObject(options, 'options')\n  }\n  return streamToAsyncIterator(this, options)\n}\nfunction streamToAsyncIterator(stream, options) {\n  if (typeof stream.read !== 'function') {\n    stream = Readable.wrap(stream, {\n      objectMode: true\n    })\n  }\n  const iter = createAsyncIterator(stream, options)\n  iter.stream = stream\n  return iter\n}\nasync function* createAsyncIterator(stream, options) {\n  let callback = nop\n  function next(resolve) {\n    if (this === stream) {\n      callback()\n      callback = nop\n    } else {\n      callback = resolve\n    }\n  }\n  stream.on('readable', next)\n  let error\n  const cleanup = eos(\n    stream,\n    {\n      writable: false\n    },\n    (err) => {\n      error = err ? aggregateTwoErrors(error, err) : null\n      callback()\n      callback = nop\n    }\n  )\n  try {\n    while (true) {\n      const chunk = stream.destroyed ? null : stream.read()\n      if (chunk !== null) {\n        yield chunk\n      } else if (error) {\n        throw error\n      } else if (error === null) {\n        return\n      } else {\n        await new Promise(next)\n      }\n    }\n  } catch (err) {\n    error = aggregateTwoErrors(error, err)\n    throw error\n  } finally {\n    if (\n      (error || (options === null || options === undefined ? undefined : options.destroyOnReturn) !== false) &&\n      (error === undefined || stream._readableState.autoDestroy)\n    ) {\n      destroyImpl.destroyer(stream, null)\n    } else {\n      stream.off('readable', next)\n      cleanup()\n    }\n  }\n}\n\n// Making it explicit these properties are not enumerable\n// because otherwise some prototype manipulation in\n// userland will fail.\nObjectDefineProperties(Readable.prototype, {\n  readable: {\n    __proto__: null,\n    get() {\n      const r = this._readableState\n      // r.readable === false means that this is part of a Duplex stream\n      // where the readable side was disabled upon construction.\n      // Compat. The user might manually disable readable side through\n      // deprecated setter.\n      return !!r && r.readable !== false && !r.destroyed && !r.errorEmitted && !r.endEmitted\n    },\n    set(val) {\n      // Backwards compat.\n      if (this._readableState) {\n        this._readableState.readable = !!val\n      }\n    }\n  },\n  readableDidRead: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.dataEmitted\n    }\n  },\n  readableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._readableState.readable !== false &&\n        (this._readableState.destroyed || this._readableState.errored) &&\n        !this._readableState.endEmitted\n      )\n    }\n  },\n  readableHighWaterMark: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.highWaterMark\n    }\n  },\n  readableBuffer: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState && this._readableState.buffer\n    }\n  },\n  readableFlowing: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return this._readableState.flowing\n    },\n    set: function (state) {\n      if (this._readableState) {\n        this._readableState.flowing = state\n      }\n    }\n  },\n  readableLength: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState.length\n    }\n  },\n  readableObjectMode: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.objectMode : false\n    }\n  },\n  readableEncoding: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.encoding : null\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.errored : null\n    }\n  },\n  closed: {\n    __proto__: null,\n    get() {\n      return this._readableState ? this._readableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.destroyed : false\n    },\n    set(value) {\n      // We ignore the value if the stream\n      // has not been initialized yet.\n      if (!this._readableState) {\n        return\n      }\n\n      // Backward compatibility, the user is explicitly\n      // managing destroyed.\n      this._readableState.destroyed = value\n    }\n  },\n  readableEnded: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._readableState ? this._readableState.endEmitted : false\n    }\n  }\n})\nObjectDefineProperties(ReadableState.prototype, {\n  // Legacy getter for `pipesCount`.\n  pipesCount: {\n    __proto__: null,\n    get() {\n      return this.pipes.length\n    }\n  },\n  // Legacy property for `paused`.\n  paused: {\n    __proto__: null,\n    get() {\n      return this[kPaused] !== false\n    },\n    set(value) {\n      this[kPaused] = !!value\n    }\n  }\n})\n\n// Exposed for testing purposes only.\nReadable._fromList = fromList\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered.\n  if (state.length === 0) return null\n  let ret\n  if (state.objectMode) ret = state.buffer.shift()\n  else if (!n || n >= state.length) {\n    // Read it all, truncate the list.\n    if (state.decoder) ret = state.buffer.join('')\n    else if (state.buffer.length === 1) ret = state.buffer.first()\n    else ret = state.buffer.concat(state.length)\n    state.buffer.clear()\n  } else {\n    // read part of list.\n    ret = state.buffer.consume(n, state.decoder)\n  }\n  return ret\n}\nfunction endReadable(stream) {\n  const state = stream._readableState\n  debug('endReadable', state.endEmitted)\n  if (!state.endEmitted) {\n    state.ended = true\n    process.nextTick(endReadableNT, state, stream)\n  }\n}\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length)\n\n  // Check that we didn't get one last unshift.\n  if (!state.errored && !state.closeEmitted && !state.endEmitted && state.length === 0) {\n    state.endEmitted = true\n    stream.emit('end')\n    if (stream.writable && stream.allowHalfOpen === false) {\n      process.nextTick(endWritableNT, stream)\n    } else if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well.\n      const wState = stream._writableState\n      const autoDestroy =\n        !wState ||\n        (wState.autoDestroy &&\n          // We don't expect the writable to ever 'finish'\n          // if writable is explicitly set to false.\n          (wState.finished || wState.writable === false))\n      if (autoDestroy) {\n        stream.destroy()\n      }\n    }\n  }\n}\nfunction endWritableNT(stream) {\n  const writable = stream.writable && !stream.writableEnded && !stream.destroyed\n  if (writable) {\n    stream.end()\n  }\n}\nReadable.from = function (iterable, opts) {\n  return from(Readable, iterable, opts)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nReadable.fromWeb = function (readableStream, options) {\n  return lazyWebStreams().newStreamReadableFromReadableStream(readableStream, options)\n}\nReadable.toWeb = function (streamReadable, options) {\n  return lazyWebStreams().newReadableStreamFromStreamReadable(streamReadable, options)\n}\nReadable.wrap = function (src, options) {\n  var _ref, _src$readableObjectMo\n  return new Readable({\n    objectMode:\n      (_ref =\n        (_src$readableObjectMo = src.readableObjectMode) !== null && _src$readableObjectMo !== undefined\n          ? _src$readableObjectMo\n          : src.objectMode) !== null && _ref !== undefined\n        ? _ref\n        : true,\n    ...options,\n    destroy(err, callback) {\n      destroyImpl.destroyer(src, err)\n      callback(err)\n    }\n  }).wrap(src)\n}\n","'use strict'\n\nconst { MathFloor, NumberIsInteger } = require('../../ours/primordials')\nconst { ERR_INVALID_ARG_VALUE } = require('../../ours/errors').codes\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null\n}\nfunction getDefaultHighWaterMark(objectMode) {\n  return objectMode ? 16 : 16 * 1024\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey)\n  if (hwm != null) {\n    if (!NumberIsInteger(hwm) || hwm < 0) {\n      const name = isDuplex ? `options.${duplexKey}` : 'options.highWaterMark'\n      throw new ERR_INVALID_ARG_VALUE(name, hwm)\n    }\n    return MathFloor(hwm)\n  }\n\n  // Default value\n  return getDefaultHighWaterMark(state.objectMode)\n}\nmodule.exports = {\n  getHighWaterMark,\n  getDefaultHighWaterMark\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict'\n\nconst { ObjectSetPrototypeOf, Symbol } = require('../../ours/primordials')\nmodule.exports = Transform\nconst { ERR_METHOD_NOT_IMPLEMENTED } = require('../../ours/errors').codes\nconst Duplex = require('./duplex')\nconst { getHighWaterMark } = require('./state')\nObjectSetPrototypeOf(Transform.prototype, Duplex.prototype)\nObjectSetPrototypeOf(Transform, Duplex)\nconst kCallback = Symbol('kCallback')\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options)\n\n  // TODO (ronag): This should preferably always be\n  // applied but would be semver-major. Or even better;\n  // make Transform a Readable with the Writable interface.\n  const readableHighWaterMark = options ? getHighWaterMark(this, options, 'readableHighWaterMark', true) : null\n  if (readableHighWaterMark === 0) {\n    // A Duplex will buffer both on the writable and readable side while\n    // a Transform just wants to buffer hwm number of elements. To avoid\n    // buffering twice we disable buffering on the writable side.\n    options = {\n      ...options,\n      highWaterMark: null,\n      readableHighWaterMark,\n      // TODO (ronag): 0 is not optimal since we have\n      // a \"bug\" where we check needDrain before calling _write and not after.\n      // Refs: https://github.com/nodejs/node/pull/32887\n      // Refs: https://github.com/nodejs/node/pull/35941\n      writableHighWaterMark: options.writableHighWaterMark || 0\n    }\n  }\n  Duplex.call(this, options)\n\n  // We have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false\n  this[kCallback] = null\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform\n    if (typeof options.flush === 'function') this._flush = options.flush\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  // Backwards compat. Some Transform streams incorrectly implement _final\n  // instead of or in addition to _flush. By using 'prefinish' instead of\n  // implementing _final we continue supporting this unfortunate use case.\n  this.on('prefinish', prefinish)\n}\nfunction final(cb) {\n  if (typeof this._flush === 'function' && !this.destroyed) {\n    this._flush((er, data) => {\n      if (er) {\n        if (cb) {\n          cb(er)\n        } else {\n          this.destroy(er)\n        }\n        return\n      }\n      if (data != null) {\n        this.push(data)\n      }\n      this.push(null)\n      if (cb) {\n        cb()\n      }\n    })\n  } else {\n    this.push(null)\n    if (cb) {\n      cb()\n    }\n  }\n}\nfunction prefinish() {\n  if (this._final !== final) {\n    final.call(this)\n  }\n}\nTransform.prototype._final = final\nTransform.prototype._transform = function (chunk, encoding, callback) {\n  throw new ERR_METHOD_NOT_IMPLEMENTED('_transform()')\n}\nTransform.prototype._write = function (chunk, encoding, callback) {\n  const rState = this._readableState\n  const wState = this._writableState\n  const length = rState.length\n  this._transform(chunk, encoding, (err, val) => {\n    if (err) {\n      callback(err)\n      return\n    }\n    if (val != null) {\n      this.push(val)\n    }\n    if (\n      wState.ended ||\n      // Backwards compat.\n      length === rState.length ||\n      // Backwards compat.\n      rState.length < rState.highWaterMark\n    ) {\n      callback()\n    } else {\n      this[kCallback] = callback\n    }\n  })\n}\nTransform.prototype._read = function () {\n  if (this[kCallback]) {\n    const callback = this[kCallback]\n    this[kCallback] = null\n    callback()\n  }\n}\n","'use strict'\n\nconst { Symbol, SymbolAsyncIterator, SymbolIterator, SymbolFor } = require('../../ours/primordials')\nconst kDestroyed = Symbol('kDestroyed')\nconst kIsErrored = Symbol('kIsErrored')\nconst kIsReadable = Symbol('kIsReadable')\nconst kIsDisturbed = Symbol('kIsDisturbed')\nconst kIsClosedPromise = SymbolFor('nodejs.webstream.isClosedPromise')\nconst kControllerErrorFunction = SymbolFor('nodejs.webstream.controllerErrorFunction')\nfunction isReadableNodeStream(obj, strict = false) {\n  var _obj$_readableState\n  return !!(\n    (\n      obj &&\n      typeof obj.pipe === 'function' &&\n      typeof obj.on === 'function' &&\n      (!strict || (typeof obj.pause === 'function' && typeof obj.resume === 'function')) &&\n      (!obj._writableState ||\n        ((_obj$_readableState = obj._readableState) === null || _obj$_readableState === undefined\n          ? undefined\n          : _obj$_readableState.readable) !== false) &&\n      // Duplex\n      (!obj._writableState || obj._readableState)\n    ) // Writable has .pipe.\n  )\n}\n\nfunction isWritableNodeStream(obj) {\n  var _obj$_writableState\n  return !!(\n    (\n      obj &&\n      typeof obj.write === 'function' &&\n      typeof obj.on === 'function' &&\n      (!obj._readableState ||\n        ((_obj$_writableState = obj._writableState) === null || _obj$_writableState === undefined\n          ? undefined\n          : _obj$_writableState.writable) !== false)\n    ) // Duplex\n  )\n}\n\nfunction isDuplexNodeStream(obj) {\n  return !!(\n    obj &&\n    typeof obj.pipe === 'function' &&\n    obj._readableState &&\n    typeof obj.on === 'function' &&\n    typeof obj.write === 'function'\n  )\n}\nfunction isNodeStream(obj) {\n  return (\n    obj &&\n    (obj._readableState ||\n      obj._writableState ||\n      (typeof obj.write === 'function' && typeof obj.on === 'function') ||\n      (typeof obj.pipe === 'function' && typeof obj.on === 'function'))\n  )\n}\nfunction isReadableStream(obj) {\n  return !!(\n    obj &&\n    !isNodeStream(obj) &&\n    typeof obj.pipeThrough === 'function' &&\n    typeof obj.getReader === 'function' &&\n    typeof obj.cancel === 'function'\n  )\n}\nfunction isWritableStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.getWriter === 'function' && typeof obj.abort === 'function')\n}\nfunction isTransformStream(obj) {\n  return !!(obj && !isNodeStream(obj) && typeof obj.readable === 'object' && typeof obj.writable === 'object')\n}\nfunction isWebStream(obj) {\n  return isReadableStream(obj) || isWritableStream(obj) || isTransformStream(obj)\n}\nfunction isIterable(obj, isAsync) {\n  if (obj == null) return false\n  if (isAsync === true) return typeof obj[SymbolAsyncIterator] === 'function'\n  if (isAsync === false) return typeof obj[SymbolIterator] === 'function'\n  return typeof obj[SymbolAsyncIterator] === 'function' || typeof obj[SymbolIterator] === 'function'\n}\nfunction isDestroyed(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return !!(stream.destroyed || stream[kDestroyed] || (state !== null && state !== undefined && state.destroyed))\n}\n\n// Have been end():d.\nfunction isWritableEnded(stream) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableEnded === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.ended) !== 'boolean') return null\n  return wState.ended\n}\n\n// Have emitted 'finish'.\nfunction isWritableFinished(stream, strict) {\n  if (!isWritableNodeStream(stream)) return null\n  if (stream.writableFinished === true) return true\n  const wState = stream._writableState\n  if (wState !== null && wState !== undefined && wState.errored) return false\n  if (typeof (wState === null || wState === undefined ? undefined : wState.finished) !== 'boolean') return null\n  return !!(wState.finished || (strict === false && wState.ended === true && wState.length === 0))\n}\n\n// Have been push(null):d.\nfunction isReadableEnded(stream) {\n  if (!isReadableNodeStream(stream)) return null\n  if (stream.readableEnded === true) return true\n  const rState = stream._readableState\n  if (!rState || rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.ended) !== 'boolean') return null\n  return rState.ended\n}\n\n// Have emitted 'end'.\nfunction isReadableFinished(stream, strict) {\n  if (!isReadableNodeStream(stream)) return null\n  const rState = stream._readableState\n  if (rState !== null && rState !== undefined && rState.errored) return false\n  if (typeof (rState === null || rState === undefined ? undefined : rState.endEmitted) !== 'boolean') return null\n  return !!(rState.endEmitted || (strict === false && rState.ended === true && rState.length === 0))\n}\nfunction isReadable(stream) {\n  if (stream && stream[kIsReadable] != null) return stream[kIsReadable]\n  if (typeof (stream === null || stream === undefined ? undefined : stream.readable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isReadableNodeStream(stream) && stream.readable && !isReadableFinished(stream)\n}\nfunction isWritable(stream) {\n  if (typeof (stream === null || stream === undefined ? undefined : stream.writable) !== 'boolean') return null\n  if (isDestroyed(stream)) return false\n  return isWritableNodeStream(stream) && stream.writable && !isWritableEnded(stream)\n}\nfunction isFinished(stream, opts) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (isDestroyed(stream)) {\n    return true\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.readable) !== false && isReadable(stream)) {\n    return false\n  }\n  if ((opts === null || opts === undefined ? undefined : opts.writable) !== false && isWritable(stream)) {\n    return false\n  }\n  return true\n}\nfunction isWritableErrored(stream) {\n  var _stream$_writableStat, _stream$_writableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.writableErrored) {\n    return stream.writableErrored\n  }\n  return (_stream$_writableStat =\n    (_stream$_writableStat2 = stream._writableState) === null || _stream$_writableStat2 === undefined\n      ? undefined\n      : _stream$_writableStat2.errored) !== null && _stream$_writableStat !== undefined\n    ? _stream$_writableStat\n    : null\n}\nfunction isReadableErrored(stream) {\n  var _stream$_readableStat, _stream$_readableStat2\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (stream.readableErrored) {\n    return stream.readableErrored\n  }\n  return (_stream$_readableStat =\n    (_stream$_readableStat2 = stream._readableState) === null || _stream$_readableStat2 === undefined\n      ? undefined\n      : _stream$_readableStat2.errored) !== null && _stream$_readableStat !== undefined\n    ? _stream$_readableStat\n    : null\n}\nfunction isClosed(stream) {\n  if (!isNodeStream(stream)) {\n    return null\n  }\n  if (typeof stream.closed === 'boolean') {\n    return stream.closed\n  }\n  const wState = stream._writableState\n  const rState = stream._readableState\n  if (\n    typeof (wState === null || wState === undefined ? undefined : wState.closed) === 'boolean' ||\n    typeof (rState === null || rState === undefined ? undefined : rState.closed) === 'boolean'\n  ) {\n    return (\n      (wState === null || wState === undefined ? undefined : wState.closed) ||\n      (rState === null || rState === undefined ? undefined : rState.closed)\n    )\n  }\n  if (typeof stream._closed === 'boolean' && isOutgoingMessage(stream)) {\n    return stream._closed\n  }\n  return null\n}\nfunction isOutgoingMessage(stream) {\n  return (\n    typeof stream._closed === 'boolean' &&\n    typeof stream._defaultKeepAlive === 'boolean' &&\n    typeof stream._removedConnection === 'boolean' &&\n    typeof stream._removedContLen === 'boolean'\n  )\n}\nfunction isServerResponse(stream) {\n  return typeof stream._sent100 === 'boolean' && isOutgoingMessage(stream)\n}\nfunction isServerRequest(stream) {\n  var _stream$req\n  return (\n    typeof stream._consuming === 'boolean' &&\n    typeof stream._dumped === 'boolean' &&\n    ((_stream$req = stream.req) === null || _stream$req === undefined ? undefined : _stream$req.upgradeOrConnect) ===\n      undefined\n  )\n}\nfunction willEmitClose(stream) {\n  if (!isNodeStream(stream)) return null\n  const wState = stream._writableState\n  const rState = stream._readableState\n  const state = wState || rState\n  return (\n    (!state && isServerResponse(stream)) || !!(state && state.autoDestroy && state.emitClose && state.closed === false)\n  )\n}\nfunction isDisturbed(stream) {\n  var _stream$kIsDisturbed\n  return !!(\n    stream &&\n    ((_stream$kIsDisturbed = stream[kIsDisturbed]) !== null && _stream$kIsDisturbed !== undefined\n      ? _stream$kIsDisturbed\n      : stream.readableDidRead || stream.readableAborted)\n  )\n}\nfunction isErrored(stream) {\n  var _ref,\n    _ref2,\n    _ref3,\n    _ref4,\n    _ref5,\n    _stream$kIsErrored,\n    _stream$_readableStat3,\n    _stream$_writableStat3,\n    _stream$_readableStat4,\n    _stream$_writableStat4\n  return !!(\n    stream &&\n    ((_ref =\n      (_ref2 =\n        (_ref3 =\n          (_ref4 =\n            (_ref5 =\n              (_stream$kIsErrored = stream[kIsErrored]) !== null && _stream$kIsErrored !== undefined\n                ? _stream$kIsErrored\n                : stream.readableErrored) !== null && _ref5 !== undefined\n              ? _ref5\n              : stream.writableErrored) !== null && _ref4 !== undefined\n            ? _ref4\n            : (_stream$_readableStat3 = stream._readableState) === null || _stream$_readableStat3 === undefined\n            ? undefined\n            : _stream$_readableStat3.errorEmitted) !== null && _ref3 !== undefined\n          ? _ref3\n          : (_stream$_writableStat3 = stream._writableState) === null || _stream$_writableStat3 === undefined\n          ? undefined\n          : _stream$_writableStat3.errorEmitted) !== null && _ref2 !== undefined\n        ? _ref2\n        : (_stream$_readableStat4 = stream._readableState) === null || _stream$_readableStat4 === undefined\n        ? undefined\n        : _stream$_readableStat4.errored) !== null && _ref !== undefined\n      ? _ref\n      : (_stream$_writableStat4 = stream._writableState) === null || _stream$_writableStat4 === undefined\n      ? undefined\n      : _stream$_writableStat4.errored)\n  )\n}\nmodule.exports = {\n  kDestroyed,\n  isDisturbed,\n  kIsDisturbed,\n  isErrored,\n  kIsErrored,\n  isReadable,\n  kIsReadable,\n  kIsClosedPromise,\n  kControllerErrorFunction,\n  isClosed,\n  isDestroyed,\n  isDuplexNodeStream,\n  isFinished,\n  isIterable,\n  isReadableNodeStream,\n  isReadableStream,\n  isReadableEnded,\n  isReadableFinished,\n  isReadableErrored,\n  isNodeStream,\n  isWebStream,\n  isWritable,\n  isWritableNodeStream,\n  isWritableStream,\n  isWritableEnded,\n  isWritableFinished,\n  isWritableErrored,\n  isServerRequest,\n  isServerResponse,\n  willEmitClose,\n  isTransformStream\n}\n","/* replacement start */\n\nconst process = require('process/')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n;('use strict')\nconst {\n  ArrayPrototypeSlice,\n  Error,\n  FunctionPrototypeSymbolHasInstance,\n  ObjectDefineProperty,\n  ObjectDefineProperties,\n  ObjectSetPrototypeOf,\n  StringPrototypeToLowerCase,\n  Symbol,\n  SymbolHasInstance\n} = require('../../ours/primordials')\nmodule.exports = Writable\nWritable.WritableState = WritableState\nconst { EventEmitter: EE } = require('events')\nconst Stream = require('./legacy').Stream\nconst { Buffer } = require('buffer')\nconst destroyImpl = require('./destroy')\nconst { addAbortSignal } = require('./add-abort-signal')\nconst { getHighWaterMark, getDefaultHighWaterMark } = require('./state')\nconst {\n  ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED,\n  ERR_STREAM_ALREADY_FINISHED,\n  ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING\n} = require('../../ours/errors').codes\nconst { errorOrDestroy } = destroyImpl\nObjectSetPrototypeOf(Writable.prototype, Stream.prototype)\nObjectSetPrototypeOf(Writable, Stream)\nfunction nop() {}\nconst kOnFinished = Symbol('kOnFinished')\nfunction WritableState(options, stream, isDuplex) {\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof require('./duplex')\n\n  // Object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!(options && options.objectMode)\n  if (isDuplex) this.objectMode = this.objectMode || !!(options && options.writableObjectMode)\n\n  // The point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write().\n  this.highWaterMark = options\n    ? getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex)\n    : getDefaultHighWaterMark(false)\n\n  // if _final has been called.\n  this.finalCalled = false\n\n  // drain event flag.\n  this.needDrain = false\n  // At the start of calling end()\n  this.ending = false\n  // When end() has been called, and returned.\n  this.ended = false\n  // When 'finish' is emitted.\n  this.finished = false\n\n  // Has it been destroyed\n  this.destroyed = false\n\n  // Should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  const noDecode = !!(options && options.decodeStrings === false)\n  this.decodeStrings = !noDecode\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = (options && options.defaultEncoding) || 'utf8'\n\n  // Not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0\n\n  // A flag to see when we're in the middle of a write.\n  this.writing = false\n\n  // When true all writes will be buffered until .uncork() call.\n  this.corked = 0\n\n  // A flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true\n\n  // A flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false\n\n  // The callback that's passed to _write(chunk, cb).\n  this.onwrite = onwrite.bind(undefined, stream)\n\n  // The callback that the user supplies to write(chunk, encoding, cb).\n  this.writecb = null\n\n  // The amount that is being written when _write is called.\n  this.writelen = 0\n\n  // Storage for data passed to the afterWrite() callback in case of\n  // synchronous _write() completion.\n  this.afterWriteTickInfo = null\n  resetBuffer(this)\n\n  // Number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted.\n  this.pendingcb = 0\n\n  // Stream is still being constructed and cannot be\n  // destroyed until construction finished or failed.\n  // Async construction is opt in, therefore we start as\n  // constructed.\n  this.constructed = true\n\n  // Emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams.\n  this.prefinished = false\n\n  // True if the error was already emitted and should not be thrown again.\n  this.errorEmitted = false\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = !options || options.emitClose !== false\n\n  // Should .destroy() be called after 'finish' (and potentially 'end').\n  this.autoDestroy = !options || options.autoDestroy !== false\n\n  // Indicates whether the stream has errored. When true all write() calls\n  // should return false. This is needed since when autoDestroy\n  // is disabled we need a way to tell whether the stream has failed.\n  this.errored = null\n\n  // Indicates whether the stream has finished destroying.\n  this.closed = false\n\n  // True if close has been emitted or would have been emitted\n  // depending on emitClose.\n  this.closeEmitted = false\n  this[kOnFinished] = []\n}\nfunction resetBuffer(state) {\n  state.buffered = []\n  state.bufferedIndex = 0\n  state.allBuffers = true\n  state.allNoop = true\n}\nWritableState.prototype.getBuffer = function getBuffer() {\n  return ArrayPrototypeSlice(this.buffered, this.bufferedIndex)\n}\nObjectDefineProperty(WritableState.prototype, 'bufferedRequestCount', {\n  __proto__: null,\n  get() {\n    return this.buffered.length - this.bufferedIndex\n  }\n})\nfunction Writable(options) {\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5.\n  const isDuplex = this instanceof require('./duplex')\n  if (!isDuplex && !FunctionPrototypeSymbolHasInstance(Writable, this)) return new Writable(options)\n  this._writableState = new WritableState(options, this, isDuplex)\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write\n    if (typeof options.writev === 'function') this._writev = options.writev\n    if (typeof options.destroy === 'function') this._destroy = options.destroy\n    if (typeof options.final === 'function') this._final = options.final\n    if (typeof options.construct === 'function') this._construct = options.construct\n    if (options.signal) addAbortSignal(options.signal, this)\n  }\n  Stream.call(this, options)\n  destroyImpl.construct(this, () => {\n    const state = this._writableState\n    if (!state.writing) {\n      clearBuffer(this, state)\n    }\n    finishMaybe(this, state)\n  })\n}\nObjectDefineProperty(Writable, SymbolHasInstance, {\n  __proto__: null,\n  value: function (object) {\n    if (FunctionPrototypeSymbolHasInstance(this, object)) return true\n    if (this !== Writable) return false\n    return object && object._writableState instanceof WritableState\n  }\n})\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE())\n}\nfunction _write(stream, chunk, encoding, cb) {\n  const state = stream._writableState\n  if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = state.defaultEncoding\n  } else {\n    if (!encoding) encoding = state.defaultEncoding\n    else if (encoding !== 'buffer' && !Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n    if (typeof cb !== 'function') cb = nop\n  }\n  if (chunk === null) {\n    throw new ERR_STREAM_NULL_VALUES()\n  } else if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      if (state.decodeStrings !== false) {\n        chunk = Buffer.from(chunk, encoding)\n        encoding = 'buffer'\n      }\n    } else if (chunk instanceof Buffer) {\n      encoding = 'buffer'\n    } else if (Stream._isUint8Array(chunk)) {\n      chunk = Stream._uint8ArrayToBuffer(chunk)\n      encoding = 'buffer'\n    } else {\n      throw new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk)\n    }\n  }\n  let err\n  if (state.ending) {\n    err = new ERR_STREAM_WRITE_AFTER_END()\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('write')\n  }\n  if (err) {\n    process.nextTick(cb, err)\n    errorOrDestroy(stream, err, true)\n    return err\n  }\n  state.pendingcb++\n  return writeOrBuffer(stream, state, chunk, encoding, cb)\n}\nWritable.prototype.write = function (chunk, encoding, cb) {\n  return _write(this, chunk, encoding, cb) === true\n}\nWritable.prototype.cork = function () {\n  this._writableState.corked++\n}\nWritable.prototype.uncork = function () {\n  const state = this._writableState\n  if (state.corked) {\n    state.corked--\n    if (!state.writing) clearBuffer(this, state)\n  }\n}\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = StringPrototypeToLowerCase(encoding)\n  if (!Buffer.isEncoding(encoding)) throw new ERR_UNKNOWN_ENCODING(encoding)\n  this._writableState.defaultEncoding = encoding\n  return this\n}\n\n// If we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, callback) {\n  const len = state.objectMode ? 1 : chunk.length\n  state.length += len\n\n  // stream._write resets state.length\n  const ret = state.length < state.highWaterMark\n  // We must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true\n  if (state.writing || state.corked || state.errored || !state.constructed) {\n    state.buffered.push({\n      chunk,\n      encoding,\n      callback\n    })\n    if (state.allBuffers && encoding !== 'buffer') {\n      state.allBuffers = false\n    }\n    if (state.allNoop && callback !== nop) {\n      state.allNoop = false\n    }\n  } else {\n    state.writelen = len\n    state.writecb = callback\n    state.writing = true\n    state.sync = true\n    stream._write(chunk, encoding, state.onwrite)\n    state.sync = false\n  }\n\n  // Return false if errored or destroyed in order to break\n  // any synchronous while(stream.write(data)) loops.\n  return ret && !state.errored && !state.destroyed\n}\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len\n  state.writecb = cb\n  state.writing = true\n  state.sync = true\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'))\n  else if (writev) stream._writev(chunk, state.onwrite)\n  else stream._write(chunk, encoding, state.onwrite)\n  state.sync = false\n}\nfunction onwriteError(stream, state, er, cb) {\n  --state.pendingcb\n  cb(er)\n  // Ensure callbacks are invoked even when autoDestroy is\n  // not enabled. Passing `er` here doesn't make sense since\n  // it's related to one specific write, not to the buffered\n  // writes.\n  errorBuffer(state)\n  // This can emit error, but error must always follow cb.\n  errorOrDestroy(stream, er)\n}\nfunction onwrite(stream, er) {\n  const state = stream._writableState\n  const sync = state.sync\n  const cb = state.writecb\n  if (typeof cb !== 'function') {\n    errorOrDestroy(stream, new ERR_MULTIPLE_CALLBACK())\n    return\n  }\n  state.writing = false\n  state.writecb = null\n  state.length -= state.writelen\n  state.writelen = 0\n  if (er) {\n    // Avoid V8 leak, https://github.com/nodejs/node/pull/34103#issuecomment-652002364\n    er.stack // eslint-disable-line no-unused-expressions\n\n    if (!state.errored) {\n      state.errored = er\n    }\n\n    // In case of duplex streams we need to notify the readable side of the\n    // error.\n    if (stream._readableState && !stream._readableState.errored) {\n      stream._readableState.errored = er\n    }\n    if (sync) {\n      process.nextTick(onwriteError, stream, state, er, cb)\n    } else {\n      onwriteError(stream, state, er, cb)\n    }\n  } else {\n    if (state.buffered.length > state.bufferedIndex) {\n      clearBuffer(stream, state)\n    }\n    if (sync) {\n      // It is a common case that the callback passed to .write() is always\n      // the same. In that case, we do not schedule a new nextTick(), but\n      // rather just increase a counter, to improve performance and avoid\n      // memory allocations.\n      if (state.afterWriteTickInfo !== null && state.afterWriteTickInfo.cb === cb) {\n        state.afterWriteTickInfo.count++\n      } else {\n        state.afterWriteTickInfo = {\n          count: 1,\n          cb,\n          stream,\n          state\n        }\n        process.nextTick(afterWriteTick, state.afterWriteTickInfo)\n      }\n    } else {\n      afterWrite(stream, state, 1, cb)\n    }\n  }\n}\nfunction afterWriteTick({ stream, state, count, cb }) {\n  state.afterWriteTickInfo = null\n  return afterWrite(stream, state, count, cb)\n}\nfunction afterWrite(stream, state, count, cb) {\n  const needDrain = !state.ending && !stream.destroyed && state.length === 0 && state.needDrain\n  if (needDrain) {\n    state.needDrain = false\n    stream.emit('drain')\n  }\n  while (count-- > 0) {\n    state.pendingcb--\n    cb()\n  }\n  if (state.destroyed) {\n    errorBuffer(state)\n  }\n  finishMaybe(stream, state)\n}\n\n// If there's something in the buffer waiting, then invoke callbacks.\nfunction errorBuffer(state) {\n  if (state.writing) {\n    return\n  }\n  for (let n = state.bufferedIndex; n < state.buffered.length; ++n) {\n    var _state$errored\n    const { chunk, callback } = state.buffered[n]\n    const len = state.objectMode ? 1 : chunk.length\n    state.length -= len\n    callback(\n      (_state$errored = state.errored) !== null && _state$errored !== undefined\n        ? _state$errored\n        : new ERR_STREAM_DESTROYED('write')\n    )\n  }\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    var _state$errored2\n    onfinishCallbacks[i](\n      (_state$errored2 = state.errored) !== null && _state$errored2 !== undefined\n        ? _state$errored2\n        : new ERR_STREAM_DESTROYED('end')\n    )\n  }\n  resetBuffer(state)\n}\n\n// If there's something in the buffer waiting, then process it.\nfunction clearBuffer(stream, state) {\n  if (state.corked || state.bufferProcessing || state.destroyed || !state.constructed) {\n    return\n  }\n  const { buffered, bufferedIndex, objectMode } = state\n  const bufferedLength = buffered.length - bufferedIndex\n  if (!bufferedLength) {\n    return\n  }\n  let i = bufferedIndex\n  state.bufferProcessing = true\n  if (bufferedLength > 1 && stream._writev) {\n    state.pendingcb -= bufferedLength - 1\n    const callback = state.allNoop\n      ? nop\n      : (err) => {\n          for (let n = i; n < buffered.length; ++n) {\n            buffered[n].callback(err)\n          }\n        }\n    // Make a copy of `buffered` if it's going to be used by `callback` above,\n    // since `doWrite` will mutate the array.\n    const chunks = state.allNoop && i === 0 ? buffered : ArrayPrototypeSlice(buffered, i)\n    chunks.allBuffers = state.allBuffers\n    doWrite(stream, state, true, state.length, chunks, '', callback)\n    resetBuffer(state)\n  } else {\n    do {\n      const { chunk, encoding, callback } = buffered[i]\n      buffered[i++] = null\n      const len = objectMode ? 1 : chunk.length\n      doWrite(stream, state, false, len, chunk, encoding, callback)\n    } while (i < buffered.length && !state.writing)\n    if (i === buffered.length) {\n      resetBuffer(state)\n    } else if (i > 256) {\n      buffered.splice(0, i)\n      state.bufferedIndex = 0\n    } else {\n      state.bufferedIndex = i\n    }\n  }\n  state.bufferProcessing = false\n}\nWritable.prototype._write = function (chunk, encoding, cb) {\n  if (this._writev) {\n    this._writev(\n      [\n        {\n          chunk,\n          encoding\n        }\n      ],\n      cb\n    )\n  } else {\n    throw new ERR_METHOD_NOT_IMPLEMENTED('_write()')\n  }\n}\nWritable.prototype._writev = null\nWritable.prototype.end = function (chunk, encoding, cb) {\n  const state = this._writableState\n  if (typeof chunk === 'function') {\n    cb = chunk\n    chunk = null\n    encoding = null\n  } else if (typeof encoding === 'function') {\n    cb = encoding\n    encoding = null\n  }\n  let err\n  if (chunk !== null && chunk !== undefined) {\n    const ret = _write(this, chunk, encoding)\n    if (ret instanceof Error) {\n      err = ret\n    }\n  }\n\n  // .end() fully uncorks.\n  if (state.corked) {\n    state.corked = 1\n    this.uncork()\n  }\n  if (err) {\n    // Do nothing...\n  } else if (!state.errored && !state.ending) {\n    // This is forgiving in terms of unnecessary calls to end() and can hide\n    // logic errors. However, usually such errors are harmless and causing a\n    // hard error can be disproportionately destructive. It is not always\n    // trivial for the user to determine whether end() needs to be called\n    // or not.\n\n    state.ending = true\n    finishMaybe(this, state, true)\n    state.ended = true\n  } else if (state.finished) {\n    err = new ERR_STREAM_ALREADY_FINISHED('end')\n  } else if (state.destroyed) {\n    err = new ERR_STREAM_DESTROYED('end')\n  }\n  if (typeof cb === 'function') {\n    if (err || state.finished) {\n      process.nextTick(cb, err)\n    } else {\n      state[kOnFinished].push(cb)\n    }\n  }\n  return this\n}\nfunction needFinish(state) {\n  return (\n    state.ending &&\n    !state.destroyed &&\n    state.constructed &&\n    state.length === 0 &&\n    !state.errored &&\n    state.buffered.length === 0 &&\n    !state.finished &&\n    !state.writing &&\n    !state.errorEmitted &&\n    !state.closeEmitted\n  )\n}\nfunction callFinal(stream, state) {\n  let called = false\n  function onFinish(err) {\n    if (called) {\n      errorOrDestroy(stream, err !== null && err !== undefined ? err : ERR_MULTIPLE_CALLBACK())\n      return\n    }\n    called = true\n    state.pendingcb--\n    if (err) {\n      const onfinishCallbacks = state[kOnFinished].splice(0)\n      for (let i = 0; i < onfinishCallbacks.length; i++) {\n        onfinishCallbacks[i](err)\n      }\n      errorOrDestroy(stream, err, state.sync)\n    } else if (needFinish(state)) {\n      state.prefinished = true\n      stream.emit('prefinish')\n      // Backwards compat. Don't check state.sync here.\n      // Some streams assume 'finish' will be emitted\n      // asynchronously relative to _final callback.\n      state.pendingcb++\n      process.nextTick(finish, stream, state)\n    }\n  }\n  state.sync = true\n  state.pendingcb++\n  try {\n    stream._final(onFinish)\n  } catch (err) {\n    onFinish(err)\n  }\n  state.sync = false\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.finalCalled = true\n      callFinal(stream, state)\n    } else {\n      state.prefinished = true\n      stream.emit('prefinish')\n    }\n  }\n}\nfunction finishMaybe(stream, state, sync) {\n  if (needFinish(state)) {\n    prefinish(stream, state)\n    if (state.pendingcb === 0) {\n      if (sync) {\n        state.pendingcb++\n        process.nextTick(\n          (stream, state) => {\n            if (needFinish(state)) {\n              finish(stream, state)\n            } else {\n              state.pendingcb--\n            }\n          },\n          stream,\n          state\n        )\n      } else if (needFinish(state)) {\n        state.pendingcb++\n        finish(stream, state)\n      }\n    }\n  }\n}\nfunction finish(stream, state) {\n  state.pendingcb--\n  state.finished = true\n  const onfinishCallbacks = state[kOnFinished].splice(0)\n  for (let i = 0; i < onfinishCallbacks.length; i++) {\n    onfinishCallbacks[i]()\n  }\n  stream.emit('finish')\n  if (state.autoDestroy) {\n    // In case of duplex streams we need a way to detect\n    // if the readable side is ready for autoDestroy as well.\n    const rState = stream._readableState\n    const autoDestroy =\n      !rState ||\n      (rState.autoDestroy &&\n        // We don't expect the readable to ever 'end'\n        // if readable is explicitly set to false.\n        (rState.endEmitted || rState.readable === false))\n    if (autoDestroy) {\n      stream.destroy()\n    }\n  }\n}\nObjectDefineProperties(Writable.prototype, {\n  closed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.closed : false\n    }\n  },\n  destroyed: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.destroyed : false\n    },\n    set(value) {\n      // Backward compatibility, the user is explicitly managing destroyed.\n      if (this._writableState) {\n        this._writableState.destroyed = value\n      }\n    }\n  },\n  writable: {\n    __proto__: null,\n    get() {\n      const w = this._writableState\n      // w.writable === false means that this is part of a Duplex stream\n      // where the writable side was disabled upon construction.\n      // Compat. The user might manually disable writable side through\n      // deprecated setter.\n      return !!w && w.writable !== false && !w.destroyed && !w.errored && !w.ending && !w.ended\n    },\n    set(val) {\n      // Backwards compatible.\n      if (this._writableState) {\n        this._writableState.writable = !!val\n      }\n    }\n  },\n  writableFinished: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.finished : false\n    }\n  },\n  writableObjectMode: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.objectMode : false\n    }\n  },\n  writableBuffer: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.getBuffer()\n    }\n  },\n  writableEnded: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.ending : false\n    }\n  },\n  writableNeedDrain: {\n    __proto__: null,\n    get() {\n      const wState = this._writableState\n      if (!wState) return false\n      return !wState.destroyed && !wState.ending && wState.needDrain\n    }\n  },\n  writableHighWaterMark: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.highWaterMark\n    }\n  },\n  writableCorked: {\n    __proto__: null,\n    get() {\n      return this._writableState ? this._writableState.corked : 0\n    }\n  },\n  writableLength: {\n    __proto__: null,\n    get() {\n      return this._writableState && this._writableState.length\n    }\n  },\n  errored: {\n    __proto__: null,\n    enumerable: false,\n    get() {\n      return this._writableState ? this._writableState.errored : null\n    }\n  },\n  writableAborted: {\n    __proto__: null,\n    enumerable: false,\n    get: function () {\n      return !!(\n        this._writableState.writable !== false &&\n        (this._writableState.destroyed || this._writableState.errored) &&\n        !this._writableState.finished\n      )\n    }\n  }\n})\nconst destroy = destroyImpl.destroy\nWritable.prototype.destroy = function (err, cb) {\n  const state = this._writableState\n\n  // Invoke pending callbacks.\n  if (!state.destroyed && (state.bufferedIndex < state.buffered.length || state[kOnFinished].length)) {\n    process.nextTick(errorBuffer, state)\n  }\n  destroy.call(this, err, cb)\n  return this\n}\nWritable.prototype._undestroy = destroyImpl.undestroy\nWritable.prototype._destroy = function (err, cb) {\n  cb(err)\n}\nWritable.prototype[EE.captureRejectionSymbol] = function (err) {\n  this.destroy(err)\n}\nlet webStreamsAdapters\n\n// Lazy to avoid circular references\nfunction lazyWebStreams() {\n  if (webStreamsAdapters === undefined) webStreamsAdapters = {}\n  return webStreamsAdapters\n}\nWritable.fromWeb = function (writableStream, options) {\n  return lazyWebStreams().newStreamWritableFromWritableStream(writableStream, options)\n}\nWritable.toWeb = function (streamWritable) {\n  return lazyWebStreams().newWritableStreamFromStreamWritable(streamWritable)\n}\n","/* eslint jsdoc/require-jsdoc: \"error\" */\n\n'use strict'\n\nconst {\n  ArrayIsArray,\n  ArrayPrototypeIncludes,\n  ArrayPrototypeJoin,\n  ArrayPrototypeMap,\n  NumberIsInteger,\n  NumberIsNaN,\n  NumberMAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER,\n  NumberParseInt,\n  ObjectPrototypeHasOwnProperty,\n  RegExpPrototypeExec,\n  String,\n  StringPrototypeToUpperCase,\n  StringPrototypeTrim\n} = require('../ours/primordials')\nconst {\n  hideStackFrames,\n  codes: { ERR_SOCKET_BAD_PORT, ERR_INVALID_ARG_TYPE, ERR_INVALID_ARG_VALUE, ERR_OUT_OF_RANGE, ERR_UNKNOWN_SIGNAL }\n} = require('../ours/errors')\nconst { normalizeEncoding } = require('../ours/util')\nconst { isAsyncFunction, isArrayBufferView } = require('../ours/util').types\nconst signals = {}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isInt32(value) {\n  return value === (value | 0)\n}\n\n/**\n * @param {*} value\n * @returns {boolean}\n */\nfunction isUint32(value) {\n  return value === value >>> 0\n}\nconst octalReg = /^[0-7]+$/\nconst modeDesc = 'must be a 32-bit unsigned integer or an octal string'\n\n/**\n * Parse and validate values that will be converted into mode_t (the S_*\n * constants). Only valid numbers and octal strings are allowed. They could be\n * converted to 32-bit unsigned integers or non-negative signed integers in the\n * C++ land, but any value higher than 0o777 will result in platform-specific\n * behaviors.\n *\n * @param {*} value Values to be validated\n * @param {string} name Name of the argument\n * @param {number} [def] If specified, will be returned for invalid values\n * @returns {number}\n */\nfunction parseFileMode(value, name, def) {\n  if (typeof value === 'undefined') {\n    value = def\n  }\n  if (typeof value === 'string') {\n    if (RegExpPrototypeExec(octalReg, value) === null) {\n      throw new ERR_INVALID_ARG_VALUE(name, value, modeDesc)\n    }\n    value = NumberParseInt(value, 8)\n  }\n  validateUint32(value, name)\n  return value\n}\n\n/**\n * @callback validateInteger\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInteger} */\nconst validateInteger = hideStackFrames((value, name, min = NumberMIN_SAFE_INTEGER, max = NumberMAX_SAFE_INTEGER) => {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (!NumberIsInteger(value)) throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  if (value < min || value > max) throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n})\n\n/**\n * @callback validateInt32\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateInt32} */\nconst validateInt32 = hideStackFrames((value, name, min = -2147483648, max = 2147483647) => {\n  // The defaults for min and max correspond to the limits of 32-bit integers.\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateUint32\n * @param {*} value\n * @param {string} name\n * @param {number|boolean} [positive=false]\n * @returns {asserts value is number}\n */\n\n/** @type {validateUint32} */\nconst validateUint32 = hideStackFrames((value, name, positive = false) => {\n  if (typeof value !== 'number') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n  if (!NumberIsInteger(value)) {\n    throw new ERR_OUT_OF_RANGE(name, 'an integer', value)\n  }\n  const min = positive ? 1 : 0\n  // 2 ** 32 === 4294967296\n  const max = 4294967295\n  if (value < min || value > max) {\n    throw new ERR_OUT_OF_RANGE(name, `>= ${min} && <= ${max}`, value)\n  }\n})\n\n/**\n * @callback validateString\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string}\n */\n\n/** @type {validateString} */\nfunction validateString(value, name) {\n  if (typeof value !== 'string') throw new ERR_INVALID_ARG_TYPE(name, 'string', value)\n}\n\n/**\n * @callback validateNumber\n * @param {*} value\n * @param {string} name\n * @param {number} [min]\n * @param {number} [max]\n * @returns {asserts value is number}\n */\n\n/** @type {validateNumber} */\nfunction validateNumber(value, name, min = undefined, max) {\n  if (typeof value !== 'number') throw new ERR_INVALID_ARG_TYPE(name, 'number', value)\n  if (\n    (min != null && value < min) ||\n    (max != null && value > max) ||\n    ((min != null || max != null) && NumberIsNaN(value))\n  ) {\n    throw new ERR_OUT_OF_RANGE(\n      name,\n      `${min != null ? `>= ${min}` : ''}${min != null && max != null ? ' && ' : ''}${max != null ? `<= ${max}` : ''}`,\n      value\n    )\n  }\n}\n\n/**\n * @callback validateOneOf\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} oneOf\n */\n\n/** @type {validateOneOf} */\nconst validateOneOf = hideStackFrames((value, name, oneOf) => {\n  if (!ArrayPrototypeIncludes(oneOf, value)) {\n    const allowed = ArrayPrototypeJoin(\n      ArrayPrototypeMap(oneOf, (v) => (typeof v === 'string' ? `'${v}'` : String(v))),\n      ', '\n    )\n    const reason = 'must be one of: ' + allowed\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateBoolean\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean}\n */\n\n/** @type {validateBoolean} */\nfunction validateBoolean(value, name) {\n  if (typeof value !== 'boolean') throw new ERR_INVALID_ARG_TYPE(name, 'boolean', value)\n}\n\n/**\n * @param {any} options\n * @param {string} key\n * @param {boolean} defaultValue\n * @returns {boolean}\n */\nfunction getOwnPropertyValueOrDefault(options, key, defaultValue) {\n  return options == null || !ObjectPrototypeHasOwnProperty(options, key) ? defaultValue : options[key]\n}\n\n/**\n * @callback validateObject\n * @param {*} value\n * @param {string} name\n * @param {{\n *   allowArray?: boolean,\n *   allowFunction?: boolean,\n *   nullable?: boolean\n * }} [options]\n */\n\n/** @type {validateObject} */\nconst validateObject = hideStackFrames((value, name, options = null) => {\n  const allowArray = getOwnPropertyValueOrDefault(options, 'allowArray', false)\n  const allowFunction = getOwnPropertyValueOrDefault(options, 'allowFunction', false)\n  const nullable = getOwnPropertyValueOrDefault(options, 'nullable', false)\n  if (\n    (!nullable && value === null) ||\n    (!allowArray && ArrayIsArray(value)) ||\n    (typeof value !== 'object' && (!allowFunction || typeof value !== 'function'))\n  ) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Object', value)\n  }\n})\n\n/**\n * @callback validateDictionary - We are using the Web IDL Standard definition\n *                                of \"dictionary\" here, which means any value\n *                                whose Type is either Undefined, Null, or\n *                                Object (which includes functions).\n * @param {*} value\n * @param {string} name\n * @see https://webidl.spec.whatwg.org/#es-dictionary\n * @see https://tc39.es/ecma262/#table-typeof-operator-results\n */\n\n/** @type {validateDictionary} */\nconst validateDictionary = hideStackFrames((value, name) => {\n  if (value != null && typeof value !== 'object' && typeof value !== 'function') {\n    throw new ERR_INVALID_ARG_TYPE(name, 'a dictionary', value)\n  }\n})\n\n/**\n * @callback validateArray\n * @param {*} value\n * @param {string} name\n * @param {number} [minLength]\n * @returns {asserts value is any[]}\n */\n\n/** @type {validateArray} */\nconst validateArray = hideStackFrames((value, name, minLength = 0) => {\n  if (!ArrayIsArray(value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'Array', value)\n  }\n  if (value.length < minLength) {\n    const reason = `must be longer than ${minLength}`\n    throw new ERR_INVALID_ARG_VALUE(name, value, reason)\n  }\n})\n\n/**\n * @callback validateStringArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is string[]}\n */\n\n/** @type {validateStringArray} */\nfunction validateStringArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateString(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @callback validateBooleanArray\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is boolean[]}\n */\n\n/** @type {validateBooleanArray} */\nfunction validateBooleanArray(value, name) {\n  validateArray(value, name)\n  for (let i = 0; i < value.length; i++) {\n    validateBoolean(value[i], `${name}[${i}]`)\n  }\n}\n\n/**\n * @param {*} signal\n * @param {string} [name='signal']\n * @returns {asserts signal is keyof signals}\n */\nfunction validateSignalName(signal, name = 'signal') {\n  validateString(signal, name)\n  if (signals[signal] === undefined) {\n    if (signals[StringPrototypeToUpperCase(signal)] !== undefined) {\n      throw new ERR_UNKNOWN_SIGNAL(signal + ' (signals must use all capital letters)')\n    }\n    throw new ERR_UNKNOWN_SIGNAL(signal)\n  }\n}\n\n/**\n * @callback validateBuffer\n * @param {*} buffer\n * @param {string} [name='buffer']\n * @returns {asserts buffer is ArrayBufferView}\n */\n\n/** @type {validateBuffer} */\nconst validateBuffer = hideStackFrames((buffer, name = 'buffer') => {\n  if (!isArrayBufferView(buffer)) {\n    throw new ERR_INVALID_ARG_TYPE(name, ['Buffer', 'TypedArray', 'DataView'], buffer)\n  }\n})\n\n/**\n * @param {string} data\n * @param {string} encoding\n */\nfunction validateEncoding(data, encoding) {\n  const normalizedEncoding = normalizeEncoding(encoding)\n  const length = data.length\n  if (normalizedEncoding === 'hex' && length % 2 !== 0) {\n    throw new ERR_INVALID_ARG_VALUE('encoding', encoding, `is invalid for data of length ${length}`)\n  }\n}\n\n/**\n * Check that the port number is not NaN when coerced to a number,\n * is an integer and that it falls within the legal range of port numbers.\n * @param {*} port\n * @param {string} [name='Port']\n * @param {boolean} [allowZero=true]\n * @returns {number}\n */\nfunction validatePort(port, name = 'Port', allowZero = true) {\n  if (\n    (typeof port !== 'number' && typeof port !== 'string') ||\n    (typeof port === 'string' && StringPrototypeTrim(port).length === 0) ||\n    +port !== +port >>> 0 ||\n    port > 0xffff ||\n    (port === 0 && !allowZero)\n  ) {\n    throw new ERR_SOCKET_BAD_PORT(name, port, allowZero)\n  }\n  return port | 0\n}\n\n/**\n * @callback validateAbortSignal\n * @param {*} signal\n * @param {string} name\n */\n\n/** @type {validateAbortSignal} */\nconst validateAbortSignal = hideStackFrames((signal, name) => {\n  if (signal !== undefined && (signal === null || typeof signal !== 'object' || !('aborted' in signal))) {\n    throw new ERR_INVALID_ARG_TYPE(name, 'AbortSignal', signal)\n  }\n})\n\n/**\n * @callback validateFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validateFunction} */\nconst validateFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function') throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validatePlainFunction\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is Function}\n */\n\n/** @type {validatePlainFunction} */\nconst validatePlainFunction = hideStackFrames((value, name) => {\n  if (typeof value !== 'function' || isAsyncFunction(value)) throw new ERR_INVALID_ARG_TYPE(name, 'Function', value)\n})\n\n/**\n * @callback validateUndefined\n * @param {*} value\n * @param {string} name\n * @returns {asserts value is undefined}\n */\n\n/** @type {validateUndefined} */\nconst validateUndefined = hideStackFrames((value, name) => {\n  if (value !== undefined) throw new ERR_INVALID_ARG_TYPE(name, 'undefined', value)\n})\n\n/**\n * @template T\n * @param {T} value\n * @param {string} name\n * @param {T[]} union\n */\nfunction validateUnion(value, name, union) {\n  if (!ArrayPrototypeIncludes(union, value)) {\n    throw new ERR_INVALID_ARG_TYPE(name, `('${ArrayPrototypeJoin(union, '|')}')`, value)\n  }\n}\n\n/*\n  The rules for the Link header field are described here:\n  https://www.rfc-editor.org/rfc/rfc8288.html#section-3\n\n  This regex validates any string surrounded by angle brackets\n  (not necessarily a valid URI reference) followed by zero or more\n  link-params separated by semicolons.\n*/\nconst linkValueRegExp = /^(?:<[^>]*>)(?:\\s*;\\s*[^;\"\\s]+(?:=(\")?[^;\"\\s]*\\1)?)*$/\n\n/**\n * @param {any} value\n * @param {string} name\n */\nfunction validateLinkHeaderFormat(value, name) {\n  if (typeof value === 'undefined' || !RegExpPrototypeExec(linkValueRegExp, value)) {\n    throw new ERR_INVALID_ARG_VALUE(\n      name,\n      value,\n      'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n    )\n  }\n}\n\n/**\n * @param {any} hints\n * @return {string}\n */\nfunction validateLinkHeaderValue(hints) {\n  if (typeof hints === 'string') {\n    validateLinkHeaderFormat(hints, 'hints')\n    return hints\n  } else if (ArrayIsArray(hints)) {\n    const hintsLength = hints.length\n    let result = ''\n    if (hintsLength === 0) {\n      return result\n    }\n    for (let i = 0; i < hintsLength; i++) {\n      const link = hints[i]\n      validateLinkHeaderFormat(link, 'hints')\n      result += link\n      if (i !== hintsLength - 1) {\n        result += ', '\n      }\n    }\n    return result\n  }\n  throw new ERR_INVALID_ARG_VALUE(\n    'hints',\n    hints,\n    'must be an array or string of format \"</styles.css>; rel=preload; as=style\"'\n  )\n}\nmodule.exports = {\n  isInt32,\n  isUint32,\n  parseFileMode,\n  validateArray,\n  validateStringArray,\n  validateBooleanArray,\n  validateBoolean,\n  validateBuffer,\n  validateDictionary,\n  validateEncoding,\n  validateFunction,\n  validateInt32,\n  validateInteger,\n  validateNumber,\n  validateObject,\n  validateOneOf,\n  validatePlainFunction,\n  validatePort,\n  validateSignalName,\n  validateString,\n  validateUint32,\n  validateUndefined,\n  validateUnion,\n  validateAbortSignal,\n  validateLinkHeaderValue\n}\n","'use strict'\n\nconst CustomStream = require('../stream')\nconst promises = require('../stream/promises')\nconst originalDestroy = CustomStream.Readable.destroy\nmodule.exports = CustomStream.Readable\n\n// Explicit export naming is needed for ESM\nmodule.exports._uint8ArrayToBuffer = CustomStream._uint8ArrayToBuffer\nmodule.exports._isUint8Array = CustomStream._isUint8Array\nmodule.exports.isDisturbed = CustomStream.isDisturbed\nmodule.exports.isErrored = CustomStream.isErrored\nmodule.exports.isReadable = CustomStream.isReadable\nmodule.exports.Readable = CustomStream.Readable\nmodule.exports.Writable = CustomStream.Writable\nmodule.exports.Duplex = CustomStream.Duplex\nmodule.exports.Transform = CustomStream.Transform\nmodule.exports.PassThrough = CustomStream.PassThrough\nmodule.exports.addAbortSignal = CustomStream.addAbortSignal\nmodule.exports.finished = CustomStream.finished\nmodule.exports.destroy = CustomStream.destroy\nmodule.exports.destroy = originalDestroy\nmodule.exports.pipeline = CustomStream.pipeline\nmodule.exports.compose = CustomStream.compose\nObject.defineProperty(CustomStream, 'promises', {\n  configurable: true,\n  enumerable: true,\n  get() {\n    return promises\n  }\n})\nmodule.exports.Stream = CustomStream.Stream\n\n// Allow default importing\nmodule.exports.default = module.exports\n","'use strict'\n\nconst { format, inspect, AggregateError: CustomAggregateError } = require('./util')\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/errors.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/errors.js\n\n  Don't try to replace with the original file and keep it up to date (starting from E(...) definitions)\n  with the upstream file.\n*/\n\nconst AggregateError = globalThis.AggregateError || CustomAggregateError\nconst kIsNodeError = Symbol('kIsNodeError')\nconst kTypes = [\n  'string',\n  'function',\n  'number',\n  'object',\n  // Accept 'Function' and 'Object' as alternative to the lower cased version.\n  'Function',\n  'Object',\n  'boolean',\n  'bigint',\n  'symbol'\n]\nconst classRegExp = /^([A-Z][a-z0-9]*)+$/\nconst nodeInternalPrefix = '__node_internal_'\nconst codes = {}\nfunction assert(value, message) {\n  if (!value) {\n    throw new codes.ERR_INTERNAL_ASSERTION(message)\n  }\n}\n\n// Only use this for integers! Decimal numbers do not work with this function.\nfunction addNumericalSeparator(val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\nfunction getMessage(key, msg, args) {\n  if (typeof msg === 'function') {\n    assert(\n      msg.length <= args.length,\n      // Default options do not count.\n      `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${msg.length}).`\n    )\n    return msg(...args)\n  }\n  const expectedLength = (msg.match(/%[dfijoOs]/g) || []).length\n  assert(\n    expectedLength === args.length,\n    `Code: ${key}; The provided arguments length (${args.length}) does not match the required ones (${expectedLength}).`\n  )\n  if (args.length === 0) {\n    return msg\n  }\n  return format(msg, ...args)\n}\nfunction E(code, message, Base) {\n  if (!Base) {\n    Base = Error\n  }\n  class NodeError extends Base {\n    constructor(...args) {\n      super(getMessage(code, message, args))\n    }\n    toString() {\n      return `${this.name} [${code}]: ${this.message}`\n    }\n  }\n  Object.defineProperties(NodeError.prototype, {\n    name: {\n      value: Base.name,\n      writable: true,\n      enumerable: false,\n      configurable: true\n    },\n    toString: {\n      value() {\n        return `${this.name} [${code}]: ${this.message}`\n      },\n      writable: true,\n      enumerable: false,\n      configurable: true\n    }\n  })\n  NodeError.prototype.code = code\n  NodeError.prototype[kIsNodeError] = true\n  codes[code] = NodeError\n}\nfunction hideStackFrames(fn) {\n  // We rename the functions that will be hidden to cut off the stacktrace\n  // at the outermost one\n  const hidden = nodeInternalPrefix + fn.name\n  Object.defineProperty(fn, 'name', {\n    value: hidden\n  })\n  return fn\n}\nfunction aggregateTwoErrors(innerError, outerError) {\n  if (innerError && outerError && innerError !== outerError) {\n    if (Array.isArray(outerError.errors)) {\n      // If `outerError` is already an `AggregateError`.\n      outerError.errors.push(innerError)\n      return outerError\n    }\n    const err = new AggregateError([outerError, innerError], outerError.message)\n    err.code = outerError.code\n    return err\n  }\n  return innerError || outerError\n}\nclass AbortError extends Error {\n  constructor(message = 'The operation was aborted', options = undefined) {\n    if (options !== undefined && typeof options !== 'object') {\n      throw new codes.ERR_INVALID_ARG_TYPE('options', 'Object', options)\n    }\n    super(message, options)\n    this.code = 'ABORT_ERR'\n    this.name = 'AbortError'\n  }\n}\nE('ERR_ASSERTION', '%s', Error)\nE(\n  'ERR_INVALID_ARG_TYPE',\n  (name, expected, actual) => {\n    assert(typeof name === 'string', \"'name' must be a string\")\n    if (!Array.isArray(expected)) {\n      expected = [expected]\n    }\n    let msg = 'The '\n    if (name.endsWith(' argument')) {\n      // For cases like 'first argument'\n      msg += `${name} `\n    } else {\n      msg += `\"${name}\" ${name.includes('.') ? 'property' : 'argument'} `\n    }\n    msg += 'must be '\n    const types = []\n    const instances = []\n    const other = []\n    for (const value of expected) {\n      assert(typeof value === 'string', 'All expected entries have to be of type string')\n      if (kTypes.includes(value)) {\n        types.push(value.toLowerCase())\n      } else if (classRegExp.test(value)) {\n        instances.push(value)\n      } else {\n        assert(value !== 'object', 'The value \"object\" should be written as \"Object\"')\n        other.push(value)\n      }\n    }\n\n    // Special handle `object` in case other instances are allowed to outline\n    // the differences between each other.\n    if (instances.length > 0) {\n      const pos = types.indexOf('object')\n      if (pos !== -1) {\n        types.splice(types, pos, 1)\n        instances.push('Object')\n      }\n    }\n    if (types.length > 0) {\n      switch (types.length) {\n        case 1:\n          msg += `of type ${types[0]}`\n          break\n        case 2:\n          msg += `one of type ${types[0]} or ${types[1]}`\n          break\n        default: {\n          const last = types.pop()\n          msg += `one of type ${types.join(', ')}, or ${last}`\n        }\n      }\n      if (instances.length > 0 || other.length > 0) {\n        msg += ' or '\n      }\n    }\n    if (instances.length > 0) {\n      switch (instances.length) {\n        case 1:\n          msg += `an instance of ${instances[0]}`\n          break\n        case 2:\n          msg += `an instance of ${instances[0]} or ${instances[1]}`\n          break\n        default: {\n          const last = instances.pop()\n          msg += `an instance of ${instances.join(', ')}, or ${last}`\n        }\n      }\n      if (other.length > 0) {\n        msg += ' or '\n      }\n    }\n    switch (other.length) {\n      case 0:\n        break\n      case 1:\n        if (other[0].toLowerCase() !== other[0]) {\n          msg += 'an '\n        }\n        msg += `${other[0]}`\n        break\n      case 2:\n        msg += `one of ${other[0]} or ${other[1]}`\n        break\n      default: {\n        const last = other.pop()\n        msg += `one of ${other.join(', ')}, or ${last}`\n      }\n    }\n    if (actual == null) {\n      msg += `. Received ${actual}`\n    } else if (typeof actual === 'function' && actual.name) {\n      msg += `. Received function ${actual.name}`\n    } else if (typeof actual === 'object') {\n      var _actual$constructor\n      if (\n        (_actual$constructor = actual.constructor) !== null &&\n        _actual$constructor !== undefined &&\n        _actual$constructor.name\n      ) {\n        msg += `. Received an instance of ${actual.constructor.name}`\n      } else {\n        const inspected = inspect(actual, {\n          depth: -1\n        })\n        msg += `. Received ${inspected}`\n      }\n    } else {\n      let inspected = inspect(actual, {\n        colors: false\n      })\n      if (inspected.length > 25) {\n        inspected = `${inspected.slice(0, 25)}...`\n      }\n      msg += `. Received type ${typeof actual} (${inspected})`\n    }\n    return msg\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_ARG_VALUE',\n  (name, value, reason = 'is invalid') => {\n    let inspected = inspect(value)\n    if (inspected.length > 128) {\n      inspected = inspected.slice(0, 128) + '...'\n    }\n    const type = name.includes('.') ? 'property' : 'argument'\n    return `The ${type} '${name}' ${reason}. Received ${inspected}`\n  },\n  TypeError\n)\nE(\n  'ERR_INVALID_RETURN_VALUE',\n  (input, name, value) => {\n    var _value$constructor\n    const type =\n      value !== null &&\n      value !== undefined &&\n      (_value$constructor = value.constructor) !== null &&\n      _value$constructor !== undefined &&\n      _value$constructor.name\n        ? `instance of ${value.constructor.name}`\n        : `type ${typeof value}`\n    return `Expected ${input} to be returned from the \"${name}\"` + ` function but got ${type}.`\n  },\n  TypeError\n)\nE(\n  'ERR_MISSING_ARGS',\n  (...args) => {\n    assert(args.length > 0, 'At least one arg needs to be specified')\n    let msg\n    const len = args.length\n    args = (Array.isArray(args) ? args : [args]).map((a) => `\"${a}\"`).join(' or ')\n    switch (len) {\n      case 1:\n        msg += `The ${args[0]} argument`\n        break\n      case 2:\n        msg += `The ${args[0]} and ${args[1]} arguments`\n        break\n      default:\n        {\n          const last = args.pop()\n          msg += `The ${args.join(', ')}, and ${last} arguments`\n        }\n        break\n    }\n    return `${msg} must be specified`\n  },\n  TypeError\n)\nE(\n  'ERR_OUT_OF_RANGE',\n  (str, range, input) => {\n    assert(range, 'Missing \"range\" argument')\n    let received\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > 2n ** 32n || input < -(2n ** 32n)) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    } else {\n      received = inspect(input)\n    }\n    return `The value of \"${str}\" is out of range. It must be ${range}. Received ${received}`\n  },\n  RangeError\n)\nE('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times', Error)\nE('ERR_METHOD_NOT_IMPLEMENTED', 'The %s method is not implemented', Error)\nE('ERR_STREAM_ALREADY_FINISHED', 'Cannot call %s after a stream was finished', Error)\nE('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable', Error)\nE('ERR_STREAM_DESTROYED', 'Cannot call %s after a stream was destroyed', Error)\nE('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError)\nE('ERR_STREAM_PREMATURE_CLOSE', 'Premature close', Error)\nE('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF', Error)\nE('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event', Error)\nE('ERR_STREAM_WRITE_AFTER_END', 'write after end', Error)\nE('ERR_UNKNOWN_ENCODING', 'Unknown encoding: %s', TypeError)\nmodule.exports = {\n  AbortError,\n  aggregateTwoErrors: hideStackFrames(aggregateTwoErrors),\n  hideStackFrames,\n  codes\n}\n","'use strict'\n\n/*\n  This file is a reduced and adapted version of the main lib/internal/per_context/primordials.js file defined at\n\n  https://github.com/nodejs/node/blob/master/lib/internal/per_context/primordials.js\n\n  Don't try to replace with the original file and keep it up to date with the upstream file.\n*/\nmodule.exports = {\n  ArrayIsArray(self) {\n    return Array.isArray(self)\n  },\n  ArrayPrototypeIncludes(self, el) {\n    return self.includes(el)\n  },\n  ArrayPrototypeIndexOf(self, el) {\n    return self.indexOf(el)\n  },\n  ArrayPrototypeJoin(self, sep) {\n    return self.join(sep)\n  },\n  ArrayPrototypeMap(self, fn) {\n    return self.map(fn)\n  },\n  ArrayPrototypePop(self, el) {\n    return self.pop(el)\n  },\n  ArrayPrototypePush(self, el) {\n    return self.push(el)\n  },\n  ArrayPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  Error,\n  FunctionPrototypeCall(fn, thisArgs, ...args) {\n    return fn.call(thisArgs, ...args)\n  },\n  FunctionPrototypeSymbolHasInstance(self, instance) {\n    return Function.prototype[Symbol.hasInstance].call(self, instance)\n  },\n  MathFloor: Math.floor,\n  Number,\n  NumberIsInteger: Number.isInteger,\n  NumberIsNaN: Number.isNaN,\n  NumberMAX_SAFE_INTEGER: Number.MAX_SAFE_INTEGER,\n  NumberMIN_SAFE_INTEGER: Number.MIN_SAFE_INTEGER,\n  NumberParseInt: Number.parseInt,\n  ObjectDefineProperties(self, props) {\n    return Object.defineProperties(self, props)\n  },\n  ObjectDefineProperty(self, name, prop) {\n    return Object.defineProperty(self, name, prop)\n  },\n  ObjectGetOwnPropertyDescriptor(self, name) {\n    return Object.getOwnPropertyDescriptor(self, name)\n  },\n  ObjectKeys(obj) {\n    return Object.keys(obj)\n  },\n  ObjectSetPrototypeOf(target, proto) {\n    return Object.setPrototypeOf(target, proto)\n  },\n  Promise,\n  PromisePrototypeCatch(self, fn) {\n    return self.catch(fn)\n  },\n  PromisePrototypeThen(self, thenFn, catchFn) {\n    return self.then(thenFn, catchFn)\n  },\n  PromiseReject(err) {\n    return Promise.reject(err)\n  },\n  ReflectApply: Reflect.apply,\n  RegExpPrototypeTest(self, value) {\n    return self.test(value)\n  },\n  SafeSet: Set,\n  String,\n  StringPrototypeSlice(self, start, end) {\n    return self.slice(start, end)\n  },\n  StringPrototypeToLowerCase(self) {\n    return self.toLowerCase()\n  },\n  StringPrototypeToUpperCase(self) {\n    return self.toUpperCase()\n  },\n  StringPrototypeTrim(self) {\n    return self.trim()\n  },\n  Symbol,\n  SymbolFor: Symbol.for,\n  SymbolAsyncIterator: Symbol.asyncIterator,\n  SymbolHasInstance: Symbol.hasInstance,\n  SymbolIterator: Symbol.iterator,\n  TypedArrayPrototypeSet(self, buf, len) {\n    return self.set(buf, len)\n  },\n  Uint8Array\n}\n","'use strict'\n\nconst bufferModule = require('buffer')\nconst AsyncFunction = Object.getPrototypeOf(async function () {}).constructor\nconst Blob = globalThis.Blob || bufferModule.Blob\n/* eslint-disable indent */\nconst isBlob =\n  typeof Blob !== 'undefined'\n    ? function isBlob(b) {\n        // eslint-disable-next-line indent\n        return b instanceof Blob\n      }\n    : function isBlob(b) {\n        return false\n      }\n/* eslint-enable indent */\n\n// This is a simplified version of AggregateError\nclass AggregateError extends Error {\n  constructor(errors) {\n    if (!Array.isArray(errors)) {\n      throw new TypeError(`Expected input to be an Array, got ${typeof errors}`)\n    }\n    let message = ''\n    for (let i = 0; i < errors.length; i++) {\n      message += `    ${errors[i].stack}\\n`\n    }\n    super(message)\n    this.name = 'AggregateError'\n    this.errors = errors\n  }\n}\nmodule.exports = {\n  AggregateError,\n  kEmptyObject: Object.freeze({}),\n  once(callback) {\n    let called = false\n    return function (...args) {\n      if (called) {\n        return\n      }\n      called = true\n      callback.apply(this, args)\n    }\n  },\n  createDeferredPromise: function () {\n    let resolve\n    let reject\n\n    // eslint-disable-next-line promise/param-names\n    const promise = new Promise((res, rej) => {\n      resolve = res\n      reject = rej\n    })\n    return {\n      promise,\n      resolve,\n      reject\n    }\n  },\n  promisify(fn) {\n    return new Promise((resolve, reject) => {\n      fn((err, ...args) => {\n        if (err) {\n          return reject(err)\n        }\n        return resolve(...args)\n      })\n    })\n  },\n  debuglog() {\n    return function () {}\n  },\n  format(format, ...args) {\n    // Simplified version of https://nodejs.org/api/util.html#utilformatformat-args\n    return format.replace(/%([sdifj])/g, function (...[_unused, type]) {\n      const replacement = args.shift()\n      if (type === 'f') {\n        return replacement.toFixed(6)\n      } else if (type === 'j') {\n        return JSON.stringify(replacement)\n      } else if (type === 's' && typeof replacement === 'object') {\n        const ctor = replacement.constructor !== Object ? replacement.constructor.name : ''\n        return `${ctor} {}`.trim()\n      } else {\n        return replacement.toString()\n      }\n    })\n  },\n  inspect(value) {\n    // Vastly simplified version of https://nodejs.org/api/util.html#utilinspectobject-options\n    switch (typeof value) {\n      case 'string':\n        if (value.includes(\"'\")) {\n          if (!value.includes('\"')) {\n            return `\"${value}\"`\n          } else if (!value.includes('`') && !value.includes('${')) {\n            return `\\`${value}\\``\n          }\n        }\n        return `'${value}'`\n      case 'number':\n        if (isNaN(value)) {\n          return 'NaN'\n        } else if (Object.is(value, -0)) {\n          return String(value)\n        }\n        return value\n      case 'bigint':\n        return `${String(value)}n`\n      case 'boolean':\n      case 'undefined':\n        return String(value)\n      case 'object':\n        return '{}'\n    }\n  },\n  types: {\n    isAsyncFunction(fn) {\n      return fn instanceof AsyncFunction\n    },\n    isArrayBufferView(arr) {\n      return ArrayBuffer.isView(arr)\n    }\n  },\n  isBlob\n}\nmodule.exports.promisify.custom = Symbol.for('nodejs.util.promisify.custom')\n","/* replacement start */\n\nconst { Buffer } = require('buffer')\n\n/* replacement end */\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n;('use strict')\nconst { ObjectDefineProperty, ObjectKeys, ReflectApply } = require('./ours/primordials')\nconst {\n  promisify: { custom: customPromisify }\n} = require('./ours/util')\nconst { streamReturningOperators, promiseReturningOperators } = require('./internal/streams/operators')\nconst {\n  codes: { ERR_ILLEGAL_CONSTRUCTOR }\n} = require('./ours/errors')\nconst compose = require('./internal/streams/compose')\nconst { pipeline } = require('./internal/streams/pipeline')\nconst { destroyer } = require('./internal/streams/destroy')\nconst eos = require('./internal/streams/end-of-stream')\nconst internalBuffer = {}\nconst promises = require('./stream/promises')\nconst utils = require('./internal/streams/utils')\nconst Stream = (module.exports = require('./internal/streams/legacy').Stream)\nStream.isDisturbed = utils.isDisturbed\nStream.isErrored = utils.isErrored\nStream.isReadable = utils.isReadable\nStream.Readable = require('./internal/streams/readable')\nfor (const key of ObjectKeys(streamReturningOperators)) {\n  const op = streamReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return Stream.Readable.from(ReflectApply(op, this, args))\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nfor (const key of ObjectKeys(promiseReturningOperators)) {\n  const op = promiseReturningOperators[key]\n  function fn(...args) {\n    if (new.target) {\n      throw ERR_ILLEGAL_CONSTRUCTOR()\n    }\n    return ReflectApply(op, this, args)\n  }\n  ObjectDefineProperty(fn, 'name', {\n    __proto__: null,\n    value: op.name\n  })\n  ObjectDefineProperty(fn, 'length', {\n    __proto__: null,\n    value: op.length\n  })\n  ObjectDefineProperty(Stream.Readable.prototype, key, {\n    __proto__: null,\n    value: fn,\n    enumerable: false,\n    configurable: true,\n    writable: true\n  })\n}\nStream.Writable = require('./internal/streams/writable')\nStream.Duplex = require('./internal/streams/duplex')\nStream.Transform = require('./internal/streams/transform')\nStream.PassThrough = require('./internal/streams/passthrough')\nStream.pipeline = pipeline\nconst { addAbortSignal } = require('./internal/streams/add-abort-signal')\nStream.addAbortSignal = addAbortSignal\nStream.finished = eos\nStream.destroy = destroyer\nStream.compose = compose\nObjectDefineProperty(Stream, 'promises', {\n  __proto__: null,\n  configurable: true,\n  enumerable: true,\n  get() {\n    return promises\n  }\n})\nObjectDefineProperty(pipeline, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.pipeline\n  }\n})\nObjectDefineProperty(eos, customPromisify, {\n  __proto__: null,\n  enumerable: true,\n  get() {\n    return promises.finished\n  }\n})\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream\nStream._isUint8Array = function isUint8Array(value) {\n  return value instanceof Uint8Array\n}\nStream._uint8ArrayToBuffer = function _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk.buffer, chunk.byteOffset, chunk.byteLength)\n}\n","'use strict'\n\nconst { ArrayPrototypePop, Promise } = require('../ours/primordials')\nconst { isIterable, isNodeStream, isWebStream } = require('../internal/streams/utils')\nconst { pipelineImpl: pl } = require('../internal/streams/pipeline')\nconst { finished } = require('../internal/streams/end-of-stream')\nrequire('../../lib/stream.js')\nfunction pipeline(...streams) {\n  return new Promise((resolve, reject) => {\n    let signal\n    let end\n    const lastArg = streams[streams.length - 1]\n    if (\n      lastArg &&\n      typeof lastArg === 'object' &&\n      !isNodeStream(lastArg) &&\n      !isIterable(lastArg) &&\n      !isWebStream(lastArg)\n    ) {\n      const options = ArrayPrototypePop(streams)\n      signal = options.signal\n      end = options.end\n    }\n    pl(\n      streams,\n      (err, value) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(value)\n        }\n      },\n      {\n        signal,\n        end\n      }\n    )\n  })\n}\nmodule.exports = {\n  finished,\n  pipeline\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar LIMIT_REPLACE_NODE = '[...]'\nvar CIRCULAR_REPLACE_NODE = '[Circular]'\n\nvar arr = []\nvar replacerStack = []\n\nfunction defaultOptions () {\n  return {\n    depthLimit: Number.MAX_SAFE_INTEGER,\n    edgesLimit: Number.MAX_SAFE_INTEGER\n  }\n}\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  decirc(obj, '', 0, [], undefined, 0, options)\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(obj, replacer, spacer)\n    } else {\n      res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction setReplace (replace, val, k, parent) {\n  var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n  if (propertyDescriptor.get !== undefined) {\n    if (propertyDescriptor.configurable) {\n      Object.defineProperty(parent, k, { value: replace })\n      arr.push([parent, k, val, propertyDescriptor])\n    } else {\n      replacerStack.push([val, k, replace])\n    }\n  } else {\n    parent[k] = replace\n    arr.push([parent, k, val])\n  }\n}\n\nfunction decirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, i, stack, val, depth, options)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  var tmp = deterministicDecirc(obj, '', 0, [], undefined, 0, options) || obj\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(tmp, replacer, spacer)\n    } else {\n      res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    // Ensure that we restore the object as it was.\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n    try {\n      if (typeof val.toJSON === 'function') {\n        return\n      }\n    } catch (_) {\n      return\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, i, stack, val, depth, options)\n        tmp[key] = val[key]\n      }\n      if (typeof parent !== 'undefined') {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as replaced value\nfunction replaceGetterValues (replacer) {\n  replacer =\n    typeof replacer !== 'undefined'\n      ? replacer\n      : function (k, v) {\n        return v\n      }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = part[2]\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","'use strict';\n\nconst isStream = stream =>\n\tstream !== null &&\n\ttypeof stream === 'object' &&\n\ttypeof stream.pipe === 'function';\n\nisStream.writable = stream =>\n\tisStream(stream) &&\n\tstream.writable !== false &&\n\ttypeof stream._write === 'function' &&\n\ttypeof stream._writableState === 'object';\n\nisStream.readable = stream =>\n\tisStream(stream) &&\n\tstream.readable !== false &&\n\ttypeof stream._read === 'function' &&\n\ttypeof stream._readableState === 'object';\n\nisStream.duplex = stream =>\n\tisStream.writable(stream) &&\n\tisStream.readable(stream);\n\nisStream.transform = stream =>\n\tisStream.duplex(stream) &&\n\ttypeof stream._transform === 'function';\n\nmodule.exports = isStream;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst readable_stream_1 = require(\"readable-stream\");\n/**\n * Takes a JsonRpcEngine and returns a Duplex stream wrapping it.\n *\n * @param opts - Options bag.\n * @param opts.engine - The JsonRpcEngine to wrap in a stream.\n * @returns The stream wrapping the engine.\n */\nfunction createEngineStream(opts) {\n    if (!(opts === null || opts === void 0 ? void 0 : opts.engine)) {\n        throw new Error('Missing engine parameter!');\n    }\n    const { engine } = opts;\n    const stream = new readable_stream_1.Duplex({ objectMode: true, read: () => undefined, write });\n    // forward notifications\n    if (engine.on) {\n        engine.on('notification', (message) => {\n            stream.push(message);\n        });\n    }\n    return stream;\n    /**\n     * Write a JSON-RPC request to the stream.\n     *\n     * @param req - The JSON-rpc request.\n     * @param _encoding - The stream encoding, not used.\n     * @param streamWriteCallback - The stream write callback.\n     */\n    function write(req, _encoding, streamWriteCallback) {\n        engine.handle(req, (_err, res) => {\n            stream.push(res);\n        });\n        streamWriteCallback();\n    }\n}\nexports.default = createEngineStream;\n//# sourceMappingURL=createEngineStream.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst safe_event_emitter_1 = __importDefault(require(\"@metamask/safe-event-emitter\"));\nconst readable_stream_1 = require(\"readable-stream\");\n/**\n * Creates a JsonRpcEngine middleware with an associated Duplex stream and\n * EventEmitter. The middleware, and by extension stream, assume that middleware\n * parameters are properly formatted. No runtime type checking or validation is\n * performed.\n *\n * @param options - Configuration options for middleware.\n * @returns The event emitter, middleware, and stream.\n */\nfunction createStreamMiddleware(options = {}) {\n    const idMap = {}; // TODO: replace with actual Map\n    const stream = new readable_stream_1.Duplex({\n        objectMode: true,\n        read: () => undefined,\n        write: processMessage,\n    });\n    const events = new safe_event_emitter_1.default();\n    const middleware = (req, res, next, end) => {\n        // register request on id map *before* sending it to the stream, to avoid race issues\n        idMap[req.id] = { req, res, next, end };\n        // write req to stream\n        sendToStream(req);\n    };\n    return { events, middleware, stream };\n    /**\n     * Forwards JSON-RPC request to the stream.\n     *\n     * @param req - The JSON-RPC request object.\n     */\n    function sendToStream(req) {\n        // TODO: limiting retries could be implemented here\n        stream.push(req);\n    }\n    /**\n     * Writes a JSON-RPC object to the stream.\n     *\n     * @param res - The JSON-RPC response object.\n     * @param _encoding - The stream encoding, not used.\n     * @param streamWriteCallback - The stream write callback.\n     */\n    function processMessage(res, _encoding, streamWriteCallback) {\n        let errorObj = null;\n        try {\n            const isNotification = !res.id;\n            if (isNotification) {\n                processNotification(res);\n            }\n            else {\n                processResponse(res);\n            }\n        }\n        catch (_err) {\n            errorObj = _err;\n        }\n        // continue processing stream\n        streamWriteCallback(errorObj);\n    }\n    /**\n     * Processes a JSON-RPC response.\n     *\n     * @param res - The response to process.\n     */\n    function processResponse(res) {\n        const responseId = res.id;\n        const context = idMap[responseId];\n        if (!context) {\n            console.warn(`StreamMiddleware - Unknown response id \"${responseId}\"`);\n            return;\n        }\n        delete idMap[responseId];\n        // copy whole res onto original res\n        Object.assign(context.res, res);\n        // run callback on empty stack,\n        // prevent internal stream-handler from catching errors\n        setTimeout(context.end);\n    }\n    /**\n     * Processes a JSON-RPC notification.\n     *\n     * @param notif - The notification to process.\n     */\n    function processNotification(notif) {\n        if ((options === null || options === void 0 ? void 0 : options.retryOnMessage) && notif.method === options.retryOnMessage) {\n            retryStuckRequests();\n        }\n        events.emit('notification', notif);\n    }\n    /**\n     * Retry pending requests.\n     */\n    function retryStuckRequests() {\n        Object.values(idMap).forEach(({ req, retryCount = 0 }) => {\n            // Avoid retrying requests without an id - they cannot have matching responses so retry logic doesn't apply\n            // Check for retry count below ensure that a request is not retried more than 3 times\n            if (!req.id) {\n                return;\n            }\n            if (retryCount >= 3) {\n                throw new Error(`StreamMiddleware - Retry limit exceeded for request id \"${req.id}\"`);\n            }\n            idMap[req.id].retryCount = retryCount + 1;\n            sendToStream(req);\n        });\n    }\n}\nexports.default = createStreamMiddleware;\n//# sourceMappingURL=createStreamMiddleware.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createStreamMiddleware = exports.createEngineStream = void 0;\nconst createEngineStream_1 = __importDefault(require(\"./createEngineStream\"));\nexports.createEngineStream = createEngineStream_1.default;\nconst createStreamMiddleware_1 = __importDefault(require(\"./createStreamMiddleware\"));\nexports.createStreamMiddleware = createStreamMiddleware_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nfunction safeApply(handler, context, args) {\n    try {\n        Reflect.apply(handler, context, args);\n    }\n    catch (err) {\n        // Throw error after timeout so as not to interrupt the stack\n        setTimeout(() => {\n            throw err;\n        });\n    }\n}\nfunction arrayClone(arr) {\n    const n = arr.length;\n    const copy = new Array(n);\n    for (let i = 0; i < n; i += 1) {\n        copy[i] = arr[i];\n    }\n    return copy;\n}\nclass SafeEventEmitter extends events_1.EventEmitter {\n    emit(type, ...args) {\n        let doError = type === 'error';\n        const events = this._events;\n        if (events !== undefined) {\n            doError = doError && events.error === undefined;\n        }\n        else if (!doError) {\n            return false;\n        }\n        // If there is no 'error' event listener then throw.\n        if (doError) {\n            let er;\n            if (args.length > 0) {\n                [er] = args;\n            }\n            if (er instanceof Error) {\n                // Note: The comments on the `throw` lines are intentional, they show\n                // up in Node's output if this results in an unhandled exception.\n                throw er; // Unhandled 'error' event\n            }\n            // At least give some kind of context to the user\n            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : ''}`);\n            err.context = er;\n            throw err; // Unhandled 'error' event\n        }\n        const handler = events[type];\n        if (handler === undefined) {\n            return false;\n        }\n        if (typeof handler === 'function') {\n            safeApply(handler, this, args);\n        }\n        else {\n            const len = handler.length;\n            const listeners = arrayClone(handler);\n            for (let i = 0; i < len; i += 1) {\n                safeApply(listeners[i], this, args);\n            }\n        }\n        return true;\n    }\n}\nexports.default = SafeEventEmitter;\n//# sourceMappingURL=index.js.map","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","'use strict';\n\nconst { ErrorWithCause } = require('./lib/error-with-cause'); // linemod-replace-with: export { ErrorWithCause } from './lib/error-with-cause.mjs';\n\nconst { // linemod-replace-with: export {\n  findCauseByReference,\n  getErrorCause,\n  messageWithCauses,\n  stackWithCauses,\n} = require('./lib/helpers'); // linemod-replace-with: } from './lib/helpers.mjs';\n\nmodule.exports = {      // linemod-remove\n  ErrorWithCause,       // linemod-remove\n  findCauseByReference, // linemod-remove\n  getErrorCause,        // linemod-remove\n  stackWithCauses,      // linemod-remove\n  messageWithCauses,    // linemod-remove\n};                      // linemod-remove\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","'use strict';\n\n/** @template [T=undefined] */\nexport class ErrorWithCause extends Error {\n  /**\n   * @param {string} message\n   * @param {{ cause?: T }} options\n   */\n  constructor (message, { cause } = {}) {\n    super(message);\n\n    /** @type {string} */\n    this.name = ErrorWithCause.name;\n    if (cause) {\n      /** @type {T} */\n      this.cause = cause;\n    }\n    /** @type {string} */\n    this.message = message;\n  }\n}\n","'use strict';\n\n/**\n * @template {Error} T\n * @param {unknown} err\n * @param {new(...args: any[]) => T} reference\n * @returns {T|undefined}\n */\nexport const findCauseByReference = (err, reference) => {\n  if (!err || !reference) return;\n  if (!(err instanceof Error)) return;\n  if (\n    !(reference.prototype instanceof Error) &&\n    // @ts-ignore\n    reference !== Error\n  ) return;\n\n  /**\n   * Ensures we don't go circular\n   *\n   * @type {Set<Error>}\n   */\n  const seen = new Set();\n\n  /** @type {Error|undefined} */\n  let currentErr = err;\n\n  while (currentErr && !seen.has(currentErr)) {\n    seen.add(currentErr);\n\n    if (currentErr instanceof reference) {\n      return currentErr;\n    }\n\n    currentErr = getErrorCause(currentErr);\n  }\n};\n\n/**\n * @param {Error|{ cause?: unknown|(()=>err)}} err\n * @returns {Error|undefined}\n */\nexport const getErrorCause = (err) => {\n  if (!err || typeof err !== 'object' || !('cause' in err)) {\n    return;\n  }\n\n  // VError / NError style causes\n  if (typeof err.cause === 'function') {\n    const causeResult = err.cause();\n\n    return causeResult instanceof Error\n      ? causeResult\n      : undefined;\n  } else {\n    return err.cause instanceof Error\n      ? err.cause\n      : undefined;\n  }\n};\n\n/**\n * Internal method that keeps a track of which error we have already added, to avoid circular recursion\n *\n * @private\n * @param {Error} err\n * @param {Set<Error>} seen\n * @returns {string}\n */\nconst _stackWithCauses = (err, seen) => {\n  if (!(err instanceof Error)) return '';\n\n  const stack = err.stack || '';\n\n  // Ensure we don't go circular or crazily deep\n  if (seen.has(err)) {\n    return stack + '\\ncauses have become circular...';\n  }\n\n  const cause = getErrorCause(err);\n\n  // TODO: Follow up in https://github.com/nodejs/node/issues/38725#issuecomment-920309092 on how to log stuff\n\n  if (cause) {\n    seen.add(err);\n    return (stack + '\\ncaused by: ' + _stackWithCauses(cause, seen));\n  } else {\n    return stack;\n  }\n};\n\n/**\n * @param {Error} err\n * @returns {string}\n */\nexport const stackWithCauses = (err) => _stackWithCauses(err, new Set());\n\n/**\n * Internal method that keeps a track of which error we have already added, to avoid circular recursion\n *\n * @private\n * @param {Error} err\n * @param {Set<Error>} seen\n * @param {boolean} [skip]\n * @returns {string}\n */\nconst _messageWithCauses = (err, seen, skip) => {\n  if (!(err instanceof Error)) return '';\n\n  const message = skip ? '' : (err.message || '');\n\n  // Ensure we don't go circular or crazily deep\n  if (seen.has(err)) {\n    return message + ': ...';\n  }\n\n  const cause = getErrorCause(err);\n\n  if (cause) {\n    seen.add(err);\n\n    const skipIfVErrorStyleCause = 'cause' in err && typeof err.cause === 'function';\n\n    return (message +\n      (skipIfVErrorStyleCause ? '' : ': ') +\n      _messageWithCauses(cause, seen, skipIfVErrorStyleCause));\n  } else {\n    return message;\n  }\n};\n\n/**\n * @param {Error} err\n * @returns {string}\n */\nexport const messageWithCauses = (err) => _messageWithCauses(err, new Set());\n"],"names":["_JsonRpcEngine_instances","_a","_JsonRpcEngine_isDestroyed","_JsonRpcEngine_middleware","_JsonRpcEngine_notificationHandler","_JsonRpcEngine_assertIsNotDestroyed","_JsonRpcEngine_handleBatch","_JsonRpcEngine_handle","_JsonRpcEngine_processRequest","_JsonRpcEngine_runAllMiddleware","_JsonRpcEngine_runMiddleware","_JsonRpcEngine_runReturnHandlers","_JsonRpcEngine_checkForCompletion","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__classPrivateFieldSet","receiver","state","kind","f","TypeError","has","call","set","__classPrivateFieldGet","get","__importDefault","mod","__esModule","Object","defineProperty","exports","JsonRpcEngine","rpc_errors_1","safe_event_emitter_1","utils_1","default","constructor","notificationHandler","super","add","destroy","forEach","middleware","push","handle","req","callback","Error","Array","isArray","_promiseHandle","asMiddleware","res","end","middlewareError","isComplete","returnHandlers","handlerCallback","error","request","undefined","catch","jsonify","JSON","stringify","WeakMap","WeakSet","requests","length","response","id","jsonrpc","JsonRpcError","errorCodes","rpc","invalidRequest","responses","all","map","bind","filter","callerReq","_b","method","isJsonRpcRequest","assign","_error","serializeError","middlewares","reverse","parsedError","returnHandler","internal","handlers","handler","hasProperty","createAsyncMiddleware","asyncMiddleware","resolveNextPromise","nextPromise","returnHandlerCallback","nextWasCalled","asyncNext","runReturnHandlersCallback","createScaffoldMiddleware","getUniqueId","MAX","idCounter","Math","floor","random","createIdRemapMiddleware","getUniqueId_1","_end","originalId","newId","__createBinding","create","o","m","k","k2","desc","getOwnPropertyDescriptor","writable","configurable","enumerable","__exportStar","p","prototype","hasOwnProperty","mergeMiddleware","JsonRpcEngine_1","middlewareStack","engine","events_1","safeApply","context","args","Reflect","err","setTimeout","SafeEventEmitter","EventEmitter","emit","type","doError","events","_events","er","message","len","listeners","arr","n","copy","i","arrayClone","ObjectMultiplex","readable_stream_1","once_1","Substream_1","IGNORE_SUBSTREAM","Symbol","Duplex","opts","objectMode","_substreams","createStream","name","destroyed","_readableState","ended","_writableState","substream","Substream","parent","stream","_cb","cb","finished","readable","anyStreamEnd","ignoreStream","_read","_write","chunk","_encoding","data","console","warn","_parent","_name","ObjectMultiplex_1","module","_BaseProvider_chainId","_BaseProvider_selectedAddress","BaseProvider","json_rpc_engine_1","fast_deep_equal_1","messages_1","logger","maxEventListeners","rpcMiddleware","_log","setMaxListeners","_state","_defaultState","_handleAccountsChanged","_handleConnect","_handleChainChanged","_handleDisconnect","_handleUnlockStateChanged","_rpcRequest","rpcEngine","_rpcEngine","chainId","selectedAddress","isConnected","rpcErrors","errors","invalidRequestArgs","params","invalidRequestMethod","invalidRequestParams","payload","getRpcPromiseCallback","_initializeState","initialState","initialized","accounts","isUnlocked","networkVersion","callbackWrapper","debug","info","connected","isRecoverable","errorMessage","isPermanentlyDisconnected","disconnected","permanentlyDisconnected","isValidChainId","invalidNetworkParams","isEthAccounts","_accounts","account","_nextAccounts","announceProvider","requestProvider","EIP6963EventNames","UUID_V4_REGEX","FQDN_REGEX","isValidProviderDetail","providerDetail","isObject","provider","uuid","test","Boolean","icon","startsWith","rdns","throwErrorEIP6963","handleProvider","window","addEventListener","Announce","event","CustomEvent","isFrozen","detail","isValidAnnounceProviderEvent","dispatchEvent","Event","Request","_announceProvider","freeze","isValidRequestProviderEvent","_MetaMaskInpageProvider_networkVersion","MetaMaskInpageProvider","MetaMaskInpageProviderStreamName","siteMetadata_1","StreamProvider_1","AbstractStreamProvider","connectionStream","jsonRpcStreamName","shouldSendMetadata","getDefaultExternalMiddleware","_sentWarnings","enable","experimentalMethods","send","close","networkChanged","notification","_initializeStateAsync","isMetaMask","_sendSync","sendAsync","_warnOfDeprecation","_metamask","_getExperimentalApi","_jsonRpcConnection","on","EMITTED_NOTIFICATIONS","includes","document","readyState","sendSiteMetadata","domContentLoadedHandler","removeEventListener","warnings","chainIdDeprecation","networkVersionDeprecation","selectedAddressDeprecation","addListener","eventName","listener","once","prependListener","prependOnceListener","enableDeprecation","methodOrPayload","callbackOrArgs","sendDeprecation","NOOP","unsupportedSync","Proxy","async","requestBatch","obj","prop","StreamProvider","object_multiplex_1","is_stream_1","json_rpc_middleware_stream_1","BaseProvider_1","duplex","invalidDuplexStream","_handleStreamDisconnect","mux","pipeline","createStreamMiddleware","retryOnMessage","streamName","warningMsg","stack","listenerCount","isValidNetworkVersion","initialize","ERC20","ERC1155","ERC721","createExternalExtensionProvider","detect_browser_1","extension_port_stream_1","external_extension_config_json_1","MetaMaskInpageProvider_1","browser","detect","typeOrId","extensionId","firefoxIds","chromeIds","getExtensionId","metamaskPort","chrome","runtime","connect","pluginStream","dir","eip6963RequestProvider","eip6963AnnounceProvider","shimWeb3","setGlobalProvider","initializeProvider","EIP6963_1","createExternalExtensionProvider_1","initializeInpageProvider_1","shimWeb3_1","providerInstance","ethereum","providerInfo","shouldSetOnWindow","shouldShimWeb3","proxiedProvider","deleteProperty","target","propName","messages","invalidLoggerObject","invalidLoggerMethod","ethDecryptDeprecation","ethGetEncryptionPublicKeyDeprecation","walletWatchAssetNFTExperimental","createRpcWarningMiddleware","constants_1","log","sentWarnings","_res","loggedCurrentProvider","loggedMissingProperty","web3","SHIM_IDENTIFIER","web3Shim","currentProvider","property","getSiteName","windowObject","siteName","querySelector","content","metaTitle","title","location","hostname","getSiteIcon","icons","querySelectorAll","from","imgExists","href","url","img","createElement","onload","onerror","src","domainMetadata","getSiteMetadata","originalError","createRpcWarningMiddleware_1","unwrapResult","EthereumProviderError","fast_safe_stringify_1","utils_2","code","Number","isInteger","serialize","serialized","isPlainObject","cause","serializeCause","toString","stringifyReplacer","_","isValidEthProviderCode","errorValues","invalidInput","resourceNotFound","resourceUnavailable","transactionRejected","methodNotSupported","limitExceeded","parse","methodNotFound","invalidParams","userRejectedRequest","unauthorized","unsupportedMethod","chainDisconnected","standard","providerErrors","classes_1","error_constants_1","getJsonRpcError","arg","parseOpts","getMessageFromCode","getEthProviderError","server","custom","errors_1","isValidCode","JSON_RPC_SERVER_ERROR_MESSAGE","FALLBACK_ERROR_CODE","FALLBACK_ERROR","fallbackMessage","codeString","isJsonRpcServerError","entry","isValidJson","serializeObject","object","getOwnPropertyNames","reduce","acc","key","fallbackError","shouldIncludeStack","isJsonRpcError","fallbackWithCause","buildError","_debug","globalLogger","createProjectLogger","projectName","extend","createModuleLogger","projectLogger","moduleName","__accessCheck","member","msg","__privateGet","getter","__privateAdd","__privateSet","setter","_chunk6ZDHSOUVjs","_semver","_superstruct","VersionStruct","refine","string","valid","VersionRangeStruct","validRange","isValidSemVerVersion","version","is","isValidSemVerRange","versionRange","assertIsSemVerVersion","assertStruct","assertIsSemVerRange","range","gtVersion","version1","version2","gt","gtRange","gtr","satisfiesVersionRange","satisfies","includePrerelease","Duration","Duration2","assertIsNonNegativeInteger","number","isNonNegativeInteger","inMilliseconds","count","duration","timeSince","timestamp","Date","now","_nullishCoalesce","lhs","rhsFn","base64","struct","options","paddingRequired","characterSet","letters","re","String","raw","assert","RegExp","pattern","_chunkIZC266HSjs","getError","ErrorWrapper","ops","lastAccessLHS","op","fn","_optionalChain","_2","_3","AssertionError","errorPrefix","getErrorMessage","replace","getErrorMessageWithoutTrailingPeriod","assertExhaustive","_object","_chunkQEPVHEP7js","NumberLikeStruct","union","bigint","StrictHexStruct","NumberCoercer","coerce","BigIntCoercer","BigInt","BytesCoercer","instance","Uint8Array","hexToBytes","HexCoercer","bytesToHex","createNumber","isFinite","StructError","createBigInt","createBytes","toLowerCase","createHex","_chunk6NZW4WK4js","ChecksumStruct","size","_chunkQVEKZRZ2js","_ponycause","isErrorWithCode","isErrorWithMessage","isErrorWithStack","isNullOrUndefined","wrapError","ErrorWithCause","schema","hasOptional","path","branch","field","exactOptional","Struct","validator","refiner","UnsafeJsonStruct","literal","boolean","define","array","lazy","record","JsonStruct","any","propKey","propValue","getSafeJson","JsonRpcVersionStruct","JsonRpcIdStruct","nullable","JsonRpcErrorStruct","integer","JsonRpcParamsStruct","JsonRpcRequestStruct","JsonRpcNotificationStruct","PendingJsonRpcResponseStruct","optional","unknown","JsonRpcSuccessStruct","JsonRpcFailureStruct","JsonRpcResponseStruct","getJsonSize","json","TextEncoder","encode","byteLength","jsonrpc2","isJsonRpcNotification","assertIsJsonRpcNotification","assertIsJsonRpcRequest","isPendingJsonRpcResponse","assertIsPendingJsonRpcResponse","isJsonRpcResponse","assertIsJsonRpcResponse","isJsonRpcSuccess","assertIsJsonRpcSuccess","isJsonRpcFailure","assertIsJsonRpcFailure","assertIsJsonRpcError","getJsonRpcIdValidator","permitEmptyString","permitFractions","permitNull","_sha3","_base","HEX_MINIMUM_NUMBER_CHARACTER","HEX_MAXIMUM_NUMBER_CHARACTER","HEX_CHARACTER_OFFSET","getPrecomputedHexValues","lookupTable","padStart","getPrecomputedHexValuesBuilder","isBytes","assertIsBytes","bytes","hexadecimal","add0x","join","bytesToBigInt","assertIsHexString","strippedValue","remove0x","normalizedValue","c1","charCodeAt","c2","n1","n2","bigIntToBytes","numberToBytes","isSafeInteger","stringToBytes","valueToBytes","HexStruct","HexAddressStruct","HexChecksumAddressStruct","isHexString","isStrictHexString","getChecksumAddress","address","unPrefixed","unPrefixedHash","keccak_256","split","character","nibbleIndex","hashCharacter","parseInt","toUpperCase","isValidChecksumAddress","possibleChecksum","substring","assertIsStrictHexString","isValidHexAddress","possibleAddress","bytesToSignedBigInt","byte","asIntN","bytesToNumber","MAX_SAFE_INTEGER","bytesToString","TextDecoder","decode","bytesToBase64","signedBigIntToBytes","mask","bigIntFits","numberValue","asUintN","base64ToBytes","concatBytes","values","normalizedValues","offset","createDataView","Buffer","buffer","slice","byteOffset","DataView","JsonSize","JsonSize2","ESCAPE_CHARACTERS_REGEXP","isASCII","isNonEmptyArray","objectToCheck","getKnownPropertyNames","proto","getPrototypeOf","calculateStringSize","total","match","calculateNumberSize","CAIP_CHAIN_ID_REGEX","CAIP_NAMESPACE_REGEX","CAIP_REFERENCE_REGEX","CAIP_ACCOUNT_ID_REGEX","CAIP_ACCOUNT_ADDRESS_REGEX","CaipChainIdStruct","CaipNamespaceStruct","CaipReferenceStruct","CaipAccountIdStruct","CaipAccountAddressStruct","isCaipChainId","isCaipNamespace","isCaipReference","isCaipAccountId","isCaipAccountAddress","parseCaipChainId","caipChainId","exec","groups","namespace","reference","parseCaipAccountId","caipAccountId","accountAddress","chain","numberToHex","bigIntToHex","hexToNumber","hexToBigInt","_map","_set","_chunk3W5G4CYIjs","FrozenMap","entries","Map","iterator","callbackfn","_map2","keys","FrozenSet","Set","value2","_set2","_chunkVFXTVNXNjs","_chunk4RMX5YWEjs","_chunk4D6XQBHAjs","_chunkOLLG4H35js","_chunk2LBGT4GHjs","_chunkU7ZUGCE7js","_chunkE4C7EW4Rjs","_chunkDHVKFDHQjs","_chunkZ2RGWDD7js","bool","b","lengths","hash","outputLen","blockLen","exists","checkFinished","output","out","min","add5L","add5H","add4H","add4L","add3H","add3L","rotlBL","rotlBH","rotlSL","rotlSH","rotr32L","rotr32H","rotrBL","rotrBH","rotrSL","rotrSH","shrSL","shrSH","toBig","fromBig","U32_MASK64","_32n","le","h","l","lst","Ah","Uint32Array","Al","_l","s","_h","Bh","Bl","Cl","low","Ch","Dl","Dh","El","Eh","u64","crypto","globalThis","shake256","shake128","keccak_512","keccak_384","keccak_224","sha3_512","sha3_384","sha3_256","sha3_224","Keccak","keccakP","_assert_js_1","_u64_js_1","utils_js_1","SHA3_PI","SHA3_ROTL","_SHA3_IOTA","_0n","_1n","_2n","_7n","_256n","_0x71n","round","R","x","y","t","j","SHA3_IOTA_H","SHA3_IOTA_L","rotlH","rotlL","rounds","B","idx1","idx0","B0","B1","Th","Tl","curH","curL","shift","PI","fill","Hash","suffix","enableXOF","pos","posOut","state32","u32","keccak","update","toBytes","take","finish","writeInto","bufferOut","subarray","xofInto","xof","digestInto","digest","_cloneInto","to","gen","wrapConstructor","genShake","wrapXOFConstructorWithOpts","dkLen","randomBytes","wrapConstructorWithOpts","checkOpts","utf8ToBytes","asyncLoop","nextTick","isLE","rotr","createView","u8","crypto_1","u8a","a","word","hexes","hex","hexByte","isNaN","str","iters","tick","ts","diff","arrays","r","sum","pad","clone","toStr","defaults","hashCons","hashC","tmp","bytesLength","getRandomValues","assertNumber","wrap","c","alphabet","digits","input","letter","index","indexOf","separator","padding","bits","chr","normalize","convertRadix","d","carry","digit","digitBase","rounded","utf8","bech32m","bech32","base58check","base58xmr","base58xrp","base58flickr","base58","base64urlnopad","base64url","base32crockford","base32hex","base32","base16","utils","gcd","radix2carry","convertRadix2","radix","num","radix2","revPadding","unsafeWrapper","checksum","newChecksum","oldChecksum","genBase58","abc","XMR_BLOCK_LEN","block","concat","sha256","BECH_ALPHABET","POLYMOD_GENERATORS","bech32Polymod","pre","chk","bechChecksum","prefix","words","encodingConst","v","genBech32","encoding","ENCODING_CONST","_words","fromWords","toWords","fromWordsUnsafe","limit","lowered","sepIndex","lastIndexOf","endsWith","actualLength","decodeToBytes","decodeUnsafe","CODERS","coderTypeError","AbortController","AbortSignal","self","__spreadArray","pack","arguments","ar","BrowserInfo","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","REQUIRED_VERSION_PARTS","userAgentRules","operatingSystemRules","userAgent","parseUserAgent","navigator","product","getNodeVersion","matchUserAgent","ua","matched","regex","uaMatch","browserName","matchedRule","versionParts","ii","createVersionParts","detectOS","searchBotMatch","PortDuplexStream","port","_port","onMessage","_onMessage","onDisconnect","_onDisconnect","isBuffer","toJSON","_isBuffer","postMessage","_setLogger","AbortError","codes","isNodeStream","isWebStream","kControllerErrorFunction","eos","ERR_INVALID_ARG_TYPE","addAbortSignal","signal","validateAbortSignal","addAbortSignalNoValidate","onAbort","reason","aborted","StringPrototypeSlice","SymbolIterator","TypedArrayPrototypeSet","inspect","head","tail","unshift","ret","clear","alloc","allocUnsafe","consume","hasStrings","_getString","_getBuffer","first","retLen","buf","for","depth","customInspect","destroyer","isReadable","isWritable","isTransformStream","isWritableStream","isReadableStream","ERR_INVALID_ARG_VALUE","ERR_MISSING_ARGS","streams","orgStreams","idx","ondrain","onfinish","onreadable","onclose","writableObjectMode","readableObjectMode","write","_final","writer","getWriter","ready","toRead","read","reader","getReader","_destroy","aggregateTwoErrors","ERR_MULTIPLE_CALLBACK","kDestroyed","isDestroyed","isFinished","isServerRequest","kDestroy","kConstruct","checkError","w","errored","called","onDestroy","closed","emitErrorCloseNT","emitCloseNT","emitErrorNT","closeEmitted","emitClose","errorEmitted","errorOrDestroy","sync","autoDestroy","constructNT","onConstruct","constructed","emitConstructNT","_construct","isRequest","setHeader","abort","emitCloseLegacy","emitErrorCloseLegacy","construct","socket","undestroy","reading","endEmitted","finalCalled","prefinished","ending","ObjectDefineProperties","ObjectGetOwnPropertyDescriptor","ObjectKeys","ObjectSetPrototypeOf","Readable","Writable","allowHalfOpen","webStreamsAdapters","duplexify","lazyWebStreams","__proto__","writableHighWaterMark","writableBuffer","writableLength","writableFinished","writableCorked","writableEnded","writableNeedDrain","fromWeb","pair","newStreamDuplexFromReadableWritablePair","toWeb","newReadableWritablePairFromDuplex","body","bufferModule","isIterable","isReadableNodeStream","isWritableNodeStream","isDuplexNodeStream","ERR_INVALID_RETURN_VALUE","createDeferredPromise","Blob","isBlob","FunctionPrototypeCall","Duplexify","_duplexify","onfinished","final","promise","ac","_promise","_resolve","fromAsyncGen","val","arrayBuffer","ERR_STREAM_PREMATURE_CLOSE","kEmptyObject","validateFunction","validateObject","validateBoolean","PromisePrototypeThen","isClosed","isReadableFinished","isReadableErrored","isWritableFinished","isWritableErrored","willEmitClose","_willEmitClose","kIsClosedPromise","nop","_options$readable","_options$writable","isAborted","originalCallback","resolverFn","eosWeb","wState","rState","onlegacyfinish","readableFinished","onend","onclosed","onrequest","cleanup","removeListener","endCallback","_opts","autoCleanup","SymbolAsyncIterator","ERR_STREAM_NULL_VALUES","iterable","isAsync","highWaterMark","hadError","hasThrow","throw","return","ArrayIsArray","EE","Stream","emitter","pipe","dest","source","ondata","pause","resume","_isStdio","didOnEnd","ERR_OUT_OF_RANGE","validateInteger","kWeakHandler","staticCompose","ArrayPrototypePush","MathFloor","NumberIsNaN","PromiseReject","kEmpty","kEof","concurrency","_options$signal","_options$signal2","queue","signalOpt","onDone","_val","_options$signal3","pump","some","unused","ReduceAwareErrMissingArgs","toIntegerOrInfinity","streamReturningOperators","asIndexedPairs","_options$signal4","drop","_options$signal8","_options$signal9","flatMap","_options$signal10","_options$signal11","compose","composedStream","promiseReturningOperators","every","reducer","initialValue","_options$signal5","hasInitialValue","gotAnyItemFromStream","_options$signal6","toArray","_options$signal7","find","PassThrough","Transform","_transform","destroyImpl","ERR_STREAM_DESTROYED","isReadableEnded","writing","makeAsyncIterable","fromReadable","pumpToNode","onresolve","wait","off","pumpToWeb","pipelineImpl","outerSignal","lastStreamCleanup","finishImpl","destroys","finishCount","isLastStream","onError","_ret","_ret2","pt","dst","endFn","pop","popCallback","ArrayPrototypeIndexOf","NumberIsInteger","NumberParseInt","SafeSet","ReadableState","BufferList","getHighWaterMark","getDefaultHighWaterMark","ERR_METHOD_NOT_IMPLEMENTED","ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","kPaused","StringDecoder","isDuplex","pipes","flowing","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","awaitDrainWriters","multiAwaitDrain","readingMore","dataEmitted","decoder","maybeReadMore","readableAddChunk","addToFront","_isUint8Array","_uint8ArrayToBuffer","emitReadable","emitReadable_","onEofChunk","addChunk","_undestroy","captureRejectionSymbol","isPaused","setEncoding","enc","howMuchToRead","flow","maybeReadMore_","updateReadableListening","nReadingNextTick","resume_","streamToAsyncIterator","iter","destroyOnReturn","createAsyncIterator","fromList","endReadable","endReadableNT","endWritableNT","NaN","nOrig","computeNewHighWaterMark","doRead","pipeOpts","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","cleanedUp","needDrain","delete","pipeOnDrain","dests","splice","ev","removeAllListeners","paused","streamKeys","readableDidRead","readableAborted","readableHighWaterMark","readableBuffer","readableFlowing","readableLength","readableEncoding","readableEnded","pipesCount","_fromList","readableStream","newStreamReadableFromReadableStream","streamReadable","newReadableStreamFromStreamReadable","_ref","_src$readableObjectMo","duplexKey","hwm","highWaterMarkFrom","kCallback","transform","flush","_flush","prefinish","SymbolFor","kIsErrored","kIsReadable","kIsDisturbed","strict","_obj$_readableState","_obj$_writableState","pipeThrough","cancel","isWritableEnded","isOutgoingMessage","_closed","_defaultKeepAlive","_removedConnection","_removedContLen","isServerResponse","_sent100","isDisturbed","_stream$kIsDisturbed","isErrored","_ref2","_ref3","_ref4","_ref5","_stream$kIsErrored","_stream$_readableStat3","_stream$_writableStat3","_stream$_readableStat4","_stream$_writableStat4","readableErrored","writableErrored","_stream$_readableStat","_stream$_readableStat2","_stream$_writableStat","_stream$_writableStat2","_stream$req","_consuming","_dumped","upgradeOrConnect","ArrayPrototypeSlice","FunctionPrototypeSymbolHasInstance","ObjectDefineProperty","StringPrototypeToLowerCase","SymbolHasInstance","WritableState","ERR_STREAM_CANNOT_PIPE","ERR_STREAM_ALREADY_FINISHED","ERR_STREAM_WRITE_AFTER_END","ERR_UNKNOWN_ENCODING","kOnFinished","noDecode","decodeStrings","corked","bufferProcessing","onwrite","writecb","writelen","afterWriteTickInfo","resetBuffer","pendingcb","buffered","bufferedIndex","allBuffers","allNoop","writev","_writev","clearBuffer","finishMaybe","isEncoding","writeOrBuffer","doWrite","onwriteError","errorBuffer","afterWriteTick","afterWrite","_state$errored","onfinishCallbacks","_state$errored2","bufferedLength","chunks","needFinish","onFinish","callFinal","getBuffer","cork","uncork","setDefaultEncoding","writableAborted","writableStream","newStreamWritableFromWritableStream","streamWritable","newWritableStreamFromStreamWritable","ArrayPrototypeIncludes","ArrayPrototypeJoin","ArrayPrototypeMap","NumberMAX_SAFE_INTEGER","NumberMIN_SAFE_INTEGER","ObjectPrototypeHasOwnProperty","RegExpPrototypeExec","StringPrototypeToUpperCase","StringPrototypeTrim","hideStackFrames","ERR_SOCKET_BAD_PORT","ERR_UNKNOWN_SIGNAL","normalizeEncoding","isAsyncFunction","isArrayBufferView","signals","octalReg","max","validateInt32","validateUint32","positive","validateString","validateOneOf","oneOf","allowed","getOwnPropertyValueOrDefault","defaultValue","allowArray","allowFunction","validateDictionary","validateArray","minLength","validateBuffer","validatePlainFunction","validateUndefined","linkValueRegExp","validateLinkHeaderFormat","isInt32","isUint32","parseFileMode","def","validateStringArray","validateBooleanArray","validateEncoding","normalizedEncoding","validateNumber","validatePort","allowZero","validateSignalName","validateUnion","validateLinkHeaderValue","hints","hintsLength","link","CustomStream","promises","originalDestroy","format","AggregateError","CustomAggregateError","kIsNodeError","kTypes","classRegExp","ERR_INTERNAL_ASSERTION","addNumericalSeparator","start","E","Base","NodeError","expectedLength","getMessage","defineProperties","hidden","expected","actual","types","instances","other","last","_actual$constructor","inspected","colors","_value$constructor","received","abs","RangeError","innerError","outerError","el","sep","ArrayPrototypePop","thisArgs","Function","hasInstance","MIN_SAFE_INTEGER","props","setPrototypeOf","PromisePrototypeCatch","thenFn","catchFn","ReflectApply","RegExpPrototypeTest","trim","asyncIterator","AsyncFunction","rej","promisify","debuglog","_unused","replacement","toFixed","ArrayBuffer","isView","customPromisify","ERR_ILLEGAL_CONSTRUCTOR","pl","lastArg","equal","flags","valueOf","stable","deterministicStringify","stableStringify","LIMIT_REPLACE_NODE","CIRCULAR_REPLACE_NODE","replacerStack","defaultOptions","depthLimit","edgesLimit","replacer","spacer","decirc","replaceGetterValues","part","setReplace","propertyDescriptor","edgeIndex","compareFunction","deterministicDecirc","sort","isStream","streamWriteCallback","_err","idMap","errorObj","notif","retryCount","sendToStream","processNotification","responseId","processResponse","createEngineStream","createEngineStream_1","createStreamMiddleware_1","wrappy","onceStrict","onceError","findCauseByReference","getErrorCause","messageWithCauses","stackWithCauses","wrapper","seen","currentErr","causeResult","_stackWithCauses","_messageWithCauses","skip","skipIfVErrorStyleCause"],"sourceRoot":""}